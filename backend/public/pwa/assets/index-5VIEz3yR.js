(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const b of document.querySelectorAll('link[rel="modulepreload"]'))p(b);new MutationObserver(b=>{for(const E of b)if(E.type==="childList")for(const C of E.addedNodes)C.tagName==="LINK"&&C.rel==="modulepreload"&&p(C)}).observe(document,{childList:!0,subtree:!0});function h(b){const E={};return b.integrity&&(E.integrity=b.integrity),b.referrerPolicy&&(E.referrerPolicy=b.referrerPolicy),b.crossOrigin==="use-credentials"?E.credentials="include":b.crossOrigin==="anonymous"?E.credentials="omit":E.credentials="same-origin",E}function p(b){if(b.ep)return;b.ep=!0;const E=h(b);fetch(b.href,E)}})();var fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ex(u){return u&&u.__esModule&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u}var Nf={exports:{}},Ds={};var uh;function bx(){if(uh)return Ds;uh=1;var u=Symbol.for("react.transitional.element"),d=Symbol.for("react.fragment");function h(p,b,E){var C=null;if(E!==void 0&&(C=""+E),b.key!==void 0&&(C=""+b.key),"key"in b){E={};for(var N in b)N!=="key"&&(E[N]=b[N])}else E=b;return b=E.ref,{$$typeof:u,type:p,key:C,ref:b!==void 0?b:null,props:E}}return Ds.Fragment=d,Ds.jsx=h,Ds.jsxs=h,Ds}var fh;function wx(){return fh||(fh=1,Nf.exports=bx()),Nf.exports}var R=wx(),Of={exports:{}},Qe={};var dh;function Ax(){if(dh)return Qe;dh=1;var u=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),E=Symbol.for("react.consumer"),C=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),w=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),te=Symbol.iterator;function $(z){return z===null||typeof z!="object"?null:(z=te&&z[te]||z["@@iterator"],typeof z=="function"?z:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,K={};function Ee(z,le,ve){this.props=z,this.context=le,this.refs=K,this.updater=ve||W}Ee.prototype.isReactComponent={},Ee.prototype.setState=function(z,le){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,le,"setState")},Ee.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function de(){}de.prototype=Ee.prototype;function ae(z,le,ve){this.props=z,this.context=le,this.refs=K,this.updater=ve||W}var ce=ae.prototype=new de;ce.constructor=ae,Z(ce,Ee.prototype),ce.isPureReactComponent=!0;var Fe=Array.isArray;function Me(){}var P={H:null,A:null,T:null,S:null},Re=Object.prototype.hasOwnProperty;function X(z,le,ve){var me=ve.ref;return{$$typeof:u,type:z,key:le,ref:me!==void 0?me:null,props:ve}}function Oe(z,le){return X(z.type,le,z.props)}function Ge(z){return typeof z=="object"&&z!==null&&z.$$typeof===u}function Ce(z){var le={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(ve){return le[ve]})}var je=/\/+/g;function Je(z,le){return typeof z=="object"&&z!==null&&z.key!=null?Ce(""+z.key):le.toString(36)}function re(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(Me,Me):(z.status="pending",z.then(function(le){z.status==="pending"&&(z.status="fulfilled",z.value=le)},function(le){z.status==="pending"&&(z.status="rejected",z.reason=le)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function J(z,le,ve,me,Ye){var ye=typeof z;(ye==="undefined"||ye==="boolean")&&(z=null);var it=!1;if(z===null)it=!0;else switch(ye){case"bigint":case"string":case"number":it=!0;break;case"object":switch(z.$$typeof){case u:case d:it=!0;break;case D:return it=z._init,J(it(z._payload),le,ve,me,Ye)}}if(it)return Ye=Ye(z),it=me===""?"."+Je(z,0):me,Fe(Ye)?(ve="",it!=null&&(ve=it.replace(je,"$&/")+"/"),J(Ye,le,ve,"",function(On){return On})):Ye!=null&&(Ge(Ye)&&(Ye=Oe(Ye,ve+(Ye.key==null||z&&z.key===Ye.key?"":(""+Ye.key).replace(je,"$&/")+"/")+it)),le.push(Ye)),1;it=0;var tt=me===""?".":me+":";if(Fe(z))for(var Tt=0;Tt<z.length;Tt++)me=z[Tt],ye=tt+Je(me,Tt),it+=J(me,le,ve,ye,Ye);else if(Tt=$(z),typeof Tt=="function")for(z=Tt.call(z),Tt=0;!(me=z.next()).done;)me=me.value,ye=tt+Je(me,Tt++),it+=J(me,le,ve,ye,Ye);else if(ye==="object"){if(typeof z.then=="function")return J(re(z),le,ve,me,Ye);throw le=String(z),Error("Objects are not valid as a React child (found: "+(le==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":le)+"). If you meant to render a collection of children, use an array instead.")}return it}function fe(z,le,ve){if(z==null)return z;var me=[],Ye=0;return J(z,me,"","",function(ye){return le.call(ve,ye,Ye++)}),me}function Be(z){if(z._status===-1){var le=z._result;le=le(),le.then(function(ve){(z._status===0||z._status===-1)&&(z._status=1,z._result=ve)},function(ve){(z._status===0||z._status===-1)&&(z._status=2,z._result=ve)}),z._status===-1&&(z._status=0,z._result=le)}if(z._status===1)return z._result.default;throw z._result}var et=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var le=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(le))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ot={map:fe,forEach:function(z,le,ve){fe(z,function(){le.apply(this,arguments)},ve)},count:function(z){var le=0;return fe(z,function(){le++}),le},toArray:function(z){return fe(z,function(le){return le})||[]},only:function(z){if(!Ge(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Qe.Activity=M,Qe.Children=ot,Qe.Component=Ee,Qe.Fragment=h,Qe.Profiler=b,Qe.PureComponent=ae,Qe.StrictMode=p,Qe.Suspense=I,Qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,Qe.__COMPILER_RUNTIME={__proto__:null,c:function(z){return P.H.useMemoCache(z)}},Qe.cache=function(z){return function(){return z.apply(null,arguments)}},Qe.cacheSignal=function(){return null},Qe.cloneElement=function(z,le,ve){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var me=Z({},z.props),Ye=z.key;if(le!=null)for(ye in le.key!==void 0&&(Ye=""+le.key),le)!Re.call(le,ye)||ye==="key"||ye==="__self"||ye==="__source"||ye==="ref"&&le.ref===void 0||(me[ye]=le[ye]);var ye=arguments.length-2;if(ye===1)me.children=ve;else if(1<ye){for(var it=Array(ye),tt=0;tt<ye;tt++)it[tt]=arguments[tt+2];me.children=it}return X(z.type,Ye,me)},Qe.createContext=function(z){return z={$$typeof:C,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:E,_context:z},z},Qe.createElement=function(z,le,ve){var me,Ye={},ye=null;if(le!=null)for(me in le.key!==void 0&&(ye=""+le.key),le)Re.call(le,me)&&me!=="key"&&me!=="__self"&&me!=="__source"&&(Ye[me]=le[me]);var it=arguments.length-2;if(it===1)Ye.children=ve;else if(1<it){for(var tt=Array(it),Tt=0;Tt<it;Tt++)tt[Tt]=arguments[Tt+2];Ye.children=tt}if(z&&z.defaultProps)for(me in it=z.defaultProps,it)Ye[me]===void 0&&(Ye[me]=it[me]);return X(z,ye,Ye)},Qe.createRef=function(){return{current:null}},Qe.forwardRef=function(z){return{$$typeof:N,render:z}},Qe.isValidElement=Ge,Qe.lazy=function(z){return{$$typeof:D,_payload:{_status:-1,_result:z},_init:Be}},Qe.memo=function(z,le){return{$$typeof:w,type:z,compare:le===void 0?null:le}},Qe.startTransition=function(z){var le=P.T,ve={};P.T=ve;try{var me=z(),Ye=P.S;Ye!==null&&Ye(ve,me),typeof me=="object"&&me!==null&&typeof me.then=="function"&&me.then(Me,et)}catch(ye){et(ye)}finally{le!==null&&ve.types!==null&&(le.types=ve.types),P.T=le}},Qe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},Qe.use=function(z){return P.H.use(z)},Qe.useActionState=function(z,le,ve){return P.H.useActionState(z,le,ve)},Qe.useCallback=function(z,le){return P.H.useCallback(z,le)},Qe.useContext=function(z){return P.H.useContext(z)},Qe.useDebugValue=function(){},Qe.useDeferredValue=function(z,le){return P.H.useDeferredValue(z,le)},Qe.useEffect=function(z,le){return P.H.useEffect(z,le)},Qe.useEffectEvent=function(z){return P.H.useEffectEvent(z)},Qe.useId=function(){return P.H.useId()},Qe.useImperativeHandle=function(z,le,ve){return P.H.useImperativeHandle(z,le,ve)},Qe.useInsertionEffect=function(z,le){return P.H.useInsertionEffect(z,le)},Qe.useLayoutEffect=function(z,le){return P.H.useLayoutEffect(z,le)},Qe.useMemo=function(z,le){return P.H.useMemo(z,le)},Qe.useOptimistic=function(z,le){return P.H.useOptimistic(z,le)},Qe.useReducer=function(z,le,ve){return P.H.useReducer(z,le,ve)},Qe.useRef=function(z){return P.H.useRef(z)},Qe.useState=function(z){return P.H.useState(z)},Qe.useSyncExternalStore=function(z,le,ve){return P.H.useSyncExternalStore(z,le,ve)},Qe.useTransition=function(){return P.H.useTransition()},Qe.version="19.2.3",Qe}var hh;function qf(){return hh||(hh=1,Of.exports=Ax()),Of.exports}var H=qf();const Sx=Ex(H);var _f={exports:{}},Ms={},If={exports:{}},Df={};var gh;function Cx(){return gh||(gh=1,(function(u){function d(J,fe){var Be=J.length;J.push(fe);e:for(;0<Be;){var et=Be-1>>>1,ot=J[et];if(0<b(ot,fe))J[et]=fe,J[Be]=ot,Be=et;else break e}}function h(J){return J.length===0?null:J[0]}function p(J){if(J.length===0)return null;var fe=J[0],Be=J.pop();if(Be!==fe){J[0]=Be;e:for(var et=0,ot=J.length,z=ot>>>1;et<z;){var le=2*(et+1)-1,ve=J[le],me=le+1,Ye=J[me];if(0>b(ve,Be))me<ot&&0>b(Ye,ve)?(J[et]=Ye,J[me]=Be,et=me):(J[et]=ve,J[le]=Be,et=le);else if(me<ot&&0>b(Ye,Be))J[et]=Ye,J[me]=Be,et=me;else break e}}return fe}function b(J,fe){var Be=J.sortIndex-fe.sortIndex;return Be!==0?Be:J.id-fe.id}if(u.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var E=performance;u.unstable_now=function(){return E.now()}}else{var C=Date,N=C.now();u.unstable_now=function(){return C.now()-N}}var I=[],w=[],D=1,M=null,te=3,$=!1,W=!1,Z=!1,K=!1,Ee=typeof setTimeout=="function"?setTimeout:null,de=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function ce(J){for(var fe=h(w);fe!==null;){if(fe.callback===null)p(w);else if(fe.startTime<=J)p(w),fe.sortIndex=fe.expirationTime,d(I,fe);else break;fe=h(w)}}function Fe(J){if(Z=!1,ce(J),!W)if(h(I)!==null)W=!0,Me||(Me=!0,Ce());else{var fe=h(w);fe!==null&&re(Fe,fe.startTime-J)}}var Me=!1,P=-1,Re=5,X=-1;function Oe(){return K?!0:!(u.unstable_now()-X<Re)}function Ge(){if(K=!1,Me){var J=u.unstable_now();X=J;var fe=!0;try{e:{W=!1,Z&&(Z=!1,de(P),P=-1),$=!0;var Be=te;try{t:{for(ce(J),M=h(I);M!==null&&!(M.expirationTime>J&&Oe());){var et=M.callback;if(typeof et=="function"){M.callback=null,te=M.priorityLevel;var ot=et(M.expirationTime<=J);if(J=u.unstable_now(),typeof ot=="function"){M.callback=ot,ce(J),fe=!0;break t}M===h(I)&&p(I),ce(J)}else p(I);M=h(I)}if(M!==null)fe=!0;else{var z=h(w);z!==null&&re(Fe,z.startTime-J),fe=!1}}break e}finally{M=null,te=Be,$=!1}fe=void 0}}finally{fe?Ce():Me=!1}}}var Ce;if(typeof ae=="function")Ce=function(){ae(Ge)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,Je=je.port2;je.port1.onmessage=Ge,Ce=function(){Je.postMessage(null)}}else Ce=function(){Ee(Ge,0)};function re(J,fe){P=Ee(function(){J(u.unstable_now())},fe)}u.unstable_IdlePriority=5,u.unstable_ImmediatePriority=1,u.unstable_LowPriority=4,u.unstable_NormalPriority=3,u.unstable_Profiling=null,u.unstable_UserBlockingPriority=2,u.unstable_cancelCallback=function(J){J.callback=null},u.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Re=0<J?Math.floor(1e3/J):5},u.unstable_getCurrentPriorityLevel=function(){return te},u.unstable_next=function(J){switch(te){case 1:case 2:case 3:var fe=3;break;default:fe=te}var Be=te;te=fe;try{return J()}finally{te=Be}},u.unstable_requestPaint=function(){K=!0},u.unstable_runWithPriority=function(J,fe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var Be=te;te=J;try{return fe()}finally{te=Be}},u.unstable_scheduleCallback=function(J,fe,Be){var et=u.unstable_now();switch(typeof Be=="object"&&Be!==null?(Be=Be.delay,Be=typeof Be=="number"&&0<Be?et+Be:et):Be=et,J){case 1:var ot=-1;break;case 2:ot=250;break;case 5:ot=1073741823;break;case 4:ot=1e4;break;default:ot=5e3}return ot=Be+ot,J={id:D++,callback:fe,priorityLevel:J,startTime:Be,expirationTime:ot,sortIndex:-1},Be>et?(J.sortIndex=Be,d(w,J),h(I)===null&&J===h(w)&&(Z?(de(P),P=-1):Z=!0,re(Fe,Be-et))):(J.sortIndex=ot,d(I,J),W||$||(W=!0,Me||(Me=!0,Ce()))),J},u.unstable_shouldYield=Oe,u.unstable_wrapCallback=function(J){var fe=te;return function(){var Be=te;te=fe;try{return J.apply(this,arguments)}finally{te=Be}}}})(Df)),Df}var xh;function vx(){return xh||(xh=1,If.exports=Cx()),If.exports}var Mf={exports:{}},jn={};var ph;function Tx(){if(ph)return jn;ph=1;var u=qf();function d(I){var w="https://react.dev/errors/"+I;if(1<arguments.length){w+="?args[]="+encodeURIComponent(arguments[1]);for(var D=2;D<arguments.length;D++)w+="&args[]="+encodeURIComponent(arguments[D])}return"Minified React error #"+I+"; visit "+w+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function h(){}var p={d:{f:h,r:function(){throw Error(d(522))},D:h,C:h,L:h,m:h,X:h,S:h,M:h},p:0,findDOMNode:null},b=Symbol.for("react.portal");function E(I,w,D){var M=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:b,key:M==null?null:""+M,children:I,containerInfo:w,implementation:D}}var C=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function N(I,w){if(I==="font")return"";if(typeof w=="string")return w==="use-credentials"?w:""}return jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=p,jn.createPortal=function(I,w){var D=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!w||w.nodeType!==1&&w.nodeType!==9&&w.nodeType!==11)throw Error(d(299));return E(I,w,null,D)},jn.flushSync=function(I){var w=C.T,D=p.p;try{if(C.T=null,p.p=2,I)return I()}finally{C.T=w,p.p=D,p.d.f()}},jn.preconnect=function(I,w){typeof I=="string"&&(w?(w=w.crossOrigin,w=typeof w=="string"?w==="use-credentials"?w:"":void 0):w=null,p.d.C(I,w))},jn.prefetchDNS=function(I){typeof I=="string"&&p.d.D(I)},jn.preinit=function(I,w){if(typeof I=="string"&&w&&typeof w.as=="string"){var D=w.as,M=N(D,w.crossOrigin),te=typeof w.integrity=="string"?w.integrity:void 0,$=typeof w.fetchPriority=="string"?w.fetchPriority:void 0;D==="style"?p.d.S(I,typeof w.precedence=="string"?w.precedence:void 0,{crossOrigin:M,integrity:te,fetchPriority:$}):D==="script"&&p.d.X(I,{crossOrigin:M,integrity:te,fetchPriority:$,nonce:typeof w.nonce=="string"?w.nonce:void 0})}},jn.preinitModule=function(I,w){if(typeof I=="string")if(typeof w=="object"&&w!==null){if(w.as==null||w.as==="script"){var D=N(w.as,w.crossOrigin);p.d.M(I,{crossOrigin:D,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0})}}else w==null&&p.d.M(I)},jn.preload=function(I,w){if(typeof I=="string"&&typeof w=="object"&&w!==null&&typeof w.as=="string"){var D=w.as,M=N(D,w.crossOrigin);p.d.L(I,D,{crossOrigin:M,integrity:typeof w.integrity=="string"?w.integrity:void 0,nonce:typeof w.nonce=="string"?w.nonce:void 0,type:typeof w.type=="string"?w.type:void 0,fetchPriority:typeof w.fetchPriority=="string"?w.fetchPriority:void 0,referrerPolicy:typeof w.referrerPolicy=="string"?w.referrerPolicy:void 0,imageSrcSet:typeof w.imageSrcSet=="string"?w.imageSrcSet:void 0,imageSizes:typeof w.imageSizes=="string"?w.imageSizes:void 0,media:typeof w.media=="string"?w.media:void 0})}},jn.preloadModule=function(I,w){if(typeof I=="string")if(w){var D=N(w.as,w.crossOrigin);p.d.m(I,{as:typeof w.as=="string"&&w.as!=="script"?w.as:void 0,crossOrigin:D,integrity:typeof w.integrity=="string"?w.integrity:void 0})}else p.d.m(I)},jn.requestFormReset=function(I){p.d.r(I)},jn.unstable_batchedUpdates=function(I,w){return I(w)},jn.useFormState=function(I,w,D){return C.H.useFormState(I,w,D)},jn.useFormStatus=function(){return C.H.useHostTransitionStatus()},jn.version="19.2.3",jn}var mh;function Rx(){if(mh)return Mf.exports;mh=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(d){console.error(d)}}return u(),Mf.exports=Tx(),Mf.exports}var yh;function Nx(){if(yh)return Ms;yh=1;var u=vx(),d=qf(),h=Rx();function p(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function b(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function E(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function C(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function N(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function I(e){if(E(e)!==e)throw Error(p(188))}function w(e){var n=e.alternate;if(!n){if(n=E(e),n===null)throw Error(p(188));return n!==e?null:e}for(var a=e,o=n;;){var g=a.return;if(g===null)break;var m=g.alternate;if(m===null){if(o=g.return,o!==null){a=o;continue}break}if(g.child===m.child){for(m=g.child;m;){if(m===a)return I(g),e;if(m===o)return I(g),n;m=m.sibling}throw Error(p(188))}if(a.return!==o.return)a=g,o=m;else{for(var S=!1,_=g.child;_;){if(_===a){S=!0,a=g,o=m;break}if(_===o){S=!0,o=g,a=m;break}_=_.sibling}if(!S){for(_=m.child;_;){if(_===a){S=!0,a=m,o=g;break}if(_===o){S=!0,o=m,a=g;break}_=_.sibling}if(!S)throw Error(p(189))}}if(a.alternate!==o)throw Error(p(190))}if(a.tag!==3)throw Error(p(188));return a.stateNode.current===a?e:n}function D(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=D(e),n!==null)return n;e=e.sibling}return null}var M=Object.assign,te=Symbol.for("react.element"),$=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),Ee=Symbol.for("react.profiler"),de=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),Fe=Symbol.for("react.suspense"),Me=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),Re=Symbol.for("react.lazy"),X=Symbol.for("react.activity"),Oe=Symbol.for("react.memo_cache_sentinel"),Ge=Symbol.iterator;function Ce(e){return e===null||typeof e!="object"?null:(e=Ge&&e[Ge]||e["@@iterator"],typeof e=="function"?e:null)}var je=Symbol.for("react.client.reference");function Je(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===je?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case Ee:return"Profiler";case K:return"StrictMode";case Fe:return"Suspense";case Me:return"SuspenseList";case X:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case ae:return e.displayName||"Context";case de:return(e._context.displayName||"Context")+".Consumer";case ce:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case P:return n=e.displayName||null,n!==null?n:Je(e.type)||"Memo";case Re:n=e._payload,e=e._init;try{return Je(e(n))}catch{}}return null}var re=Array.isArray,J=d.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=h.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Be={pending:!1,data:null,method:null,action:null},et=[],ot=-1;function z(e){return{current:e}}function le(e){0>ot||(e.current=et[ot],et[ot]=null,ot--)}function ve(e,n){ot++,et[ot]=e.current,e.current=n}var me=z(null),Ye=z(null),ye=z(null),it=z(null);function tt(e,n){switch(ve(ye,n),ve(Ye,e),ve(me,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Md(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Md(n),e=Bd(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}le(me),ve(me,e)}function Tt(){le(me),le(Ye),le(ye)}function On(e){e.memoizedState!==null&&ve(it,e);var n=me.current,a=Bd(n,e.type);n!==a&&(ve(Ye,e),ve(me,a))}function rn(e){Ye.current===e&&(le(me),le(Ye)),it.current===e&&(le(it),Ns._currentValue=Be)}var Li,$e;function Ht(e){if(Li===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Li=n&&n[1]||"",$e=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Li+e+$e}var Ut=!1;function Ui(e,n){if(!e||Ut)return"";Ut=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(se){var ee=se}Reflect.construct(e,[],ge)}else{try{ge.call()}catch(se){ee=se}e.call(ge.prototype)}}else{try{throw Error()}catch(se){ee=se}(ge=e())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(se){if(se&&ee&&typeof se.stack=="string")return[se.stack,ee.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=o.DetermineComponentFrameRoot(),S=m[0],_=m[1];if(S&&_){var U=S.split(`
`),Q=_.split(`
`);for(g=o=0;o<U.length&&!U[o].includes("DetermineComponentFrameRoot");)o++;for(;g<Q.length&&!Q[g].includes("DetermineComponentFrameRoot");)g++;if(o===U.length||g===Q.length)for(o=U.length-1,g=Q.length-1;1<=o&&0<=g&&U[o]!==Q[g];)g--;for(;1<=o&&0<=g;o--,g--)if(U[o]!==Q[g]){if(o!==1||g!==1)do if(o--,g--,0>g||U[o]!==Q[g]){var ue=`
`+U[o].replace(" at new "," at ");return e.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",e.displayName)),ue}while(1<=o&&0<=g);break}}}finally{Ut=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ht(a):""}function en(e,n){switch(e.tag){case 26:case 27:case 5:return Ht(e.type);case 16:return Ht("Lazy");case 13:return e.child!==n&&n!==null?Ht("Suspense Fallback"):Ht("Suspense");case 19:return Ht("SuspenseList");case 0:case 15:return Ui(e.type,!1);case 11:return Ui(e.type.render,!1);case 1:return Ui(e.type,!0);case 31:return Ht("Activity");default:return""}}function Et(e){try{var n="",a=null;do n+=en(e,a),a=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ct=Object.prototype.hasOwnProperty,Ie=u.unstable_scheduleCallback,Te=u.unstable_cancelCallback,sr=u.unstable_shouldYield,ya=u.unstable_requestPaint,Pt=u.unstable_now,Br=u.unstable_getCurrentPriorityLevel,Fn=u.unstable_ImmediatePriority,Ea=u.unstable_UserBlockingPriority,Pn=u.unstable_NormalPriority,Sn=u.unstable_LowPriority,ba=u.unstable_IdlePriority,or=u.log,Pl=u.unstable_setDisableYieldValue,kt=null,we=null;function Se(e){if(typeof or=="function"&&Pl(e),we&&typeof we.setStrictMode=="function")try{we.setStrictMode(kt,e)}catch{}}var Ne=Math.clz32?Math.clz32:At,ze=Math.log,pn=Math.LN2;function At(e){return e>>>=0,e===0?32:31-(ze(e)/pn|0)|0}var wa=256,gt=262144,wi=4194304;function Wi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Aa(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var g=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=o&134217727;return _!==0?(o=_&~m,o!==0?g=Wi(o):(S&=_,S!==0?g=Wi(S):a||(a=_&~e,a!==0&&(g=Wi(a))))):(_=o&~m,_!==0?g=Wi(_):S!==0?g=Wi(S):a||(a=o&~e,a!==0&&(g=Wi(a)))),g===0?0:n!==0&&n!==g&&(n&m)===0&&(m=g&-g,a=n&-n,m>=a||m===32&&(a&4194048)!==0)?n:g}function Dn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Gl(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cn(){var e=wi;return wi<<=1,(wi&62914560)===0&&(wi=4194304),e}function qi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function Zi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ai(e,n,a,o,g,m){var S=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,U=e.expirationTimes,Q=e.hiddenUpdates;for(a=S&~a;0<a;){var ue=31-Ne(a),ge=1<<ue;_[ue]=0,U[ue]=-1;var ee=Q[ue];if(ee!==null)for(Q[ue]=null,ue=0;ue<ee.length;ue++){var se=ee[ue];se!==null&&(se.lane&=-536870913)}a&=~ge}o!==0&&Ws(e,o,0),m!==0&&g===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~n))}function Ws(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ne(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&261930}function Ki(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-Ne(a),g=1<<o;g&n|e[o]&n&&(e[o]|=n),a&=~g}}function Ka(e,n){var a=n&-n;return a=(a&42)!==0?1:_n(a),(a&(e.suspendedLanes|n))!==0?0:a}function _n(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ki(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Gn(){var e=fe.p;return e!==0?e:(e=window.event,e===void 0?32:ih(e.type))}function De(e,n){var a=fe.p;try{return fe.p=e,n()}finally{fe.p=a}}var Vn=Math.random().toString(36).slice(2),fn="__reactFiber$"+Vn,Mt="__reactProps$"+Vn,si="__reactContainer$"+Vn,Lr="__reactEvents$"+Vn,Qa="__reactListeners$"+Vn,Si="__reactHandles$"+Vn,qs="__reactResources$"+Vn,Sa="__reactMarker$"+Vn;function Kn(e){delete e[fn],delete e[Mt],delete e[Lr],delete e[Qa],delete e[Si]}function an(e){var n=e[fn];if(n)return n;for(var a=e.parentNode;a;){if(n=a[si]||a[fn]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Hd(e);e!==null;){if(a=e[fn])return a;e=Hd(e)}return n}e=a,a=e.parentNode}return null}function Rt(e){if(e=e[fn]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Ur(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(p(33))}function Xn(e){var n=e[qs];return n||(n=e[qs]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ln(e){e[Sa]=!0}var xe=new Set,Zs={};function _t(e,n){oi(e,n),oi(e+"Capture",n)}function oi(e,n){for(Zs[e]=n,e=0;e<n.length;e++)xe.add(n[e])}var Mc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wt={},bt={};function ft(e){return ct.call(bt,e)?!0:ct.call(wt,e)?!1:Mc.test(e)?bt[e]=!0:(wt[e]=!0,!1)}function kr(e,n,a){if(ft(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function zr(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function ci(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}function St(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zi(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Bc(e,n,a){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var g=o.get,m=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return g.call(this)},set:function(S){a=""+S,m.call(this,S)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(S){a=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Wt(e){if(!e._valueTracker){var n=zi(e)?"checked":"value";e._valueTracker=Bc(e,n,""+e[n])}}function Fi(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=zi(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function Ja(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Fr=/[\n"\\]/g;function ut(e){return e.replace(Fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function mn(e,n,a,o,g,m,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+St(n)):e.value!==""+St(n)&&(e.value=""+St(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?B(e,S,St(n)):a!=null?B(e,S,St(a)):o!=null&&e.removeAttribute("value"),g==null&&m!=null&&(e.defaultChecked=!!m),g!=null&&(e.checked=g&&typeof g!="function"&&typeof g!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+St(_):e.removeAttribute("name")}function Y(e,n,a,o,g,m,S,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){Wt(e);return}a=a!=null?""+St(a):"",n=n!=null?""+St(n):a,_||n===e.value||(e.value=n),e.defaultValue=n}o=o??g,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=_?e.checked:!!o,e.defaultChecked=!!o,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Wt(e)}function B(e,n,a){n==="number"&&Ja(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ue(e,n,a,o){if(e=e.options,n){n={};for(var g=0;g<a.length;g++)n["$"+a[g]]=!0;for(a=0;a<e.length;a++)g=n.hasOwnProperty("$"+e[a].value),e[a].selected!==g&&(e[a].selected=g),g&&o&&(e[a].defaultSelected=!0)}else{for(a=""+St(a),n=null,g=0;g<e.length;g++){if(e[g].value===a){e[g].selected=!0,o&&(e[g].defaultSelected=!0);return}n!==null||e[g].disabled||(n=e[g])}n!==null&&(n.selected=!0)}}function dn(e,n,a){if(n!=null&&(n=""+St(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+St(a):""}function Yn(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(p(92));if(re(o)){if(1<o.length)throw Error(p(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=St(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o),Wt(e)}function jr(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var Vl=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wn(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||Vl.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function He(e,n,a){if(n!=null&&typeof n!="object")throw Error(p(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var g in n)o=n[g],n.hasOwnProperty(g)&&a[g]!==o&&Wn(e,g,o)}else for(var m in n)n.hasOwnProperty(m)&&Wn(e,m,n[m])}function Gt(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ks=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hr(e){return Lc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var Ca=null;function Xl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qt=null,Ci=null;function ji(e){var n=Rt(e);if(n&&(e=n.stateNode)){var a=e[Mt]||null;e:switch(e=n.stateNode,n.type){case"input":if(mn(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ut(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var g=o[Mt]||null;if(!g)throw Error(p(90));mn(o,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&Fi(o)}break e;case"textarea":dn(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&Ue(e,!!a.multiple,n,!1)}}}var Ve=!1;function Qs(e,n,a){if(Ve)return e(n,a);Ve=!0;try{var o=e(n);return o}finally{if(Ve=!1,(qt!==null||Ci!==null)&&(Go(),qt&&(n=qt,e=Ci,Ci=qt=null,ji(n),e)))for(n=0;n<e.length;n++)ji(e[n])}}function Ze(e,n){var a=e.stateNode;if(a===null)return null;var o=a[Mt]||null;if(o===null)return null;a=o[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(p(231,n,typeof a));return a}var Vt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yl=!1;if(Vt)try{var cr={};Object.defineProperty(cr,"passive",{get:function(){Yl=!0}}),window.addEventListener("test",cr,cr),window.removeEventListener("test",cr,cr)}catch{Yl=!1}var Hi=null,Pi=null,$a=null;function Pr(){if($a)return $a;var e,n=Pi,a=n.length,o,g="value"in Hi?Hi.value:Hi.textContent,m=g.length;for(e=0;e<a&&n[e]===g[e];e++);var S=a-e;for(o=1;o<=S&&n[a-o]===g[m-o];o++);return $a=g.slice(e,1<o?1-o:void 0)}function Qi(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function Wl(){return!1}function yn(e){function n(a,o,g,m,S){this._reactName=a,this._targetInst=g,this.type=o,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Ji:Wl,this.isPropagationStopped=Wl,this}return M(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vn=yn(ui),Gr=M({},ui,{view:0,detail:0}),Js=yn(Gr),el,ql,va,tl=M({},Gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ta,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==va&&(va&&e.type==="mousemove"?(el=e.screenX-va.screenX,ql=e.screenY-va.screenY):ql=el=0,va=e),el)},movementY:function(e){return"movementY"in e?e.movementY:ql}}),Nt=yn(tl),$s=M({},tl,{dataTransfer:0}),nl=yn($s),$i=M({},Gr,{relatedTarget:0}),Zl=yn($i),ie=M({},ui,{animationName:0,elapsedTime:0,pseudoElement:0}),rt=yn(ie),Tn=M({},ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),il=yn(Tn),eo=M({},ui,{data:0}),to=yn(eo),Uc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hn(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Kl[e])?!!n[e]:!1}function Ta(){return hn}var Qt=M({},Gr,{key:function(e){if(e.key){var n=Uc[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Qi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?kc[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ta,charCode:function(e){return e.type==="keypress"?Qi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Qi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rl=yn(Qt),ur=M({},tl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),It=yn(ur),Xe=M({},Gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ta}),zc=yn(Xe),Xt=M({},ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),fr=yn(Xt),Vr=M({},tl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fc=yn(Vr),vi=M({},ui,{newState:0,oldState:0}),Ql=yn(vi),no=[9,13,27,32],Ra=Vt&&"CompositionEvent"in window,Xr=null;Vt&&"documentMode"in document&&(Xr=document.documentMode);var io=Vt&&"TextEvent"in window&&!Xr,ro=Vt&&(!Ra||Xr&&8<Xr&&11>=Xr),dr=" ",al=!1;function ao(e,n){switch(e){case"keyup":return no.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yr(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wr=!1;function er(e,n){switch(e){case"compositionend":return Yr(n);case"keypress":return n.which!==32?null:(al=!0,dr);case"textInput":return e=n.data,e===dr&&al?null:e;default:return null}}function ll(e,n){if(Wr)return e==="compositionend"||!Ra&&ao(e,n)?(e=Pr(),$a=Pi=Hi=null,Wr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ro&&n.locale!=="ko"?null:n.data;default:return null}}var Jn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Jn[e.type]:n==="textarea"}function fi(e,n,a,o){qt?Ci?Ci.push(o):Ci=[o]:qt=o,n=Ko(n,"onChange"),0<n.length&&(a=new vn("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Na=null,hr=null;function jc(e){Rd(e,0)}function Oa(e){var n=Ur(e);if(Fi(n))return e}function di(e,n){if(e==="change")return n}var lo=!1;if(Vt){var _a;if(Vt){var gr="oninput"in document;if(!gr){var xt=document.createElement("div");xt.setAttribute("oninput","return;"),gr=typeof xt.oninput=="function"}_a=gr}else _a=!1;lo=_a&&(!document.documentMode||9<document.documentMode)}function Ia(){Na&&(Na.detachEvent("onpropertychange",v),hr=Na=null)}function v(e){if(e.propertyName==="value"&&Oa(hr)){var n=[];fi(n,hr,e,Xl(e)),Qs(jc,n)}}function t(e,n,a){e==="focusin"?(Ia(),Na=n,hr=a,Na.attachEvent("onpropertychange",v)):e==="focusout"&&Ia()}function i(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Oa(hr)}function r(e,n){if(e==="click")return Oa(n)}function l(e,n){if(e==="input"||e==="change")return Oa(n)}function s(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var c=typeof Object.is=="function"?Object.is:s;function f(e,n){if(c(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var g=a[o];if(!ct.call(n,g)||!c(e[g],n[g]))return!1}return!0}function x(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function y(e,n){var a=x(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=x(a)}}function A(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?A(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function T(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ja(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Ja(e.document)}return n}function O(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var L=Vt&&"documentMode"in document&&11>=document.documentMode,k=null,F=null,V=null,ne=!1;function Ae(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ne||k==null||k!==Ja(o)||(o=k,"selectionStart"in o&&O(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),V&&f(V,o)||(V=o,o=Ko(F,"onSelect"),0<o.length&&(n=new vn("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=k)))}function be(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var pe={animationend:be("Animation","AnimationEnd"),animationiteration:be("Animation","AnimationIteration"),animationstart:be("Animation","AnimationStart"),transitionrun:be("Transition","TransitionRun"),transitionstart:be("Transition","TransitionStart"),transitioncancel:be("Transition","TransitionCancel"),transitionend:be("Transition","TransitionEnd")},lt={},Ke={};Vt&&(Ke=document.createElement("div").style,"AnimationEvent"in window||(delete pe.animationend.animation,delete pe.animationiteration.animation,delete pe.animationstart.animation),"TransitionEvent"in window||delete pe.transitionend.transition);function sn(e){if(lt[e])return lt[e];if(!pe[e])return e;var n=pe[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Ke)return lt[e]=n[a];return e}var $n=sn("animationend"),Mn=sn("animationiteration"),Dt=sn("animationstart"),Rn=sn("transitionrun"),qn=sn("transitionstart"),qr=sn("transitioncancel"),xr=sn("transitionend"),so=new Map,$l="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$l.push("scrollEnd");function Gi(e,n){so.set(e,n),_t(n,[e])}var oo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ti=[],sl=0,Hc=0;function co(){for(var e=sl,n=Hc=sl=0;n<e;){var a=Ti[n];Ti[n++]=null;var o=Ti[n];Ti[n++]=null;var g=Ti[n];Ti[n++]=null;var m=Ti[n];if(Ti[n++]=null,o!==null&&g!==null){var S=o.pending;S===null?g.next=g:(g.next=S.next,S.next=g),o.pending=g}m!==0&&o0(a,g,m)}}function uo(e,n,a,o){Ti[sl++]=e,Ti[sl++]=n,Ti[sl++]=a,Ti[sl++]=o,Hc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Pc(e,n,a,o){return uo(e,n,a,o),fo(e)}function Da(e,n){return uo(e,null,null,n),fo(e)}function o0(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var g=!1,m=e.return;m!==null;)m.childLanes|=a,o=m.alternate,o!==null&&(o.childLanes|=a),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(g=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,g&&n!==null&&(g=31-Ne(a),e=m.hiddenUpdates,o=e[g],o===null?e[g]=[n]:o.push(n),n.lane=a|536870912),m):null}function fo(e){if(50<ws)throw ws=0,Qu=null,Error(p(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ol={};function ng(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(e,n,a,o){return new ng(e,n,a,o)}function Gc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pr(e,n){var a=e.alternate;return a===null?(a=hi(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function c0(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ho(e,n,a,o,g,m){var S=0;if(o=e,typeof e=="function")Gc(e)&&(S=1);else if(typeof e=="string")S=sx(e,a,me.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case X:return e=hi(31,a,n,g),e.elementType=X,e.lanes=m,e;case Z:return Ma(a.children,g,m,n);case K:S=8,g|=24;break;case Ee:return e=hi(12,a,n,g|2),e.elementType=Ee,e.lanes=m,e;case Fe:return e=hi(13,a,n,g),e.elementType=Fe,e.lanes=m,e;case Me:return e=hi(19,a,n,g),e.elementType=Me,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ae:S=10;break e;case de:S=9;break e;case ce:S=11;break e;case P:S=14;break e;case Re:S=16,o=null;break e}S=29,a=Error(p(130,e===null?"null":typeof e,"")),o=null}return n=hi(S,a,n,g),n.elementType=e,n.type=o,n.lanes=m,n}function Ma(e,n,a,o){return e=hi(7,e,o,n),e.lanes=a,e}function Vc(e,n,a){return e=hi(6,e,null,n),e.lanes=a,e}function u0(e){var n=hi(18,null,null,0);return n.stateNode=e,n}function Xc(e,n,a){return n=hi(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var f0=new WeakMap;function Ri(e,n){if(typeof e=="object"&&e!==null){var a=f0.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Et(n)},f0.set(e,n),n)}return{value:e,source:n,stack:Et(n)}}var cl=[],ul=0,go=null,es=0,Ni=[],Oi=0,Zr=null,tr=1,nr="";function mr(e,n){cl[ul++]=es,cl[ul++]=go,go=e,es=n}function d0(e,n,a){Ni[Oi++]=tr,Ni[Oi++]=nr,Ni[Oi++]=Zr,Zr=e;var o=tr;e=nr;var g=32-Ne(o)-1;o&=~(1<<g),a+=1;var m=32-Ne(n)+g;if(30<m){var S=g-g%5;m=(o&(1<<S)-1).toString(32),o>>=S,g-=S,tr=1<<32-Ne(n)+g|a<<g|o,nr=m+e}else tr=1<<m|a<<g|o,nr=e}function Yc(e){e.return!==null&&(mr(e,1),d0(e,1,0))}function Wc(e){for(;e===go;)go=cl[--ul],cl[ul]=null,es=cl[--ul],cl[ul]=null;for(;e===Zr;)Zr=Ni[--Oi],Ni[Oi]=null,nr=Ni[--Oi],Ni[Oi]=null,tr=Ni[--Oi],Ni[Oi]=null}function h0(e,n){Ni[Oi++]=tr,Ni[Oi++]=nr,Ni[Oi++]=Zr,tr=n.id,nr=n.overflow,Zr=e}var Bn=null,Zt=null,yt=!1,Kr=null,_i=!1,qc=Error(p(519));function Qr(e){var n=Error(p(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ts(Ri(n,e)),qc}function g0(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[fn]=e,n[Mt]=o,a){case"dialog":ht("cancel",n),ht("close",n);break;case"iframe":case"object":case"embed":ht("load",n);break;case"video":case"audio":for(a=0;a<Ss.length;a++)ht(Ss[a],n);break;case"source":ht("error",n);break;case"img":case"image":case"link":ht("error",n),ht("load",n);break;case"details":ht("toggle",n);break;case"input":ht("invalid",n),Y(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":ht("invalid",n);break;case"textarea":ht("invalid",n),Yn(n,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Id(n.textContent,a)?(o.popover!=null&&(ht("beforetoggle",n),ht("toggle",n)),o.onScroll!=null&&ht("scroll",n),o.onScrollEnd!=null&&ht("scrollend",n),o.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||Qr(e,!0)}function x0(e){for(Bn=e.return;Bn;)switch(Bn.tag){case 5:case 31:case 13:_i=!1;return;case 27:case 3:_i=!0;return;default:Bn=Bn.return}}function fl(e){if(e!==Bn)return!1;if(!yt)return x0(e),yt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||hf(e.type,e.memoizedProps)),a=!a),a&&Zt&&Qr(e),x0(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));Zt=jd(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(317));Zt=jd(e)}else n===27?(n=Zt,fa(e.type)?(e=yf,yf=null,Zt=e):Zt=n):Zt=Bn?Di(e.stateNode.nextSibling):null;return!0}function Ba(){Zt=Bn=null,yt=!1}function Zc(){var e=Kr;return e!==null&&(ii===null?ii=e:ii.push.apply(ii,e),Kr=null),e}function ts(e){Kr===null?Kr=[e]:Kr.push(e)}var Kc=z(null),La=null,yr=null;function Jr(e,n,a){ve(Kc,n._currentValue),n._currentValue=a}function Er(e){e._currentValue=Kc.current,le(Kc)}function Qc(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Jc(e,n,a,o){var g=e.child;for(g!==null&&(g.return=e);g!==null;){var m=g.dependencies;if(m!==null){var S=g.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=g;for(var U=0;U<n.length;U++)if(_.context===n[U]){m.lanes|=a,_=m.alternate,_!==null&&(_.lanes|=a),Qc(m.return,a,e),o||(S=null);break e}m=_.next}}else if(g.tag===18){if(S=g.return,S===null)throw Error(p(341));S.lanes|=a,m=S.alternate,m!==null&&(m.lanes|=a),Qc(S,a,e),S=null}else S=g.child;if(S!==null)S.return=g;else for(S=g;S!==null;){if(S===e){S=null;break}if(g=S.sibling,g!==null){g.return=S.return,S=g;break}S=S.return}g=S}}function dl(e,n,a,o){e=null;for(var g=n,m=!1;g!==null;){if(!m){if((g.flags&524288)!==0)m=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var S=g.alternate;if(S===null)throw Error(p(387));if(S=S.memoizedProps,S!==null){var _=g.type;c(g.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(g===it.current){if(S=g.alternate,S===null)throw Error(p(387));S.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(e!==null?e.push(Ns):e=[Ns])}g=g.return}e!==null&&Jc(n,e,a,o),n.flags|=262144}function xo(e){for(e=e.firstContext;e!==null;){if(!c(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ua(e){La=e,yr=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ln(e){return p0(La,e)}function po(e,n){return La===null&&Ua(e),p0(e,n)}function p0(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},yr===null){if(e===null)throw Error(p(308));yr=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else yr=yr.next=n;return a}var ig=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},rg=u.unstable_scheduleCallback,ag=u.unstable_NormalPriority,En={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $c(){return{controller:new ig,data:new Map,refCount:0}}function ns(e){e.refCount--,e.refCount===0&&rg(ag,function(){e.controller.abort()})}var is=null,eu=0,hl=0,gl=null;function lg(e,n){if(is===null){var a=is=[];eu=0,hl=rf(),gl={status:"pending",value:void 0,then:function(o){a.push(o)}}}return eu++,n.then(m0,m0),n}function m0(){if(--eu===0&&is!==null){gl!==null&&(gl.status="fulfilled");var e=is;is=null,hl=0,gl=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function sg(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var g=0;g<a.length;g++)(0,a[g])(n)},function(g){for(o.status="rejected",o.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),o}var y0=J.S;J.S=function(e,n){td=Pt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&lg(e,n),y0!==null&&y0(e,n)};var ka=z(null);function tu(){var e=ka.current;return e!==null?e:Yt.pooledCache}function mo(e,n){n===null?ve(ka,ka.current):ve(ka,n.pool)}function E0(){var e=tu();return e===null?null:{parent:En._currentValue,pool:e}}var xl=Error(p(460)),nu=Error(p(474)),yo=Error(p(542)),Eo={then:function(){}};function b0(e){return e=e.status,e==="fulfilled"||e==="rejected"}function w0(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Qn,Qn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,S0(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=Yt,e!==null&&100<e.shellSuspendCounter)throw Error(p(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var g=n;g.status="fulfilled",g.value=o}},function(o){if(n.status==="pending"){var g=n;g.status="rejected",g.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,S0(e),e}throw Fa=n,xl}}function za(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fa=a,xl):a}}var Fa=null;function A0(){if(Fa===null)throw Error(p(459));var e=Fa;return Fa=null,e}function S0(e){if(e===xl||e===yo)throw Error(p(483))}var pl=null,rs=0;function bo(e){var n=rs;return rs+=1,pl===null&&(pl=[]),w0(pl,e,n)}function as(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function wo(e,n){throw n.$$typeof===te?Error(p(525)):(e=Object.prototype.toString.call(n),Error(p(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function C0(e){function n(G,j){if(e){var q=G.deletions;q===null?(G.deletions=[j],G.flags|=16):q.push(j)}}function a(G,j){if(!e)return null;for(;j!==null;)n(G,j),j=j.sibling;return null}function o(G){for(var j=new Map;G!==null;)G.key!==null?j.set(G.key,G):j.set(G.index,G),G=G.sibling;return j}function g(G,j){return G=pr(G,j),G.index=0,G.sibling=null,G}function m(G,j,q){return G.index=q,e?(q=G.alternate,q!==null?(q=q.index,q<j?(G.flags|=67108866,j):q):(G.flags|=67108866,j)):(G.flags|=1048576,j)}function S(G){return e&&G.alternate===null&&(G.flags|=67108866),G}function _(G,j,q,he){return j===null||j.tag!==6?(j=Vc(q,G.mode,he),j.return=G,j):(j=g(j,q),j.return=G,j)}function U(G,j,q,he){var Pe=q.type;return Pe===Z?ue(G,j,q.props.children,he,q.key):j!==null&&(j.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Re&&za(Pe)===j.type)?(j=g(j,q.props),as(j,q),j.return=G,j):(j=ho(q.type,q.key,q.props,null,G.mode,he),as(j,q),j.return=G,j)}function Q(G,j,q,he){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Xc(q,G.mode,he),j.return=G,j):(j=g(j,q.children||[]),j.return=G,j)}function ue(G,j,q,he,Pe){return j===null||j.tag!==7?(j=Ma(q,G.mode,he,Pe),j.return=G,j):(j=g(j,q),j.return=G,j)}function ge(G,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Vc(""+j,G.mode,q),j.return=G,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case $:return q=ho(j.type,j.key,j.props,null,G.mode,q),as(q,j),q.return=G,q;case W:return j=Xc(j,G.mode,q),j.return=G,j;case Re:return j=za(j),ge(G,j,q)}if(re(j)||Ce(j))return j=Ma(j,G.mode,q,null),j.return=G,j;if(typeof j.then=="function")return ge(G,bo(j),q);if(j.$$typeof===ae)return ge(G,po(G,j),q);wo(G,j)}return null}function ee(G,j,q,he){var Pe=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Pe!==null?null:_(G,j,""+q,he);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case $:return q.key===Pe?U(G,j,q,he):null;case W:return q.key===Pe?Q(G,j,q,he):null;case Re:return q=za(q),ee(G,j,q,he)}if(re(q)||Ce(q))return Pe!==null?null:ue(G,j,q,he,null);if(typeof q.then=="function")return ee(G,j,bo(q),he);if(q.$$typeof===ae)return ee(G,j,po(G,q),he);wo(G,q)}return null}function se(G,j,q,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return G=G.get(q)||null,_(j,G,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case $:return G=G.get(he.key===null?q:he.key)||null,U(j,G,he,Pe);case W:return G=G.get(he.key===null?q:he.key)||null,Q(j,G,he,Pe);case Re:return he=za(he),se(G,j,q,he,Pe)}if(re(he)||Ce(he))return G=G.get(q)||null,ue(j,G,he,Pe,null);if(typeof he.then=="function")return se(G,j,q,bo(he),Pe);if(he.$$typeof===ae)return se(G,j,q,po(j,he),Pe);wo(j,he)}return null}function Le(G,j,q,he){for(var Pe=null,Ct=null,ke=j,at=j=0,mt=null;ke!==null&&at<q.length;at++){ke.index>at?(mt=ke,ke=null):mt=ke.sibling;var vt=ee(G,ke,q[at],he);if(vt===null){ke===null&&(ke=mt);break}e&&ke&&vt.alternate===null&&n(G,ke),j=m(vt,j,at),Ct===null?Pe=vt:Ct.sibling=vt,Ct=vt,ke=mt}if(at===q.length)return a(G,ke),yt&&mr(G,at),Pe;if(ke===null){for(;at<q.length;at++)ke=ge(G,q[at],he),ke!==null&&(j=m(ke,j,at),Ct===null?Pe=ke:Ct.sibling=ke,Ct=ke);return yt&&mr(G,at),Pe}for(ke=o(ke);at<q.length;at++)mt=se(ke,G,at,q[at],he),mt!==null&&(e&&mt.alternate!==null&&ke.delete(mt.key===null?at:mt.key),j=m(mt,j,at),Ct===null?Pe=mt:Ct.sibling=mt,Ct=mt);return e&&ke.forEach(function(pa){return n(G,pa)}),yt&&mr(G,at),Pe}function We(G,j,q,he){if(q==null)throw Error(p(151));for(var Pe=null,Ct=null,ke=j,at=j=0,mt=null,vt=q.next();ke!==null&&!vt.done;at++,vt=q.next()){ke.index>at?(mt=ke,ke=null):mt=ke.sibling;var pa=ee(G,ke,vt.value,he);if(pa===null){ke===null&&(ke=mt);break}e&&ke&&pa.alternate===null&&n(G,ke),j=m(pa,j,at),Ct===null?Pe=pa:Ct.sibling=pa,Ct=pa,ke=mt}if(vt.done)return a(G,ke),yt&&mr(G,at),Pe;if(ke===null){for(;!vt.done;at++,vt=q.next())vt=ge(G,vt.value,he),vt!==null&&(j=m(vt,j,at),Ct===null?Pe=vt:Ct.sibling=vt,Ct=vt);return yt&&mr(G,at),Pe}for(ke=o(ke);!vt.done;at++,vt=q.next())vt=se(ke,G,at,vt.value,he),vt!==null&&(e&&vt.alternate!==null&&ke.delete(vt.key===null?at:vt.key),j=m(vt,j,at),Ct===null?Pe=vt:Ct.sibling=vt,Ct=vt);return e&&ke.forEach(function(yx){return n(G,yx)}),yt&&mr(G,at),Pe}function jt(G,j,q,he){if(typeof q=="object"&&q!==null&&q.type===Z&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case $:e:{for(var Pe=q.key;j!==null;){if(j.key===Pe){if(Pe=q.type,Pe===Z){if(j.tag===7){a(G,j.sibling),he=g(j,q.props.children),he.return=G,G=he;break e}}else if(j.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===Re&&za(Pe)===j.type){a(G,j.sibling),he=g(j,q.props),as(he,q),he.return=G,G=he;break e}a(G,j);break}else n(G,j);j=j.sibling}q.type===Z?(he=Ma(q.props.children,G.mode,he,q.key),he.return=G,G=he):(he=ho(q.type,q.key,q.props,null,G.mode,he),as(he,q),he.return=G,G=he)}return S(G);case W:e:{for(Pe=q.key;j!==null;){if(j.key===Pe)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){a(G,j.sibling),he=g(j,q.children||[]),he.return=G,G=he;break e}else{a(G,j);break}else n(G,j);j=j.sibling}he=Xc(q,G.mode,he),he.return=G,G=he}return S(G);case Re:return q=za(q),jt(G,j,q,he)}if(re(q))return Le(G,j,q,he);if(Ce(q)){if(Pe=Ce(q),typeof Pe!="function")throw Error(p(150));return q=Pe.call(q),We(G,j,q,he)}if(typeof q.then=="function")return jt(G,j,bo(q),he);if(q.$$typeof===ae)return jt(G,j,po(G,q),he);wo(G,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(a(G,j.sibling),he=g(j,q),he.return=G,G=he):(a(G,j),he=Vc(q,G.mode,he),he.return=G,G=he),S(G)):a(G,j)}return function(G,j,q,he){try{rs=0;var Pe=jt(G,j,q,he);return pl=null,Pe}catch(ke){if(ke===xl||ke===yo)throw ke;var Ct=hi(29,ke,null,G.mode);return Ct.lanes=he,Ct.return=G,Ct}}}var ja=C0(!0),v0=C0(!1),$r=!1;function iu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ru(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ea(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ta(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ot&2)!==0){var g=o.pending;return g===null?n.next=n:(n.next=g.next,g.next=n),o.pending=n,n=fo(e),o0(e,null,a),n}return uo(e,o,n,a),fo(e)}function ls(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ki(e,a)}}function au(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var g=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var S={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?g=m=S:m=m.next=S,a=a.next}while(a!==null);m===null?g=m=n:m=m.next=n}else g=m=n;a={baseState:o.baseState,firstBaseUpdate:g,lastBaseUpdate:m,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var lu=!1;function ss(){if(lu){var e=gl;if(e!==null)throw e}}function os(e,n,a,o){lu=!1;var g=e.updateQueue;$r=!1;var m=g.firstBaseUpdate,S=g.lastBaseUpdate,_=g.shared.pending;if(_!==null){g.shared.pending=null;var U=_,Q=U.next;U.next=null,S===null?m=Q:S.next=Q,S=U;var ue=e.alternate;ue!==null&&(ue=ue.updateQueue,_=ue.lastBaseUpdate,_!==S&&(_===null?ue.firstBaseUpdate=Q:_.next=Q,ue.lastBaseUpdate=U))}if(m!==null){var ge=g.baseState;S=0,ue=Q=U=null,_=m;do{var ee=_.lane&-536870913,se=ee!==_.lane;if(se?(pt&ee)===ee:(o&ee)===ee){ee!==0&&ee===hl&&(lu=!0),ue!==null&&(ue=ue.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var Le=e,We=_;ee=n;var jt=a;switch(We.tag){case 1:if(Le=We.payload,typeof Le=="function"){ge=Le.call(jt,ge,ee);break e}ge=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=We.payload,ee=typeof Le=="function"?Le.call(jt,ge,ee):Le,ee==null)break e;ge=M({},ge,ee);break e;case 2:$r=!0}}ee=_.callback,ee!==null&&(e.flags|=64,se&&(e.flags|=8192),se=g.callbacks,se===null?g.callbacks=[ee]:se.push(ee))}else se={lane:ee,tag:_.tag,payload:_.payload,callback:_.callback,next:null},ue===null?(Q=ue=se,U=ge):ue=ue.next=se,S|=ee;if(_=_.next,_===null){if(_=g.shared.pending,_===null)break;se=_,_=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);ue===null&&(U=ge),g.baseState=U,g.firstBaseUpdate=Q,g.lastBaseUpdate=ue,m===null&&(g.shared.lanes=0),la|=S,e.lanes=S,e.memoizedState=ge}}function T0(e,n){if(typeof e!="function")throw Error(p(191,e));e.call(n)}function R0(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)T0(a[e],n)}var ml=z(null),Ao=z(0);function N0(e,n){e=Nr,ve(Ao,e),ve(ml,n),Nr=e|n.baseLanes}function su(){ve(Ao,Nr),ve(ml,ml.current)}function ou(){Nr=Ao.current,le(ml),le(Ao)}var gi=z(null),Ii=null;function na(e){var n=e.alternate;ve(gn,gn.current&1),ve(gi,e),Ii===null&&(n===null||ml.current!==null||n.memoizedState!==null)&&(Ii=e)}function cu(e){ve(gn,gn.current),ve(gi,e),Ii===null&&(Ii=e)}function O0(e){e.tag===22?(ve(gn,gn.current),ve(gi,e),Ii===null&&(Ii=e)):ia()}function ia(){ve(gn,gn.current),ve(gi,gi.current)}function xi(e){le(gi),Ii===e&&(Ii=null),le(gn)}var gn=z(0);function So(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||pf(a)||mf(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var br=0,nt=null,zt=null,bn=null,Co=!1,yl=!1,Ha=!1,vo=0,cs=0,El=null,og=0;function on(){throw Error(p(321))}function uu(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!c(e[a],n[a]))return!1;return!0}function fu(e,n,a,o,g,m){return br=m,nt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,J.H=e===null||e.memoizedState===null?d1:Tu,Ha=!1,m=a(o,g),Ha=!1,yl&&(m=I0(n,a,o,g)),_0(e),m}function _0(e){J.H=ds;var n=zt!==null&&zt.next!==null;if(br=0,bn=zt=nt=null,Co=!1,cs=0,El=null,n)throw Error(p(300));e===null||wn||(e=e.dependencies,e!==null&&xo(e)&&(wn=!0))}function I0(e,n,a,o){nt=e;var g=0;do{if(yl&&(El=null),cs=0,yl=!1,25<=g)throw Error(p(301));if(g+=1,bn=zt=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}J.H=h1,m=n(a,o)}while(yl);return m}function cg(){var e=J.H,n=e.useState()[0];return n=typeof n.then=="function"?us(n):n,e=e.useState()[0],(zt!==null?zt.memoizedState:null)!==e&&(nt.flags|=1024),n}function du(){var e=vo!==0;return vo=0,e}function hu(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function gu(e){if(Co){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Co=!1}br=0,bn=zt=nt=null,yl=!1,cs=vo=0,El=null}function Zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bn===null?nt.memoizedState=bn=e:bn=bn.next=e,bn}function xn(){if(zt===null){var e=nt.alternate;e=e!==null?e.memoizedState:null}else e=zt.next;var n=bn===null?nt.memoizedState:bn.next;if(n!==null)bn=n,zt=e;else{if(e===null)throw nt.alternate===null?Error(p(467)):Error(p(310));zt=e,e={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},bn===null?nt.memoizedState=bn=e:bn=bn.next=e}return bn}function To(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function us(e){var n=cs;return cs+=1,El===null&&(El=[]),e=w0(El,e,n),n=nt,(bn===null?n.memoizedState:bn.next)===null&&(n=n.alternate,J.H=n===null||n.memoizedState===null?d1:Tu),e}function Ro(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return us(e);if(e.$$typeof===ae)return Ln(e)}throw Error(p(438,String(e)))}function xu(e){var n=null,a=nt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=nt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(g){return g.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=To(),nt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=Oe;return n.index++,a}function wr(e,n){return typeof n=="function"?n(e):n}function No(e){var n=xn();return pu(n,zt,e)}function pu(e,n,a){var o=e.queue;if(o===null)throw Error(p(311));o.lastRenderedReducer=a;var g=e.baseQueue,m=o.pending;if(m!==null){if(g!==null){var S=g.next;g.next=m.next,m.next=S}n.baseQueue=g=m,o.pending=null}if(m=e.baseState,g===null)e.memoizedState=m;else{n=g.next;var _=S=null,U=null,Q=n,ue=!1;do{var ge=Q.lane&-536870913;if(ge!==Q.lane?(pt&ge)===ge:(br&ge)===ge){var ee=Q.revertLane;if(ee===0)U!==null&&(U=U.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),ge===hl&&(ue=!0);else if((br&ee)===ee){Q=Q.next,ee===hl&&(ue=!0);continue}else ge={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(_=U=ge,S=m):U=U.next=ge,nt.lanes|=ee,la|=ee;ge=Q.action,Ha&&a(m,ge),m=Q.hasEagerState?Q.eagerState:a(m,ge)}else ee={lane:ge,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},U===null?(_=U=ee,S=m):U=U.next=ee,nt.lanes|=ge,la|=ge;Q=Q.next}while(Q!==null&&Q!==n);if(U===null?S=m:U.next=_,!c(m,e.memoizedState)&&(wn=!0,ue&&(a=gl,a!==null)))throw a;e.memoizedState=m,e.baseState=S,e.baseQueue=U,o.lastRenderedState=m}return g===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function mu(e){var n=xn(),a=n.queue;if(a===null)throw Error(p(311));a.lastRenderedReducer=e;var o=a.dispatch,g=a.pending,m=n.memoizedState;if(g!==null){a.pending=null;var S=g=g.next;do m=e(m,S.action),S=S.next;while(S!==g);c(m,n.memoizedState)||(wn=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),a.lastRenderedState=m}return[m,o]}function D0(e,n,a){var o=nt,g=xn(),m=yt;if(m){if(a===void 0)throw Error(p(407));a=a()}else a=n();var S=!c((zt||g).memoizedState,a);if(S&&(g.memoizedState=a,wn=!0),g=g.queue,bu(L0.bind(null,o,g,e),[e]),g.getSnapshot!==n||S||bn!==null&&bn.memoizedState.tag&1){if(o.flags|=2048,bl(9,{destroy:void 0},B0.bind(null,o,g,a,n),null),Yt===null)throw Error(p(349));m||(br&127)!==0||M0(o,n,a)}return a}function M0(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=nt.updateQueue,n===null?(n=To(),nt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function B0(e,n,a,o){n.value=a,n.getSnapshot=o,U0(n)&&k0(e)}function L0(e,n,a){return a(function(){U0(n)&&k0(e)})}function U0(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!c(e,a)}catch{return!0}}function k0(e){var n=Da(e,2);n!==null&&ri(n,e,2)}function yu(e){var n=Zn();if(typeof e=="function"){var a=e;if(e=a(),Ha){Se(!0);try{a()}finally{Se(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:e},n}function z0(e,n,a,o){return e.baseState=a,pu(e,zt,typeof o=="function"?o:wr)}function ug(e,n,a,o,g){if(Io(e))throw Error(p(485));if(e=n.action,e!==null){var m={payload:g,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};J.T!==null?a(!0):m.isTransition=!1,o(m),a=n.pending,a===null?(m.next=n.pending=m,F0(n,m)):(m.next=a.next,n.pending=a.next=m)}}function F0(e,n){var a=n.action,o=n.payload,g=e.state;if(n.isTransition){var m=J.T,S={};J.T=S;try{var _=a(g,o),U=J.S;U!==null&&U(S,_),j0(e,n,_)}catch(Q){Eu(e,n,Q)}finally{m!==null&&S.types!==null&&(m.types=S.types),J.T=m}}else try{m=a(g,o),j0(e,n,m)}catch(Q){Eu(e,n,Q)}}function j0(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){H0(e,n,o)},function(o){return Eu(e,n,o)}):H0(e,n,a)}function H0(e,n,a){n.status="fulfilled",n.value=a,P0(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,F0(e,a)))}function Eu(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,P0(n),n=n.next;while(n!==o)}e.action=null}function P0(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function G0(e,n){return n}function V0(e,n){if(yt){var a=Yt.formState;if(a!==null){e:{var o=nt;if(yt){if(Zt){t:{for(var g=Zt,m=_i;g.nodeType!==8;){if(!m){g=null;break t}if(g=Di(g.nextSibling),g===null){g=null;break t}}m=g.data,g=m==="F!"||m==="F"?g:null}if(g){Zt=Di(g.nextSibling),o=g.data==="F!";break e}}Qr(o)}o=!1}o&&(n=a[0])}}return a=Zn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:G0,lastRenderedState:n},a.queue=o,a=c1.bind(null,nt,o),o.dispatch=a,o=yu(!1),m=vu.bind(null,nt,!1,o.queue),o=Zn(),g={state:n,dispatch:null,action:e,pending:null},o.queue=g,a=ug.bind(null,nt,g,m,a),g.dispatch=a,o.memoizedState=e,[n,a,!1]}function X0(e){var n=xn();return Y0(n,zt,e)}function Y0(e,n,a){if(n=pu(e,n,G0)[0],e=No(wr)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=us(n)}catch(S){throw S===xl?yo:S}else o=n;n=xn();var g=n.queue,m=g.dispatch;return a!==n.memoizedState&&(nt.flags|=2048,bl(9,{destroy:void 0},fg.bind(null,g,a),null)),[o,m,e]}function fg(e,n){e.action=n}function W0(e){var n=xn(),a=zt;if(a!==null)return Y0(n,a,e);xn(),n=n.memoizedState,a=xn();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function bl(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=nt.updateQueue,n===null&&(n=To(),nt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function q0(){return xn().memoizedState}function Oo(e,n,a,o){var g=Zn();nt.flags|=e,g.memoizedState=bl(1|n,{destroy:void 0},a,o===void 0?null:o)}function _o(e,n,a,o){var g=xn();o=o===void 0?null:o;var m=g.memoizedState.inst;zt!==null&&o!==null&&uu(o,zt.memoizedState.deps)?g.memoizedState=bl(n,m,a,o):(nt.flags|=e,g.memoizedState=bl(1|n,m,a,o))}function Z0(e,n){Oo(8390656,8,e,n)}function bu(e,n){_o(2048,8,e,n)}function dg(e){nt.flags|=4;var n=nt.updateQueue;if(n===null)n=To(),nt.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function K0(e){var n=xn().memoizedState;return dg({ref:n,nextImpl:e}),function(){if((Ot&2)!==0)throw Error(p(440));return n.impl.apply(void 0,arguments)}}function Q0(e,n){return _o(4,2,e,n)}function J0(e,n){return _o(4,4,e,n)}function $0(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function e1(e,n,a){a=a!=null?a.concat([e]):null,_o(4,4,$0.bind(null,n,e),a)}function wu(){}function t1(e,n){var a=xn();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&uu(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function n1(e,n){var a=xn();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&uu(n,o[1]))return o[0];if(o=e(),Ha){Se(!0);try{e()}finally{Se(!1)}}return a.memoizedState=[o,n],o}function Au(e,n,a){return a===void 0||(br&1073741824)!==0&&(pt&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=id(),nt.lanes|=e,la|=e,a)}function i1(e,n,a,o){return c(a,n)?a:ml.current!==null?(e=Au(e,a,o),c(e,n)||(wn=!0),e):(br&42)===0||(br&1073741824)!==0&&(pt&261930)===0?(wn=!0,e.memoizedState=a):(e=id(),nt.lanes|=e,la|=e,n)}function r1(e,n,a,o,g){var m=fe.p;fe.p=m!==0&&8>m?m:8;var S=J.T,_={};J.T=_,vu(e,!1,n,a);try{var U=g(),Q=J.S;if(Q!==null&&Q(_,U),U!==null&&typeof U=="object"&&typeof U.then=="function"){var ue=sg(U,o);fs(e,n,ue,yi(e))}else fs(e,n,o,yi(e))}catch(ge){fs(e,n,{then:function(){},status:"rejected",reason:ge},yi())}finally{fe.p=m,S!==null&&_.types!==null&&(S.types=_.types),J.T=S}}function hg(){}function Su(e,n,a,o){if(e.tag!==5)throw Error(p(476));var g=a1(e).queue;r1(e,g,n,Be,a===null?hg:function(){return l1(e),a(o)})}function a1(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Be,baseState:Be,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:Be},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:wr,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function l1(e){var n=a1(e);n.next===null&&(n=e.alternate.memoizedState),fs(e,n.next.queue,{},yi())}function Cu(){return Ln(Ns)}function s1(){return xn().memoizedState}function o1(){return xn().memoizedState}function gg(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=yi();e=ea(a);var o=ta(n,e,a);o!==null&&(ri(o,n,a),ls(o,n,a)),n={cache:$c()},e.payload=n;return}n=n.return}}function xg(e,n,a){var o=yi();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Io(e)?u1(n,a):(a=Pc(e,n,a,o),a!==null&&(ri(a,e,o),f1(a,n,o)))}function c1(e,n,a){var o=yi();fs(e,n,a,o)}function fs(e,n,a,o){var g={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Io(e))u1(n,g);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var S=n.lastRenderedState,_=m(S,a);if(g.hasEagerState=!0,g.eagerState=_,c(_,S))return uo(e,n,g,0),Yt===null&&co(),!1}catch{}if(a=Pc(e,n,g,o),a!==null)return ri(a,e,o),f1(a,n,o),!0}return!1}function vu(e,n,a,o){if(o={lane:2,revertLane:rf(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Io(e)){if(n)throw Error(p(479))}else n=Pc(e,a,o,2),n!==null&&ri(n,e,2)}function Io(e){var n=e.alternate;return e===nt||n!==null&&n===nt}function u1(e,n){yl=Co=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function f1(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,Ki(e,a)}}var ds={readContext:Ln,use:Ro,useCallback:on,useContext:on,useEffect:on,useImperativeHandle:on,useLayoutEffect:on,useInsertionEffect:on,useMemo:on,useReducer:on,useRef:on,useState:on,useDebugValue:on,useDeferredValue:on,useTransition:on,useSyncExternalStore:on,useId:on,useHostTransitionStatus:on,useFormState:on,useActionState:on,useOptimistic:on,useMemoCache:on,useCacheRefresh:on};ds.useEffectEvent=on;var d1={readContext:Ln,use:Ro,useCallback:function(e,n){return Zn().memoizedState=[e,n===void 0?null:n],e},useContext:Ln,useEffect:Z0,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Oo(4194308,4,$0.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Oo(4194308,4,e,n)},useInsertionEffect:function(e,n){Oo(4,2,e,n)},useMemo:function(e,n){var a=Zn();n=n===void 0?null:n;var o=e();if(Ha){Se(!0);try{e()}finally{Se(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=Zn();if(a!==void 0){var g=a(n);if(Ha){Se(!0);try{a(n)}finally{Se(!1)}}}else g=n;return o.memoizedState=o.baseState=g,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:g},o.queue=e,e=e.dispatch=xg.bind(null,nt,e),[o.memoizedState,e]},useRef:function(e){var n=Zn();return e={current:e},n.memoizedState=e},useState:function(e){e=yu(e);var n=e.queue,a=c1.bind(null,nt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:wu,useDeferredValue:function(e,n){var a=Zn();return Au(a,e,n)},useTransition:function(){var e=yu(!1);return e=r1.bind(null,nt,e.queue,!0,!1),Zn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=nt,g=Zn();if(yt){if(a===void 0)throw Error(p(407));a=a()}else{if(a=n(),Yt===null)throw Error(p(349));(pt&127)!==0||M0(o,n,a)}g.memoizedState=a;var m={value:a,getSnapshot:n};return g.queue=m,Z0(L0.bind(null,o,m,e),[e]),o.flags|=2048,bl(9,{destroy:void 0},B0.bind(null,o,m,a,n),null),a},useId:function(){var e=Zn(),n=Yt.identifierPrefix;if(yt){var a=nr,o=tr;a=(o&~(1<<32-Ne(o)-1)).toString(32)+a,n="_"+n+"R_"+a,a=vo++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=og++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cu,useFormState:V0,useActionState:V0,useOptimistic:function(e){var n=Zn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=vu.bind(null,nt,!0,a),a.dispatch=n,[e,n]},useMemoCache:xu,useCacheRefresh:function(){return Zn().memoizedState=gg.bind(null,nt)},useEffectEvent:function(e){var n=Zn(),a={impl:e};return n.memoizedState=a,function(){if((Ot&2)!==0)throw Error(p(440));return a.impl.apply(void 0,arguments)}}},Tu={readContext:Ln,use:Ro,useCallback:t1,useContext:Ln,useEffect:bu,useImperativeHandle:e1,useInsertionEffect:Q0,useLayoutEffect:J0,useMemo:n1,useReducer:No,useRef:q0,useState:function(){return No(wr)},useDebugValue:wu,useDeferredValue:function(e,n){var a=xn();return i1(a,zt.memoizedState,e,n)},useTransition:function(){var e=No(wr)[0],n=xn().memoizedState;return[typeof e=="boolean"?e:us(e),n]},useSyncExternalStore:D0,useId:s1,useHostTransitionStatus:Cu,useFormState:X0,useActionState:X0,useOptimistic:function(e,n){var a=xn();return z0(a,zt,e,n)},useMemoCache:xu,useCacheRefresh:o1};Tu.useEffectEvent=K0;var h1={readContext:Ln,use:Ro,useCallback:t1,useContext:Ln,useEffect:bu,useImperativeHandle:e1,useInsertionEffect:Q0,useLayoutEffect:J0,useMemo:n1,useReducer:mu,useRef:q0,useState:function(){return mu(wr)},useDebugValue:wu,useDeferredValue:function(e,n){var a=xn();return zt===null?Au(a,e,n):i1(a,zt.memoizedState,e,n)},useTransition:function(){var e=mu(wr)[0],n=xn().memoizedState;return[typeof e=="boolean"?e:us(e),n]},useSyncExternalStore:D0,useId:s1,useHostTransitionStatus:Cu,useFormState:W0,useActionState:W0,useOptimistic:function(e,n){var a=xn();return zt!==null?z0(a,zt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:xu,useCacheRefresh:o1};h1.useEffectEvent=K0;function Ru(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:M({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Nu={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=yi(),g=ea(o);g.payload=n,a!=null&&(g.callback=a),n=ta(e,g,o),n!==null&&(ri(n,e,o),ls(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=yi(),g=ea(o);g.tag=1,g.payload=n,a!=null&&(g.callback=a),n=ta(e,g,o),n!==null&&(ri(n,e,o),ls(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=yi(),o=ea(a);o.tag=2,n!=null&&(o.callback=n),n=ta(e,o,a),n!==null&&(ri(n,e,a),ls(n,e,a))}};function g1(e,n,a,o,g,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,m,S):n.prototype&&n.prototype.isPureReactComponent?!f(a,o)||!f(g,m):!0}function x1(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Nu.enqueueReplaceState(n,n.state,null)}function Pa(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=M({},a));for(var g in e)a[g]===void 0&&(a[g]=e[g])}return a}function p1(e){oo(e)}function m1(e){console.error(e)}function y1(e){oo(e)}function Do(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function E1(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Ou(e,n,a){return a=ea(a),a.tag=3,a.payload={element:null},a.callback=function(){Do(e,n)},a}function b1(e){return e=ea(e),e.tag=3,e}function w1(e,n,a,o){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var m=o.value;e.payload=function(){return g(m)},e.callback=function(){E1(n,a,o)}}var S=a.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){E1(n,a,o),typeof g!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var _=o.stack;this.componentDidCatch(o.value,{componentStack:_!==null?_:""})})}function pg(e,n,a,o,g){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&dl(n,a,g,!0),a=gi.current,a!==null){switch(a.tag){case 31:case 13:return Ii===null?Vo():a.alternate===null&&cn===0&&(cn=3),a.flags&=-257,a.flags|=65536,a.lanes=g,o===Eo?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ef(e,o,g)),!1;case 22:return a.flags|=65536,o===Eo?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ef(e,o,g)),!1}throw Error(p(435,a.tag))}return ef(e,o,g),Vo(),!1}if(yt)return n=gi.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=g,o!==qc&&(e=Error(p(422),{cause:o}),ts(Ri(e,a)))):(o!==qc&&(n=Error(p(423),{cause:o}),ts(Ri(n,a))),e=e.current.alternate,e.flags|=65536,g&=-g,e.lanes|=g,o=Ri(o,a),g=Ou(e.stateNode,o,g),au(e,g),cn!==4&&(cn=2)),!1;var m=Error(p(520),{cause:o});if(m=Ri(m,a),bs===null?bs=[m]:bs.push(m),cn!==4&&(cn=2),n===null)return!0;o=Ri(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=g&-g,a.lanes|=e,e=Ou(a.stateNode,o,e),au(a,e),!1;case 1:if(n=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(sa===null||!sa.has(m))))return a.flags|=65536,g&=-g,a.lanes|=g,g=b1(g),w1(g,e,a,o),au(a,g),!1}a=a.return}while(a!==null);return!1}var _u=Error(p(461)),wn=!1;function Un(e,n,a,o){n.child=e===null?v0(n,null,a,o):ja(n,e.child,a,o)}function A1(e,n,a,o,g){a=a.render;var m=n.ref;if("ref"in o){var S={};for(var _ in o)_!=="ref"&&(S[_]=o[_])}else S=o;return Ua(n),o=fu(e,n,a,S,m,g),_=du(),e!==null&&!wn?(hu(e,n,g),Ar(e,n,g)):(yt&&_&&Yc(n),n.flags|=1,Un(e,n,o,g),n.child)}function S1(e,n,a,o,g){if(e===null){var m=a.type;return typeof m=="function"&&!Gc(m)&&m.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=m,C1(e,n,m,o,g)):(e=ho(a.type,null,o,n,n.mode,g),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!zu(e,g)){var S=m.memoizedProps;if(a=a.compare,a=a!==null?a:f,a(S,o)&&e.ref===n.ref)return Ar(e,n,g)}return n.flags|=1,e=pr(m,o),e.ref=n.ref,e.return=n,n.child=e}function C1(e,n,a,o,g){if(e!==null){var m=e.memoizedProps;if(f(m,o)&&e.ref===n.ref)if(wn=!1,n.pendingProps=o=m,zu(e,g))(e.flags&131072)!==0&&(wn=!0);else return n.lanes=e.lanes,Ar(e,n,g)}return Iu(e,n,a,o,g)}function v1(e,n,a,o){var g=o.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|a:a,e!==null){for(o=n.child=e.child,g=0;o!==null;)g=g|o.lanes|o.childLanes,o=o.sibling;o=g&~m}else o=0,n.child=null;return T1(e,n,m,a,o)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&mo(n,m!==null?m.cachePool:null),m!==null?N0(n,m):su(),O0(n);else return o=n.lanes=536870912,T1(e,n,m!==null?m.baseLanes|a:a,a,o)}else m!==null?(mo(n,m.cachePool),N0(n,m),ia(),n.memoizedState=null):(e!==null&&mo(n,null),su(),ia());return Un(e,n,g,a),n.child}function hs(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function T1(e,n,a,o,g){var m=tu();return m=m===null?null:{parent:En._currentValue,pool:m},n.memoizedState={baseLanes:a,cachePool:m},e!==null&&mo(n,null),su(),O0(n),e!==null&&dl(e,n,o,!0),n.childLanes=g,null}function Mo(e,n){return n=Lo({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function R1(e,n,a){return ja(n,e.child,null,a),e=Mo(n,n.pendingProps),e.flags|=2,xi(n),n.memoizedState=null,e}function mg(e,n,a){var o=n.pendingProps,g=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(yt){if(o.mode==="hidden")return e=Mo(n,o),n.lanes=536870912,hs(null,e);if(cu(n),(e=Zt)?(e=Fd(e,_i),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Zr!==null?{id:tr,overflow:nr}:null,retryLane:536870912,hydrationErrors:null},a=u0(e),a.return=n,n.child=a,Bn=n,Zt=null)):e=null,e===null)throw Qr(n);return n.lanes=536870912,null}return Mo(n,o)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(cu(n),g)if(n.flags&256)n.flags&=-257,n=R1(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(p(558));else if(wn||dl(e,n,a,!1),g=(a&e.childLanes)!==0,wn||g){if(o=Yt,o!==null&&(S=Ka(o,a),S!==0&&S!==m.retryLane))throw m.retryLane=S,Da(e,S),ri(o,e,S),_u;Vo(),n=R1(e,n,a)}else e=m.treeContext,Zt=Di(S.nextSibling),Bn=n,yt=!0,Kr=null,_i=!1,e!==null&&h0(n,e),n=Mo(n,o),n.flags|=4096;return n}return e=pr(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Bo(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(p(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function Iu(e,n,a,o,g){return Ua(n),a=fu(e,n,a,o,void 0,g),o=du(),e!==null&&!wn?(hu(e,n,g),Ar(e,n,g)):(yt&&o&&Yc(n),n.flags|=1,Un(e,n,a,g),n.child)}function N1(e,n,a,o,g,m){return Ua(n),n.updateQueue=null,a=I0(n,o,a,g),_0(e),o=du(),e!==null&&!wn?(hu(e,n,m),Ar(e,n,m)):(yt&&o&&Yc(n),n.flags|=1,Un(e,n,a,m),n.child)}function O1(e,n,a,o,g){if(Ua(n),n.stateNode===null){var m=ol,S=a.contextType;typeof S=="object"&&S!==null&&(m=Ln(S)),m=new a(o,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Nu,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=o,m.state=n.memoizedState,m.refs={},iu(n),S=a.contextType,m.context=typeof S=="object"&&S!==null?Ln(S):ol,m.state=n.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(Ru(n,a,S,o),m.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&Nu.enqueueReplaceState(m,m.state,null),os(n,o,m,g),ss(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,U=Pa(a,_);m.props=U;var Q=m.context,ue=a.contextType;S=ol,typeof ue=="object"&&ue!==null&&(S=Ln(ue));var ge=a.getDerivedStateFromProps;ue=typeof ge=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,ue||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||Q!==S)&&x1(n,m,o,S),$r=!1;var ee=n.memoizedState;m.state=ee,os(n,o,m,g),ss(),Q=n.memoizedState,_||ee!==Q||$r?(typeof ge=="function"&&(Ru(n,a,ge,o),Q=n.memoizedState),(U=$r||g1(n,a,U,o,ee,Q,S))?(ue||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=Q),m.props=o,m.state=Q,m.context=S,o=U):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{m=n.stateNode,ru(e,n),S=n.memoizedProps,ue=Pa(a,S),m.props=ue,ge=n.pendingProps,ee=m.context,Q=a.contextType,U=ol,typeof Q=="object"&&Q!==null&&(U=Ln(Q)),_=a.getDerivedStateFromProps,(Q=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==ge||ee!==U)&&x1(n,m,o,U),$r=!1,ee=n.memoizedState,m.state=ee,os(n,o,m,g),ss();var se=n.memoizedState;S!==ge||ee!==se||$r||e!==null&&e.dependencies!==null&&xo(e.dependencies)?(typeof _=="function"&&(Ru(n,a,_,o),se=n.memoizedState),(ue=$r||g1(n,a,ue,o,ee,se,U)||e!==null&&e.dependencies!==null&&xo(e.dependencies))?(Q||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(o,se,U),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(o,se,U)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=se),m.props=o,m.state=se,m.context=U,o=ue):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&ee===e.memoizedState||(n.flags|=1024),o=!1)}return m=o,Bo(e,n),o=(n.flags&128)!==0,m||o?(m=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&o?(n.child=ja(n,e.child,null,g),n.child=ja(n,null,a,g)):Un(e,n,a,g),n.memoizedState=m.state,e=n.child):e=Ar(e,n,g),e}function _1(e,n,a,o){return Ba(),n.flags|=256,Un(e,n,a,o),n.child}var Du={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mu(e){return{baseLanes:e,cachePool:E0()}}function Bu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=mi),e}function I1(e,n,a){var o=n.pendingProps,g=!1,m=(n.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(gn.current&2)!==0),S&&(g=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(yt){if(g?na(n):ia(),(e=Zt)?(e=Fd(e,_i),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Zr!==null?{id:tr,overflow:nr}:null,retryLane:536870912,hydrationErrors:null},a=u0(e),a.return=n,n.child=a,Bn=n,Zt=null)):e=null,e===null)throw Qr(n);return mf(e)?n.lanes=32:n.lanes=536870912,null}var _=o.children;return o=o.fallback,g?(ia(),g=n.mode,_=Lo({mode:"hidden",children:_},g),o=Ma(o,g,a,null),_.return=n,o.return=n,_.sibling=o,n.child=_,o=n.child,o.memoizedState=Mu(a),o.childLanes=Bu(e,S,a),n.memoizedState=Du,hs(null,o)):(na(n),Lu(n,_))}var U=e.memoizedState;if(U!==null&&(_=U.dehydrated,_!==null)){if(m)n.flags&256?(na(n),n.flags&=-257,n=Uu(e,n,a)):n.memoizedState!==null?(ia(),n.child=e.child,n.flags|=128,n=null):(ia(),_=o.fallback,g=n.mode,o=Lo({mode:"visible",children:o.children},g),_=Ma(_,g,a,null),_.flags|=2,o.return=n,_.return=n,o.sibling=_,n.child=o,ja(n,e.child,null,a),o=n.child,o.memoizedState=Mu(a),o.childLanes=Bu(e,S,a),n.memoizedState=Du,n=hs(null,o));else if(na(n),mf(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var Q=S.dgst;S=Q,o=Error(p(419)),o.stack="",o.digest=S,ts({value:o,source:null,stack:null}),n=Uu(e,n,a)}else if(wn||dl(e,n,a,!1),S=(a&e.childLanes)!==0,wn||S){if(S=Yt,S!==null&&(o=Ka(S,a),o!==0&&o!==U.retryLane))throw U.retryLane=o,Da(e,o),ri(S,e,o),_u;pf(_)||Vo(),n=Uu(e,n,a)}else pf(_)?(n.flags|=192,n.child=e.child,n=null):(e=U.treeContext,Zt=Di(_.nextSibling),Bn=n,yt=!0,Kr=null,_i=!1,e!==null&&h0(n,e),n=Lu(n,o.children),n.flags|=4096);return n}return g?(ia(),_=o.fallback,g=n.mode,U=e.child,Q=U.sibling,o=pr(U,{mode:"hidden",children:o.children}),o.subtreeFlags=U.subtreeFlags&65011712,Q!==null?_=pr(Q,_):(_=Ma(_,g,a,null),_.flags|=2),_.return=n,o.return=n,o.sibling=_,n.child=o,hs(null,o),o=n.child,_=e.child.memoizedState,_===null?_=Mu(a):(g=_.cachePool,g!==null?(U=En._currentValue,g=g.parent!==U?{parent:U,pool:U}:g):g=E0(),_={baseLanes:_.baseLanes|a,cachePool:g}),o.memoizedState=_,o.childLanes=Bu(e,S,a),n.memoizedState=Du,hs(e.child,o)):(na(n),a=e.child,e=a.sibling,a=pr(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=a,n.memoizedState=null,a)}function Lu(e,n){return n=Lo({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Lo(e,n){return e=hi(22,e,null,n),e.lanes=0,e}function Uu(e,n,a){return ja(n,e.child,null,a),e=Lu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function D1(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Qc(e.return,n,a)}function ku(e,n,a,o,g,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:g,treeForkCount:m}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=o,S.tail=a,S.tailMode=g,S.treeForkCount=m)}function M1(e,n,a){var o=n.pendingProps,g=o.revealOrder,m=o.tail;o=o.children;var S=gn.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,ve(gn,S),Un(e,n,o,a),o=yt?es:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&D1(e,a,n);else if(e.tag===19)D1(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(g){case"forwards":for(a=n.child,g=null;a!==null;)e=a.alternate,e!==null&&So(e)===null&&(g=a),a=a.sibling;a=g,a===null?(g=n.child,n.child=null):(g=a.sibling,a.sibling=null),ku(n,!1,g,a,m,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=n.child,n.child=null;g!==null;){if(e=g.alternate,e!==null&&So(e)===null){n.child=g;break}e=g.sibling,g.sibling=a,a=g,g=e}ku(n,!0,a,null,m,o);break;case"together":ku(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ar(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),la|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(dl(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(p(153));if(n.child!==null){for(e=n.child,a=pr(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=pr(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function zu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xo(e)))}function yg(e,n,a){switch(n.tag){case 3:tt(n,n.stateNode.containerInfo),Jr(n,En,e.memoizedState.cache),Ba();break;case 27:case 5:On(n);break;case 4:tt(n,n.stateNode.containerInfo);break;case 10:Jr(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cu(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(na(n),n.flags|=128,null):(a&n.child.childLanes)!==0?I1(e,n,a):(na(n),e=Ar(e,n,a),e!==null?e.sibling:null);na(n);break;case 19:var g=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(dl(e,n,a,!1),o=(a&n.childLanes)!==0),g){if(o)return M1(e,n,a);n.flags|=128}if(g=n.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ve(gn,gn.current),o)break;return null;case 22:return n.lanes=0,v1(e,n,a,n.pendingProps);case 24:Jr(n,En,e.memoizedState.cache)}return Ar(e,n,a)}function B1(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)wn=!0;else{if(!zu(e,a)&&(n.flags&128)===0)return wn=!1,yg(e,n,a);wn=(e.flags&131072)!==0}else wn=!1,yt&&(n.flags&1048576)!==0&&d0(n,es,n.index);switch(n.lanes=0,n.tag){case 16:e:{var o=n.pendingProps;if(e=za(n.elementType),n.type=e,typeof e=="function")Gc(e)?(o=Pa(e,o),n.tag=1,n=O1(null,n,e,o,a)):(n.tag=0,n=Iu(null,n,e,o,a));else{if(e!=null){var g=e.$$typeof;if(g===ce){n.tag=11,n=A1(null,n,e,o,a);break e}else if(g===P){n.tag=14,n=S1(null,n,e,o,a);break e}}throw n=Je(e)||e,Error(p(306,n,""))}}return n;case 0:return Iu(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,g=Pa(o,n.pendingProps),O1(e,n,o,g,a);case 3:e:{if(tt(n,n.stateNode.containerInfo),e===null)throw Error(p(387));o=n.pendingProps;var m=n.memoizedState;g=m.element,ru(e,n),os(n,o,null,a);var S=n.memoizedState;if(o=S.cache,Jr(n,En,o),o!==m.cache&&Jc(n,[En],a,!0),ss(),o=S.element,m.isDehydrated)if(m={element:o,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=_1(e,n,o,a);break e}else if(o!==g){g=Ri(Error(p(424)),n),ts(g),n=_1(e,n,o,a);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Zt=Di(e.firstChild),Bn=n,yt=!0,Kr=null,_i=!0,a=v0(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Ba(),o===g){n=Ar(e,n,a);break e}Un(e,n,o,a)}n=n.child}return n;case 26:return Bo(e,n),e===null?(a=Xd(n.type,null,n.pendingProps,null))?n.memoizedState=a:yt||(a=n.type,e=n.pendingProps,o=Qo(ye.current).createElement(a),o[fn]=n,o[Mt]=e,kn(o,a,e),ln(o),n.stateNode=o):n.memoizedState=Xd(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return On(n),e===null&&yt&&(o=n.stateNode=Pd(n.type,n.pendingProps,ye.current),Bn=n,_i=!0,g=Zt,fa(n.type)?(yf=g,Zt=Di(o.firstChild)):Zt=g),Un(e,n,n.pendingProps.children,a),Bo(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&yt&&((g=o=Zt)&&(o=qg(o,n.type,n.pendingProps,_i),o!==null?(n.stateNode=o,Bn=n,Zt=Di(o.firstChild),_i=!1,g=!0):g=!1),g||Qr(n)),On(n),g=n.type,m=n.pendingProps,S=e!==null?e.memoizedProps:null,o=m.children,hf(g,m)?o=null:S!==null&&hf(g,S)&&(n.flags|=32),n.memoizedState!==null&&(g=fu(e,n,cg,null,null,a),Ns._currentValue=g),Bo(e,n),Un(e,n,o,a),n.child;case 6:return e===null&&yt&&((e=a=Zt)&&(a=Zg(a,n.pendingProps,_i),a!==null?(n.stateNode=a,Bn=n,Zt=null,e=!0):e=!1),e||Qr(n)),null;case 13:return I1(e,n,a);case 4:return tt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=ja(n,null,o,a):Un(e,n,o,a),n.child;case 11:return A1(e,n,n.type,n.pendingProps,a);case 7:return Un(e,n,n.pendingProps,a),n.child;case 8:return Un(e,n,n.pendingProps.children,a),n.child;case 12:return Un(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Jr(n,n.type,o.value),Un(e,n,o.children,a),n.child;case 9:return g=n.type._context,o=n.pendingProps.children,Ua(n),g=Ln(g),o=o(g),n.flags|=1,Un(e,n,o,a),n.child;case 14:return S1(e,n,n.type,n.pendingProps,a);case 15:return C1(e,n,n.type,n.pendingProps,a);case 19:return M1(e,n,a);case 31:return mg(e,n,a);case 22:return v1(e,n,a,n.pendingProps);case 24:return Ua(n),o=Ln(En),e===null?(g=tu(),g===null&&(g=Yt,m=$c(),g.pooledCache=m,m.refCount++,m!==null&&(g.pooledCacheLanes|=a),g=m),n.memoizedState={parent:o,cache:g},iu(n),Jr(n,En,g)):((e.lanes&a)!==0&&(ru(e,n),os(n,null,null,a),ss()),g=e.memoizedState,m=n.memoizedState,g.parent!==o?(g={parent:o,cache:o},n.memoizedState=g,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=g),Jr(n,En,o)):(o=m.cache,Jr(n,En,o),o!==g.cache&&Jc(n,[En],a,!0))),Un(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(p(156,n.tag))}function Sr(e){e.flags|=4}function Fu(e,n,a,o,g){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(g&335544128)===g)if(e.stateNode.complete)e.flags|=8192;else if(sd())e.flags|=8192;else throw Fa=Eo,nu}else e.flags&=-16777217}function L1(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Kd(n))if(sd())e.flags|=8192;else throw Fa=Eo,nu}function Uo(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Cn():536870912,e.lanes|=n,Cl|=n)}function gs(e,n){if(!yt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Kt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var g=e.child;g!==null;)a|=g.lanes|g.childLanes,o|=g.subtreeFlags&65011712,o|=g.flags&65011712,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)a|=g.lanes|g.childLanes,o|=g.subtreeFlags,o|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function Eg(e,n,a){var o=n.pendingProps;switch(Wc(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Kt(n),null;case 1:return Kt(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Er(En),Tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(fl(n)?Sr(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zc())),Kt(n),null;case 26:var g=n.type,m=n.memoizedState;return e===null?(Sr(n),m!==null?(Kt(n),L1(n,m)):(Kt(n),Fu(n,g,null,o,a))):m?m!==e.memoizedState?(Sr(n),Kt(n),L1(n,m)):(Kt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Sr(n),Kt(n),Fu(n,g,e,o,a)),null;case 27:if(rn(n),a=ye.current,g=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Sr(n);else{if(!o){if(n.stateNode===null)throw Error(p(166));return Kt(n),null}e=me.current,fl(n)?g0(n):(e=Pd(g,o,a),n.stateNode=e,Sr(n))}return Kt(n),null;case 5:if(rn(n),g=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Sr(n);else{if(!o){if(n.stateNode===null)throw Error(p(166));return Kt(n),null}if(m=me.current,fl(n))g0(n);else{var S=Qo(ye.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof o.is=="string"?S.createElement("select",{is:o.is}):S.createElement("select"),o.multiple?m.multiple=!0:o.size&&(m.size=o.size);break;default:m=typeof o.is=="string"?S.createElement(g,{is:o.is}):S.createElement(g)}}m[fn]=n,m[Mt]=o;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=m;e:switch(kn(m,g,o),g){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Sr(n)}}return Kt(n),Fu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Sr(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(p(166));if(e=ye.current,fl(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,g=Bn,g!==null)switch(g.tag){case 27:case 5:o=g.memoizedProps}e[fn]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Id(e.nodeValue,a)),e||Qr(n,!0)}else e=Qo(e).createTextNode(o),e[fn]=n,n.stateNode=e}return Kt(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(o=fl(n),a!==null){if(e===null){if(!o)throw Error(p(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(p(557));e[fn]=n}else Ba(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Kt(n),e=!1}else a=Zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(xi(n),n):(xi(n),null);if((n.flags&128)!==0)throw Error(p(558))}return Kt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(g=fl(n),o!==null&&o.dehydrated!==null){if(e===null){if(!g)throw Error(p(318));if(g=n.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(p(317));g[fn]=n}else Ba(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Kt(n),g=!1}else g=Zc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=g),g=!0;if(!g)return n.flags&256?(xi(n),n):(xi(n),null)}return xi(n),(n.flags&128)!==0?(n.lanes=a,n):(a=o!==null,e=e!==null&&e.memoizedState!==null,a&&(o=n.child,g=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(g=o.alternate.memoizedState.cachePool.pool),m=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),m!==g&&(o.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),Uo(n,n.updateQueue),Kt(n),null);case 4:return Tt(),e===null&&of(n.stateNode.containerInfo),Kt(n),null;case 10:return Er(n.type),Kt(n),null;case 19:if(le(gn),o=n.memoizedState,o===null)return Kt(n),null;if(g=(n.flags&128)!==0,m=o.rendering,m===null)if(g)gs(o,!1);else{if(cn!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=So(e),m!==null){for(n.flags|=128,gs(o,!1),e=m.updateQueue,n.updateQueue=e,Uo(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)c0(a,e),a=a.sibling;return ve(gn,gn.current&1|2),yt&&mr(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&Pt()>Ho&&(n.flags|=128,g=!0,gs(o,!1),n.lanes=4194304)}else{if(!g)if(e=So(m),e!==null){if(n.flags|=128,g=!0,e=e.updateQueue,n.updateQueue=e,Uo(n,e),gs(o,!0),o.tail===null&&o.tailMode==="hidden"&&!m.alternate&&!yt)return Kt(n),null}else 2*Pt()-o.renderingStartTime>Ho&&a!==536870912&&(n.flags|=128,g=!0,gs(o,!1),n.lanes=4194304);o.isBackwards?(m.sibling=n.child,n.child=m):(e=o.last,e!==null?e.sibling=m:n.child=m,o.last=m)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Pt(),e.sibling=null,a=gn.current,ve(gn,g?a&1|2:a&1),yt&&mr(n,o.treeForkCount),e):(Kt(n),null);case 22:case 23:return xi(n),ou(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(Kt(n),n.subtreeFlags&6&&(n.flags|=8192)):Kt(n),a=n.updateQueue,a!==null&&Uo(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&le(ka),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Er(En),Kt(n),null;case 25:return null;case 30:return null}throw Error(p(156,n.tag))}function bg(e,n){switch(Wc(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Er(En),Tt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return rn(n),null;case 31:if(n.memoizedState!==null){if(xi(n),n.alternate===null)throw Error(p(340));Ba()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(p(340));Ba()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return le(gn),null;case 4:return Tt(),null;case 10:return Er(n.type),null;case 22:case 23:return xi(n),ou(),e!==null&&le(ka),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Er(En),null;case 25:return null;default:return null}}function U1(e,n){switch(Wc(n),n.tag){case 3:Er(En),Tt();break;case 26:case 27:case 5:rn(n);break;case 4:Tt();break;case 31:n.memoizedState!==null&&xi(n);break;case 13:xi(n);break;case 19:le(gn);break;case 10:Er(n.type);break;case 22:case 23:xi(n),ou(),e!==null&&le(ka);break;case 24:Er(En)}}function xs(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var g=o.next;a=g;do{if((a.tag&e)===e){o=void 0;var m=a.create,S=a.inst;o=m(),S.destroy=o}a=a.next}while(a!==g)}}catch(_){Lt(n,n.return,_)}}function ra(e,n,a){try{var o=n.updateQueue,g=o!==null?o.lastEffect:null;if(g!==null){var m=g.next;o=m;do{if((o.tag&e)===e){var S=o.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,g=n;var U=a,Q=_;try{Q()}catch(ue){Lt(g,U,ue)}}}o=o.next}while(o!==m)}}catch(ue){Lt(n,n.return,ue)}}function k1(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{R0(n,a)}catch(o){Lt(e,e.return,o)}}}function z1(e,n,a){a.props=Pa(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){Lt(e,n,o)}}function ps(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(g){Lt(e,n,g)}}function ir(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(g){Lt(e,n,g)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){Lt(e,n,g)}else a.current=null}function F1(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(g){Lt(e,e.return,g)}}function ju(e,n,a){try{var o=e.stateNode;Pg(o,e.type,a,n),o[Mt]=n}catch(g){Lt(e,e.return,g)}}function j1(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fa(e.type)||e.tag===4}function Hu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||j1(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pu(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Qn));else if(o!==4&&(o===27&&fa(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(Pu(e,n,a),e=e.sibling;e!==null;)Pu(e,n,a),e=e.sibling}function ko(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&fa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(ko(e,n,a),e=e.sibling;e!==null;)ko(e,n,a),e=e.sibling}function H1(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,g=n.attributes;g.length;)n.removeAttributeNode(g[0]);kn(n,o,a),n[fn]=e,n[Mt]=a}catch(m){Lt(e,e.return,m)}}var Cr=!1,An=!1,Gu=!1,P1=typeof WeakSet=="function"?WeakSet:Set,In=null;function wg(e,n){if(e=e.containerInfo,ff=rc,e=T(e),O(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var g=o.anchorOffset,m=o.focusNode;o=o.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var S=0,_=-1,U=-1,Q=0,ue=0,ge=e,ee=null;t:for(;;){for(var se;ge!==a||g!==0&&ge.nodeType!==3||(_=S+g),ge!==m||o!==0&&ge.nodeType!==3||(U=S+o),ge.nodeType===3&&(S+=ge.nodeValue.length),(se=ge.firstChild)!==null;)ee=ge,ge=se;for(;;){if(ge===e)break t;if(ee===a&&++Q===g&&(_=S),ee===m&&++ue===o&&(U=S),(se=ge.nextSibling)!==null)break;ge=ee,ee=ge.parentNode}ge=se}a=_===-1||U===-1?null:{start:_,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(df={focusedElem:e,selectionRange:a},rc=!1,In=n;In!==null;)if(n=In,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,In=e;else for(;In!==null;){switch(n=In,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)g=e[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,a=n,g=m.memoizedProps,m=m.memoizedState,o=a.stateNode;try{var Le=Pa(a.type,g);e=o.getSnapshotBeforeUpdate(Le,m),o.__reactInternalSnapshotBeforeUpdate=e}catch(We){Lt(a,a.return,We)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)xf(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":xf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(p(163))}if(e=n.sibling,e!==null){e.return=n.return,In=e;break}In=n.return}}function G1(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Tr(e,a),o&4&&xs(5,a);break;case 1:if(Tr(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(S){Lt(a,a.return,S)}else{var g=Pa(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(g,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Lt(a,a.return,S)}}o&64&&k1(a),o&512&&ps(a,a.return);break;case 3:if(Tr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{R0(e,n)}catch(S){Lt(a,a.return,S)}}break;case 27:n===null&&o&4&&H1(a);case 26:case 5:Tr(e,a),n===null&&o&4&&F1(a),o&512&&ps(a,a.return);break;case 12:Tr(e,a);break;case 31:Tr(e,a),o&4&&Y1(e,a);break;case 13:Tr(e,a),o&4&&W1(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=_g.bind(null,a),Kg(e,a))));break;case 22:if(o=a.memoizedState!==null||Cr,!o){n=n!==null&&n.memoizedState!==null||An,g=Cr;var m=An;Cr=o,(An=n)&&!m?Rr(e,a,(a.subtreeFlags&8772)!==0):Tr(e,a),Cr=g,An=m}break;case 30:break;default:Tr(e,a)}}function V1(e){var n=e.alternate;n!==null&&(e.alternate=null,V1(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Kn(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Jt=null,ei=!1;function vr(e,n,a){for(a=a.child;a!==null;)X1(e,n,a),a=a.sibling}function X1(e,n,a){if(we&&typeof we.onCommitFiberUnmount=="function")try{we.onCommitFiberUnmount(kt,a)}catch{}switch(a.tag){case 26:An||ir(a,n),vr(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:An||ir(a,n);var o=Jt,g=ei;fa(a.type)&&(Jt=a.stateNode,ei=!1),vr(e,n,a),vs(a.stateNode),Jt=o,ei=g;break;case 5:An||ir(a,n);case 6:if(o=Jt,g=ei,Jt=null,vr(e,n,a),Jt=o,ei=g,Jt!==null)if(ei)try{(Jt.nodeType===9?Jt.body:Jt.nodeName==="HTML"?Jt.ownerDocument.body:Jt).removeChild(a.stateNode)}catch(m){Lt(a,n,m)}else try{Jt.removeChild(a.stateNode)}catch(m){Lt(a,n,m)}break;case 18:Jt!==null&&(ei?(e=Jt,kd(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Dl(e)):kd(Jt,a.stateNode));break;case 4:o=Jt,g=ei,Jt=a.stateNode.containerInfo,ei=!0,vr(e,n,a),Jt=o,ei=g;break;case 0:case 11:case 14:case 15:ra(2,a,n),An||ra(4,a,n),vr(e,n,a);break;case 1:An||(ir(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&z1(a,n,o)),vr(e,n,a);break;case 21:vr(e,n,a);break;case 22:An=(o=An)||a.memoizedState!==null,vr(e,n,a),An=o;break;default:vr(e,n,a)}}function Y1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Dl(e)}catch(a){Lt(n,n.return,a)}}}function W1(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Dl(e)}catch(a){Lt(n,n.return,a)}}function Ag(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new P1),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new P1),n;default:throw Error(p(435,e.tag))}}function zo(e,n){var a=Ag(e);n.forEach(function(o){if(!a.has(o)){a.add(o);var g=Ig.bind(null,e,o);o.then(g,g)}})}function ti(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var g=a[o],m=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(fa(_.type)){Jt=_.stateNode,ei=!1;break e}break;case 5:Jt=_.stateNode,ei=!1;break e;case 3:case 4:Jt=_.stateNode.containerInfo,ei=!0;break e}_=_.return}if(Jt===null)throw Error(p(160));X1(m,S,g),Jt=null,ei=!1,m=g.alternate,m!==null&&(m.return=null),g.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)q1(n,e),n=n.sibling}var Vi=null;function q1(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ti(n,e),ni(e),o&4&&(ra(3,e,e.return),xs(3,e),ra(5,e,e.return));break;case 1:ti(n,e),ni(e),o&512&&(An||a===null||ir(a,a.return)),o&64&&Cr&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var g=Vi;if(ti(n,e),ni(e),o&512&&(An||a===null||ir(a,a.return)),o&4){var m=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){e:{o=e.type,a=e.memoizedProps,g=g.ownerDocument||g;t:switch(o){case"title":m=g.getElementsByTagName("title")[0],(!m||m[Sa]||m[fn]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=g.createElement(o),g.head.insertBefore(m,g.querySelector("head > title"))),kn(m,o,a),m[fn]=e,ln(m),o=m;break e;case"link":var S=qd("link","href",g).get(o+(a.href||""));if(S){for(var _=0;_<S.length;_++)if(m=S[_],m.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){S.splice(_,1);break t}}m=g.createElement(o),kn(m,o,a),g.head.appendChild(m);break;case"meta":if(S=qd("meta","content",g).get(o+(a.content||""))){for(_=0;_<S.length;_++)if(m=S[_],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){S.splice(_,1);break t}}m=g.createElement(o),kn(m,o,a),g.head.appendChild(m);break;default:throw Error(p(468,o))}m[fn]=e,ln(m),o=m}e.stateNode=o}else Zd(g,e.type,e.stateNode);else e.stateNode=Wd(g,o,e.memoizedProps);else m!==o?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,o===null?Zd(g,e.type,e.stateNode):Wd(g,o,e.memoizedProps)):o===null&&e.stateNode!==null&&ju(e,e.memoizedProps,a.memoizedProps)}break;case 27:ti(n,e),ni(e),o&512&&(An||a===null||ir(a,a.return)),a!==null&&o&4&&ju(e,e.memoizedProps,a.memoizedProps);break;case 5:if(ti(n,e),ni(e),o&512&&(An||a===null||ir(a,a.return)),e.flags&32){g=e.stateNode;try{jr(g,"")}catch(Le){Lt(e,e.return,Le)}}o&4&&e.stateNode!=null&&(g=e.memoizedProps,ju(e,g,a!==null?a.memoizedProps:g)),o&1024&&(Gu=!0);break;case 6:if(ti(n,e),ni(e),o&4){if(e.stateNode===null)throw Error(p(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(Le){Lt(e,e.return,Le)}}break;case 3:if(ec=null,g=Vi,Vi=Jo(n.containerInfo),ti(n,e),Vi=g,ni(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Dl(n.containerInfo)}catch(Le){Lt(e,e.return,Le)}Gu&&(Gu=!1,Z1(e));break;case 4:o=Vi,Vi=Jo(e.stateNode.containerInfo),ti(n,e),ni(e),Vi=o;break;case 12:ti(n,e),ni(e);break;case 31:ti(n,e),ni(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,zo(e,o)));break;case 13:ti(n,e),ni(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jo=Pt()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,zo(e,o)));break;case 22:g=e.memoizedState!==null;var U=a!==null&&a.memoizedState!==null,Q=Cr,ue=An;if(Cr=Q||g,An=ue||U,ti(n,e),An=ue,Cr=Q,ni(e),o&8192)e:for(n=e.stateNode,n._visibility=g?n._visibility&-2:n._visibility|1,g&&(a===null||U||Cr||An||Ga(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){U=a=n;try{if(m=U.stateNode,g)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=U.stateNode;var ge=U.memoizedProps.style,ee=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;_.style.display=ee==null||typeof ee=="boolean"?"":(""+ee).trim()}}catch(Le){Lt(U,U.return,Le)}}}else if(n.tag===6){if(a===null){U=n;try{U.stateNode.nodeValue=g?"":U.memoizedProps}catch(Le){Lt(U,U.return,Le)}}}else if(n.tag===18){if(a===null){U=n;try{var se=U.stateNode;g?zd(se,!0):zd(U.stateNode,!1)}catch(Le){Lt(U,U.return,Le)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,zo(e,a))));break;case 19:ti(n,e),ni(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,zo(e,o)));break;case 30:break;case 21:break;default:ti(n,e),ni(e)}}function ni(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(j1(o)){a=o;break}o=o.return}if(a==null)throw Error(p(160));switch(a.tag){case 27:var g=a.stateNode,m=Hu(e);ko(e,m,g);break;case 5:var S=a.stateNode;a.flags&32&&(jr(S,""),a.flags&=-33);var _=Hu(e);ko(e,_,S);break;case 3:case 4:var U=a.stateNode.containerInfo,Q=Hu(e);Pu(e,Q,U);break;default:throw Error(p(161))}}catch(ue){Lt(e,e.return,ue)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Z1(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Z1(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Tr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)G1(e,n.alternate,n),n=n.sibling}function Ga(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ra(4,n,n.return),Ga(n);break;case 1:ir(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&z1(n,n.return,a),Ga(n);break;case 27:vs(n.stateNode);case 26:case 5:ir(n,n.return),Ga(n);break;case 22:n.memoizedState===null&&Ga(n);break;case 30:Ga(n);break;default:Ga(n)}e=e.sibling}}function Rr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,g=e,m=n,S=m.flags;switch(m.tag){case 0:case 11:case 15:Rr(g,m,a),xs(4,m);break;case 1:if(Rr(g,m,a),o=m,g=o.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Q){Lt(o,o.return,Q)}if(o=m,g=o.updateQueue,g!==null){var _=o.stateNode;try{var U=g.shared.hiddenCallbacks;if(U!==null)for(g.shared.hiddenCallbacks=null,g=0;g<U.length;g++)T0(U[g],_)}catch(Q){Lt(o,o.return,Q)}}a&&S&64&&k1(m),ps(m,m.return);break;case 27:H1(m);case 26:case 5:Rr(g,m,a),a&&o===null&&S&4&&F1(m),ps(m,m.return);break;case 12:Rr(g,m,a);break;case 31:Rr(g,m,a),a&&S&4&&Y1(g,m);break;case 13:Rr(g,m,a),a&&S&4&&W1(g,m);break;case 22:m.memoizedState===null&&Rr(g,m,a),ps(m,m.return);break;case 30:break;default:Rr(g,m,a)}n=n.sibling}}function Vu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&ns(a))}function Xu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ns(e))}function Xi(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)K1(e,n,a,o),n=n.sibling}function K1(e,n,a,o){var g=n.flags;switch(n.tag){case 0:case 11:case 15:Xi(e,n,a,o),g&2048&&xs(9,n);break;case 1:Xi(e,n,a,o);break;case 3:Xi(e,n,a,o),g&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ns(e)));break;case 12:if(g&2048){Xi(e,n,a,o),e=n.stateNode;try{var m=n.memoizedProps,S=m.id,_=m.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(U){Lt(n,n.return,U)}}else Xi(e,n,a,o);break;case 31:Xi(e,n,a,o);break;case 13:Xi(e,n,a,o);break;case 23:break;case 22:m=n.stateNode,S=n.alternate,n.memoizedState!==null?m._visibility&2?Xi(e,n,a,o):ms(e,n):m._visibility&2?Xi(e,n,a,o):(m._visibility|=2,wl(e,n,a,o,(n.subtreeFlags&10256)!==0||!1)),g&2048&&Vu(S,n);break;case 24:Xi(e,n,a,o),g&2048&&Xu(n.alternate,n);break;default:Xi(e,n,a,o)}}function wl(e,n,a,o,g){for(g=g&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,S=n,_=a,U=o,Q=S.flags;switch(S.tag){case 0:case 11:case 15:wl(m,S,_,U,g),xs(8,S);break;case 23:break;case 22:var ue=S.stateNode;S.memoizedState!==null?ue._visibility&2?wl(m,S,_,U,g):ms(m,S):(ue._visibility|=2,wl(m,S,_,U,g)),g&&Q&2048&&Vu(S.alternate,S);break;case 24:wl(m,S,_,U,g),g&&Q&2048&&Xu(S.alternate,S);break;default:wl(m,S,_,U,g)}n=n.sibling}}function ms(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,g=o.flags;switch(o.tag){case 22:ms(a,o),g&2048&&Vu(o.alternate,o);break;case 24:ms(a,o),g&2048&&Xu(o.alternate,o);break;default:ms(a,o)}n=n.sibling}}var ys=8192;function Al(e,n,a){if(e.subtreeFlags&ys)for(e=e.child;e!==null;)Q1(e,n,a),e=e.sibling}function Q1(e,n,a){switch(e.tag){case 26:Al(e,n,a),e.flags&ys&&e.memoizedState!==null&&ox(a,Vi,e.memoizedState,e.memoizedProps);break;case 5:Al(e,n,a);break;case 3:case 4:var o=Vi;Vi=Jo(e.stateNode.containerInfo),Al(e,n,a),Vi=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ys,ys=16777216,Al(e,n,a),ys=o):Al(e,n,a));break;default:Al(e,n,a)}}function J1(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Es(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];In=o,ed(o,e)}J1(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)$1(e),e=e.sibling}function $1(e){switch(e.tag){case 0:case 11:case 15:Es(e),e.flags&2048&&ra(9,e,e.return);break;case 3:Es(e);break;case 12:Es(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Fo(e)):Es(e);break;default:Es(e)}}function Fo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];In=o,ed(o,e)}J1(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ra(8,n,n.return),Fo(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Fo(n));break;default:Fo(n)}e=e.sibling}}function ed(e,n){for(;In!==null;){var a=In;switch(a.tag){case 0:case 11:case 15:ra(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ns(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,In=o;else e:for(a=e;In!==null;){o=In;var g=o.sibling,m=o.return;if(V1(o),o===a){In=null;break e}if(g!==null){g.return=m,In=g;break e}In=m}}}var Sg={getCacheForType:function(e){var n=Ln(En),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return Ln(En).controller.signal}},Cg=typeof WeakMap=="function"?WeakMap:Map,Ot=0,Yt=null,dt=null,pt=0,Bt=0,pi=null,aa=!1,Sl=!1,Yu=!1,Nr=0,cn=0,la=0,Va=0,Wu=0,mi=0,Cl=0,bs=null,ii=null,qu=!1,jo=0,td=0,Ho=1/0,Po=null,sa=null,Nn=0,oa=null,vl=null,Or=0,Zu=0,Ku=null,nd=null,ws=0,Qu=null;function yi(){return(Ot&2)!==0&&pt!==0?pt&-pt:J.T!==null?rf():Gn()}function id(){if(mi===0)if((pt&536870912)===0||yt){var e=gt;gt<<=1,(gt&3932160)===0&&(gt=262144),mi=e}else mi=536870912;return e=gi.current,e!==null&&(e.flags|=32),mi}function ri(e,n,a){(e===Yt&&(Bt===2||Bt===9)||e.cancelPendingCommit!==null)&&(Tl(e,0),ca(e,pt,mi,!1)),Zi(e,a),((Ot&2)===0||e!==Yt)&&(e===Yt&&((Ot&2)===0&&(Va|=a),cn===4&&ca(e,pt,mi,!1)),rr(e))}function rd(e,n,a){if((Ot&6)!==0)throw Error(p(327));var o=!a&&(n&127)===0&&(n&e.expiredLanes)===0||Dn(e,n),g=o?Rg(e,n):$u(e,n,!0),m=o;do{if(g===0){Sl&&!o&&ca(e,n,0,!1);break}else{if(a=e.current.alternate,m&&!vg(a)){g=$u(e,n,!1),m=!1;continue}if(g===2){if(m=n,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;g=bs;var U=_.current.memoizedState.isDehydrated;if(U&&(Tl(_,S).flags|=256),S=$u(_,S,!1),S!==2){if(Yu&&!U){_.errorRecoveryDisabledLanes|=m,Va|=m,g=4;break e}m=ii,ii=g,m!==null&&(ii===null?ii=m:ii.push.apply(ii,m))}g=S}if(m=!1,g!==2)continue}}if(g===1){Tl(e,0),ca(e,n,0,!0);break}e:{switch(o=e,m=g,m){case 0:case 1:throw Error(p(345));case 4:if((n&4194048)!==n)break;case 6:ca(o,n,mi,!aa);break e;case 2:ii=null;break;case 3:case 5:break;default:throw Error(p(329))}if((n&62914560)===n&&(g=jo+300-Pt(),10<g)){if(ca(o,n,mi,!aa),Aa(o,0,!0)!==0)break e;Or=n,o.timeoutHandle=Ld(ad.bind(null,o,a,ii,Po,qu,n,mi,Va,Cl,aa,m,"Throttled",-0,0),g);break e}ad(o,a,ii,Po,qu,n,mi,Va,Cl,aa,m,null,-0,0)}}break}while(!0);rr(e)}function ad(e,n,a,o,g,m,S,_,U,Q,ue,ge,ee,se){if(e.timeoutHandle=-1,ge=n.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},Q1(n,m,ge);var Le=(m&62914560)===m?jo-Pt():(m&4194048)===m?td-Pt():0;if(Le=cx(ge,Le),Le!==null){Or=m,e.cancelPendingCommit=Le(hd.bind(null,e,n,m,a,o,g,S,_,U,ue,ge,null,ee,se)),ca(e,m,S,!Q);return}}hd(e,n,m,a,o,g,S,_,U)}function vg(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var g=a[o],m=g.getSnapshot;g=g.value;try{if(!c(m(),g))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ca(e,n,a,o){n&=~Wu,n&=~Va,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var g=n;0<g;){var m=31-Ne(g),S=1<<m;o[m]=-1,g&=~S}a!==0&&Ws(e,a,n)}function Go(){return(Ot&6)===0?(As(0),!1):!0}function Ju(){if(dt!==null){if(Bt===0)var e=dt.return;else e=dt,yr=La=null,gu(e),pl=null,rs=0,e=dt;for(;e!==null;)U1(e.alternate,e),e=e.return;dt=null}}function Tl(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Xg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Or=0,Ju(),Yt=e,dt=a=pr(e.current,null),pt=n,Bt=0,pi=null,aa=!1,Sl=Dn(e,n),Yu=!1,Cl=mi=Wu=Va=la=cn=0,ii=bs=null,qu=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var g=31-Ne(o),m=1<<g;n|=e[g],o&=~m}return Nr=n,co(),a}function ld(e,n){nt=null,J.H=ds,n===xl||n===yo?(n=A0(),Bt=3):n===nu?(n=A0(),Bt=4):Bt=n===_u?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,pi=n,dt===null&&(cn=1,Do(e,Ri(n,e.current)))}function sd(){var e=gi.current;return e===null?!0:(pt&4194048)===pt?Ii===null:(pt&62914560)===pt||(pt&536870912)!==0?e===Ii:!1}function od(){var e=J.H;return J.H=ds,e===null?ds:e}function cd(){var e=J.A;return J.A=Sg,e}function Vo(){cn=4,aa||(pt&4194048)!==pt&&gi.current!==null||(Sl=!0),(la&134217727)===0&&(Va&134217727)===0||Yt===null||ca(Yt,pt,mi,!1)}function $u(e,n,a){var o=Ot;Ot|=2;var g=od(),m=cd();(Yt!==e||pt!==n)&&(Po=null,Tl(e,n)),n=!1;var S=cn;e:do try{if(Bt!==0&&dt!==null){var _=dt,U=pi;switch(Bt){case 8:Ju(),S=6;break e;case 3:case 2:case 9:case 6:gi.current===null&&(n=!0);var Q=Bt;if(Bt=0,pi=null,Rl(e,_,U,Q),a&&Sl){S=0;break e}break;default:Q=Bt,Bt=0,pi=null,Rl(e,_,U,Q)}}Tg(),S=cn;break}catch(ue){ld(e,ue)}while(!0);return n&&e.shellSuspendCounter++,yr=La=null,Ot=o,J.H=g,J.A=m,dt===null&&(Yt=null,pt=0,co()),S}function Tg(){for(;dt!==null;)ud(dt)}function Rg(e,n){var a=Ot;Ot|=2;var o=od(),g=cd();Yt!==e||pt!==n?(Po=null,Ho=Pt()+500,Tl(e,n)):Sl=Dn(e,n);e:do try{if(Bt!==0&&dt!==null){n=dt;var m=pi;t:switch(Bt){case 1:Bt=0,pi=null,Rl(e,n,m,1);break;case 2:case 9:if(b0(m)){Bt=0,pi=null,fd(n);break}n=function(){Bt!==2&&Bt!==9||Yt!==e||(Bt=7),rr(e)},m.then(n,n);break e;case 3:Bt=7;break e;case 4:Bt=5;break e;case 7:b0(m)?(Bt=0,pi=null,fd(n)):(Bt=0,pi=null,Rl(e,n,m,7));break;case 5:var S=null;switch(dt.tag){case 26:S=dt.memoizedState;case 5:case 27:var _=dt;if(S?Kd(S):_.stateNode.complete){Bt=0,pi=null;var U=_.sibling;if(U!==null)dt=U;else{var Q=_.return;Q!==null?(dt=Q,Xo(Q)):dt=null}break t}}Bt=0,pi=null,Rl(e,n,m,5);break;case 6:Bt=0,pi=null,Rl(e,n,m,6);break;case 8:Ju(),cn=6;break e;default:throw Error(p(462))}}Ng();break}catch(ue){ld(e,ue)}while(!0);return yr=La=null,J.H=o,J.A=g,Ot=a,dt!==null?0:(Yt=null,pt=0,co(),cn)}function Ng(){for(;dt!==null&&!sr();)ud(dt)}function ud(e){var n=B1(e.alternate,e,Nr);e.memoizedProps=e.pendingProps,n===null?Xo(e):dt=n}function fd(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=N1(a,n,n.pendingProps,n.type,void 0,pt);break;case 11:n=N1(a,n,n.pendingProps,n.type.render,n.ref,pt);break;case 5:gu(n);default:U1(a,n),n=dt=c0(n,Nr),n=B1(a,n,Nr)}e.memoizedProps=e.pendingProps,n===null?Xo(e):dt=n}function Rl(e,n,a,o){yr=La=null,gu(n),pl=null,rs=0;var g=n.return;try{if(pg(e,g,n,a,pt)){cn=1,Do(e,Ri(a,e.current)),dt=null;return}}catch(m){if(g!==null)throw dt=g,m;cn=1,Do(e,Ri(a,e.current)),dt=null;return}n.flags&32768?(yt||o===1?e=!0:Sl||(pt&536870912)!==0?e=!1:(aa=e=!0,(o===2||o===9||o===3||o===6)&&(o=gi.current,o!==null&&o.tag===13&&(o.flags|=16384))),dd(n,e)):Xo(n)}function Xo(e){var n=e;do{if((n.flags&32768)!==0){dd(n,aa);return}e=n.return;var a=Eg(n.alternate,n,Nr);if(a!==null){dt=a;return}if(n=n.sibling,n!==null){dt=n;return}dt=n=e}while(n!==null);cn===0&&(cn=5)}function dd(e,n){do{var a=bg(e.alternate,e);if(a!==null){a.flags&=32767,dt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){dt=e;return}dt=e=a}while(e!==null);cn=6,dt=null}function hd(e,n,a,o,g,m,S,_,U){e.cancelPendingCommit=null;do Yo();while(Nn!==0);if((Ot&6)!==0)throw Error(p(327));if(n!==null){if(n===e.current)throw Error(p(177));if(m=n.lanes|n.childLanes,m|=Hc,Ai(e,a,m,S,_,U),e===Yt&&(dt=Yt=null,pt=0),vl=n,oa=e,Or=a,Zu=m,Ku=g,nd=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Dg(Pn,function(){return yd(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=J.T,J.T=null,g=fe.p,fe.p=2,S=Ot,Ot|=4;try{wg(e,n,a)}finally{Ot=S,fe.p=g,J.T=o}}Nn=1,gd(),xd(),pd()}}function gd(){if(Nn===1){Nn=0;var e=oa,n=vl,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var o=fe.p;fe.p=2;var g=Ot;Ot|=4;try{q1(n,e);var m=df,S=T(e.containerInfo),_=m.focusedElem,U=m.selectionRange;if(S!==_&&_&&_.ownerDocument&&A(_.ownerDocument.documentElement,_)){if(U!==null&&O(_)){var Q=U.start,ue=U.end;if(ue===void 0&&(ue=Q),"selectionStart"in _)_.selectionStart=Q,_.selectionEnd=Math.min(ue,_.value.length);else{var ge=_.ownerDocument||document,ee=ge&&ge.defaultView||window;if(ee.getSelection){var se=ee.getSelection(),Le=_.textContent.length,We=Math.min(U.start,Le),jt=U.end===void 0?We:Math.min(U.end,Le);!se.extend&&We>jt&&(S=jt,jt=We,We=S);var G=y(_,We),j=y(_,jt);if(G&&j&&(se.rangeCount!==1||se.anchorNode!==G.node||se.anchorOffset!==G.offset||se.focusNode!==j.node||se.focusOffset!==j.offset)){var q=ge.createRange();q.setStart(G.node,G.offset),se.removeAllRanges(),We>jt?(se.addRange(q),se.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),se.addRange(q))}}}}for(ge=[],se=_;se=se.parentNode;)se.nodeType===1&&ge.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<ge.length;_++){var he=ge[_];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}rc=!!ff,df=ff=null}finally{Ot=g,fe.p=o,J.T=a}}e.current=n,Nn=2}}function xd(){if(Nn===2){Nn=0;var e=oa,n=vl,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var o=fe.p;fe.p=2;var g=Ot;Ot|=4;try{G1(e,n.alternate,n)}finally{Ot=g,fe.p=o,J.T=a}}Nn=3}}function pd(){if(Nn===4||Nn===3){Nn=0,ya();var e=oa,n=vl,a=Or,o=nd;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Nn=5:(Nn=0,vl=oa=null,md(e,e.pendingLanes));var g=e.pendingLanes;if(g===0&&(sa=null),ki(a),n=n.stateNode,we&&typeof we.onCommitFiberRoot=="function")try{we.onCommitFiberRoot(kt,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=J.T,g=fe.p,fe.p=2,J.T=null;try{for(var m=e.onRecoverableError,S=0;S<o.length;S++){var _=o[S];m(_.value,{componentStack:_.stack})}}finally{J.T=n,fe.p=g}}(Or&3)!==0&&Yo(),rr(e),g=e.pendingLanes,(a&261930)!==0&&(g&42)!==0?e===Qu?ws++:(ws=0,Qu=e):ws=0,As(0)}}function md(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ns(n)))}function Yo(){return gd(),xd(),pd(),yd()}function yd(){if(Nn!==5)return!1;var e=oa,n=Zu;Zu=0;var a=ki(Or),o=J.T,g=fe.p;try{fe.p=32>a?32:a,J.T=null,a=Ku,Ku=null;var m=oa,S=Or;if(Nn=0,vl=oa=null,Or=0,(Ot&6)!==0)throw Error(p(331));var _=Ot;if(Ot|=4,$1(m.current),K1(m,m.current,S,a),Ot=_,As(0,!1),we&&typeof we.onPostCommitFiberRoot=="function")try{we.onPostCommitFiberRoot(kt,m)}catch{}return!0}finally{fe.p=g,J.T=o,md(e,n)}}function Ed(e,n,a){n=Ri(a,n),n=Ou(e.stateNode,n,2),e=ta(e,n,2),e!==null&&(Zi(e,2),rr(e))}function Lt(e,n,a){if(e.tag===3)Ed(e,e,a);else for(;n!==null;){if(n.tag===3){Ed(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(sa===null||!sa.has(o))){e=Ri(a,e),a=b1(2),o=ta(n,a,2),o!==null&&(w1(a,o,n,e),Zi(o,2),rr(o));break}}n=n.return}}function ef(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new Cg;var g=new Set;o.set(n,g)}else g=o.get(n),g===void 0&&(g=new Set,o.set(n,g));g.has(a)||(Yu=!0,g.add(a),e=Og.bind(null,e,n,a),n.then(e,e))}function Og(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Yt===e&&(pt&a)===a&&(cn===4||cn===3&&(pt&62914560)===pt&&300>Pt()-jo?(Ot&2)===0&&Tl(e,0):Wu|=a,Cl===pt&&(Cl=0)),rr(e)}function bd(e,n){n===0&&(n=Cn()),e=Da(e,n),e!==null&&(Zi(e,n),rr(e))}function _g(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),bd(e,a)}function Ig(e,n){var a=0;switch(e.tag){case 31:case 13:var o=e.stateNode,g=e.memoizedState;g!==null&&(a=g.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(p(314))}o!==null&&o.delete(n),bd(e,a)}function Dg(e,n){return Ie(e,n)}var Wo=null,Nl=null,tf=!1,qo=!1,nf=!1,ua=0;function rr(e){e!==Nl&&e.next===null&&(Nl===null?Wo=Nl=e:Nl=Nl.next=e),qo=!0,tf||(tf=!0,Bg())}function As(e,n){if(!nf&&qo){nf=!0;do for(var a=!1,o=Wo;o!==null;){if(e!==0){var g=o.pendingLanes;if(g===0)var m=0;else{var S=o.suspendedLanes,_=o.pingedLanes;m=(1<<31-Ne(42|e)+1)-1,m&=g&~(S&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(a=!0,Cd(o,m))}else m=pt,m=Aa(o,o===Yt?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(m&3)===0||Dn(o,m)||(a=!0,Cd(o,m));o=o.next}while(a);nf=!1}}function Mg(){wd()}function wd(){qo=tf=!1;var e=0;ua!==0&&Vg()&&(e=ua);for(var n=Pt(),a=null,o=Wo;o!==null;){var g=o.next,m=Ad(o,n);m===0?(o.next=null,a===null?Wo=g:a.next=g,g===null&&(Nl=a)):(a=o,(e!==0||(m&3)!==0)&&(qo=!0)),o=g}Nn!==0&&Nn!==5||As(e),ua!==0&&(ua=0)}function Ad(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,g=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-Ne(m),_=1<<S,U=g[S];U===-1?((_&a)===0||(_&o)!==0)&&(g[S]=Gl(_,n)):U<=n&&(e.expiredLanes|=_),m&=~_}if(n=Yt,a=pt,a=Aa(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Bt===2||Bt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Te(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Dn(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Te(o),ki(a)){case 2:case 8:a=Ea;break;case 32:a=Pn;break;case 268435456:a=ba;break;default:a=Pn}return o=Sd.bind(null,e),a=Ie(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Te(o),e.callbackPriority=2,e.callbackNode=null,2}function Sd(e,n){if(Nn!==0&&Nn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Yo()&&e.callbackNode!==a)return null;var o=pt;return o=Aa(e,e===Yt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(rd(e,o,n),Ad(e,Pt()),e.callbackNode!=null&&e.callbackNode===a?Sd.bind(null,e):null)}function Cd(e,n){if(Yo())return null;rd(e,n,!0)}function Bg(){Yg(function(){(Ot&6)!==0?Ie(Fn,Mg):wd()})}function rf(){if(ua===0){var e=hl;e===0&&(e=wa,wa<<=1,(wa&261888)===0&&(wa=256)),ua=e}return ua}function vd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hr(""+e)}function Td(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Lg(e,n,a,o,g){if(n==="submit"&&a&&a.stateNode===g){var m=vd((g[Mt]||null).action),S=o.submitter;S&&(n=(n=S[Mt]||null)?vd(n.formAction):S.getAttribute("formAction"),n!==null&&(m=n,S=null));var _=new vn("action","action",null,o,g);e.push({event:_,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ua!==0){var U=S?Td(g,S):new FormData(g);Su(a,{pending:!0,data:U,method:g.method,action:m},null,U)}}else typeof m=="function"&&(_.preventDefault(),U=S?Td(g,S):new FormData(g),Su(a,{pending:!0,data:U,method:g.method,action:m},m,U))},currentTarget:g}]})}}for(var af=0;af<$l.length;af++){var lf=$l[af],Ug=lf.toLowerCase(),kg=lf[0].toUpperCase()+lf.slice(1);Gi(Ug,"on"+kg)}Gi($n,"onAnimationEnd"),Gi(Mn,"onAnimationIteration"),Gi(Dt,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(Rn,"onTransitionRun"),Gi(qn,"onTransitionStart"),Gi(qr,"onTransitionCancel"),Gi(xr,"onTransitionEnd"),oi("onMouseEnter",["mouseout","mouseover"]),oi("onMouseLeave",["mouseout","mouseover"]),oi("onPointerEnter",["pointerout","pointerover"]),oi("onPointerLeave",["pointerout","pointerover"]),_t("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_t("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_t("onBeforeInput",["compositionend","keypress","textInput","paste"]),_t("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_t("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_t("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ss));function Rd(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],g=o.event;o=o.listeners;e:{var m=void 0;if(n)for(var S=o.length-1;0<=S;S--){var _=o[S],U=_.instance,Q=_.currentTarget;if(_=_.listener,U!==m&&g.isPropagationStopped())break e;m=_,g.currentTarget=Q;try{m(g)}catch(ue){oo(ue)}g.currentTarget=null,m=U}else for(S=0;S<o.length;S++){if(_=o[S],U=_.instance,Q=_.currentTarget,_=_.listener,U!==m&&g.isPropagationStopped())break e;m=_,g.currentTarget=Q;try{m(g)}catch(ue){oo(ue)}g.currentTarget=null,m=U}}}}function ht(e,n){var a=n[Lr];a===void 0&&(a=n[Lr]=new Set);var o=e+"__bubble";a.has(o)||(Nd(n,e,2,!1),a.add(o))}function sf(e,n,a){var o=0;n&&(o|=4),Nd(a,e,o,n)}var Zo="_reactListening"+Math.random().toString(36).slice(2);function of(e){if(!e[Zo]){e[Zo]=!0,xe.forEach(function(a){a!=="selectionchange"&&(zg.has(a)||sf(a,!1,e),sf(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Zo]||(n[Zo]=!0,sf("selectionchange",!1,n))}}function Nd(e,n,a,o){switch(ih(n)){case 2:var g=dx;break;case 8:g=hx;break;default:g=Sf}a=g.bind(null,n,a,e),g=void 0,!Yl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(g=!0),o?g!==void 0?e.addEventListener(n,a,{capture:!0,passive:g}):e.addEventListener(n,a,!0):g!==void 0?e.addEventListener(n,a,{passive:g}):e.addEventListener(n,a,!1)}function cf(e,n,a,o,g){var m=o;if((n&1)===0&&(n&2)===0&&o!==null)e:for(;;){if(o===null)return;var S=o.tag;if(S===3||S===4){var _=o.stateNode.containerInfo;if(_===g)break;if(S===4)for(S=o.return;S!==null;){var U=S.tag;if((U===3||U===4)&&S.stateNode.containerInfo===g)return;S=S.return}for(;_!==null;){if(S=an(_),S===null)return;if(U=S.tag,U===5||U===6||U===26||U===27){o=m=S;continue e}_=_.parentNode}}o=o.return}Qs(function(){var Q=m,ue=Xl(a),ge=[];e:{var ee=so.get(e);if(ee!==void 0){var se=vn,Le=e;switch(e){case"keypress":if(Qi(a)===0)break e;case"keydown":case"keyup":se=rl;break;case"focusin":Le="focus",se=Zl;break;case"focusout":Le="blur",se=Zl;break;case"beforeblur":case"afterblur":se=Zl;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Nt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=zc;break;case $n:case Mn:case Dt:se=rt;break;case xr:se=fr;break;case"scroll":case"scrollend":se=Js;break;case"wheel":se=Fc;break;case"copy":case"cut":case"paste":se=il;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=It;break;case"toggle":case"beforetoggle":se=Ql}var We=(n&4)!==0,jt=!We&&(e==="scroll"||e==="scrollend"),G=We?ee!==null?ee+"Capture":null:ee;We=[];for(var j=Q,q;j!==null;){var he=j;if(q=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||q===null||G===null||(he=Ze(j,G),he!=null&&We.push(Cs(j,he,q))),jt)break;j=j.return}0<We.length&&(ee=new se(ee,Le,null,a,ue),ge.push({event:ee,listeners:We}))}}if((n&7)===0){e:{if(ee=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",ee&&a!==Ca&&(Le=a.relatedTarget||a.fromElement)&&(an(Le)||Le[si]))break e;if((se||ee)&&(ee=ue.window===ue?ue:(ee=ue.ownerDocument)?ee.defaultView||ee.parentWindow:window,se?(Le=a.relatedTarget||a.toElement,se=Q,Le=Le?an(Le):null,Le!==null&&(jt=E(Le),We=Le.tag,Le!==jt||We!==5&&We!==27&&We!==6)&&(Le=null)):(se=null,Le=Q),se!==Le)){if(We=Nt,he="onMouseLeave",G="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(We=It,he="onPointerLeave",G="onPointerEnter",j="pointer"),jt=se==null?ee:Ur(se),q=Le==null?ee:Ur(Le),ee=new We(he,j+"leave",se,a,ue),ee.target=jt,ee.relatedTarget=q,he=null,an(ue)===Q&&(We=new We(G,j+"enter",Le,a,ue),We.target=q,We.relatedTarget=jt,he=We),jt=he,se&&Le)t:{for(We=Fg,G=se,j=Le,q=0,he=G;he;he=We(he))q++;he=0;for(var Pe=j;Pe;Pe=We(Pe))he++;for(;0<q-he;)G=We(G),q--;for(;0<he-q;)j=We(j),he--;for(;q--;){if(G===j||j!==null&&G===j.alternate){We=G;break t}G=We(G),j=We(j)}We=null}else We=null;se!==null&&Od(ge,ee,se,We,!1),Le!==null&&jt!==null&&Od(ge,jt,Le,We,!0)}}e:{if(ee=Q?Ur(Q):window,se=ee.nodeName&&ee.nodeName.toLowerCase(),se==="select"||se==="input"&&ee.type==="file")var Ct=di;else if(Jl(ee))if(lo)Ct=l;else{Ct=i;var ke=t}else se=ee.nodeName,!se||se.toLowerCase()!=="input"||ee.type!=="checkbox"&&ee.type!=="radio"?Q&&Gt(Q.elementType)&&(Ct=di):Ct=r;if(Ct&&(Ct=Ct(e,Q))){fi(ge,Ct,a,ue);break e}ke&&ke(e,ee,Q),e==="focusout"&&Q&&ee.type==="number"&&Q.memoizedProps.value!=null&&B(ee,"number",ee.value)}switch(ke=Q?Ur(Q):window,e){case"focusin":(Jl(ke)||ke.contentEditable==="true")&&(k=ke,F=Q,V=null);break;case"focusout":V=F=k=null;break;case"mousedown":ne=!0;break;case"contextmenu":case"mouseup":case"dragend":ne=!1,Ae(ge,a,ue);break;case"selectionchange":if(L)break;case"keydown":case"keyup":Ae(ge,a,ue)}var at;if(Ra)e:{switch(e){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else Wr?ao(e,a)&&(mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(ro&&a.locale!=="ko"&&(Wr||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Wr&&(at=Pr()):(Hi=ue,Pi="value"in Hi?Hi.value:Hi.textContent,Wr=!0)),ke=Ko(Q,mt),0<ke.length&&(mt=new to(mt,e,null,a,ue),ge.push({event:mt,listeners:ke}),at?mt.data=at:(at=Yr(a),at!==null&&(mt.data=at)))),(at=io?er(e,a):ll(e,a))&&(mt=Ko(Q,"onBeforeInput"),0<mt.length&&(ke=new to("onBeforeInput","beforeinput",null,a,ue),ge.push({event:ke,listeners:mt}),ke.data=at)),Lg(ge,e,Q,a,ue)}Rd(ge,n)})}function Cs(e,n,a){return{instance:e,listener:n,currentTarget:a}}function Ko(e,n){for(var a=n+"Capture",o=[];e!==null;){var g=e,m=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||m===null||(g=Ze(e,a),g!=null&&o.unshift(Cs(e,g,m)),g=Ze(e,n),g!=null&&o.push(Cs(e,g,m))),e.tag===3)return o;e=e.return}return[]}function Fg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Od(e,n,a,o,g){for(var m=n._reactName,S=[];a!==null&&a!==o;){var _=a,U=_.alternate,Q=_.stateNode;if(_=_.tag,U!==null&&U===o)break;_!==5&&_!==26&&_!==27||Q===null||(U=Q,g?(Q=Ze(a,m),Q!=null&&S.unshift(Cs(a,Q,U))):g||(Q=Ze(a,m),Q!=null&&S.push(Cs(a,Q,U)))),a=a.return}S.length!==0&&e.push({event:n,listeners:S})}var jg=/\r\n?/g,Hg=/\u0000|\uFFFD/g;function _d(e){return(typeof e=="string"?e:""+e).replace(jg,`
`).replace(Hg,"")}function Id(e,n){return n=_d(n),_d(e)===n}function Ft(e,n,a,o,g,m){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||jr(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&jr(e,""+o);break;case"className":zr(e,"class",o);break;case"tabIndex":zr(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":zr(e,a,o);break;case"style":He(e,o,m);break;case"data":if(n!=="object"){zr(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Hr(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(n!=="input"&&Ft(e,n,"name",g.name,g,null),Ft(e,n,"formEncType",g.formEncType,g,null),Ft(e,n,"formMethod",g.formMethod,g,null),Ft(e,n,"formTarget",g.formTarget,g,null)):(Ft(e,n,"encType",g.encType,g,null),Ft(e,n,"method",g.method,g,null),Ft(e,n,"target",g.target,g,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=Hr(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"onScroll":o!=null&&ht("scroll",e);break;case"onScrollEnd":o!=null&&ht("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(p(61));if(a=o.__html,a!=null){if(g.children!=null)throw Error(p(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=Hr(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":ht("beforetoggle",e),ht("toggle",e),kr(e,"popover",o);break;case"xlinkActuate":ci(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ci(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ci(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ci(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ci(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ci(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ci(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ci(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ci(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":kr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ks.get(a)||a,kr(e,a,o))}}function uf(e,n,a,o,g,m){switch(a){case"style":He(e,o,m);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(p(61));if(a=o.__html,a!=null){if(g.children!=null)throw Error(p(60));e.innerHTML=a}}break;case"children":typeof o=="string"?jr(e,o):(typeof o=="number"||typeof o=="bigint")&&jr(e,""+o);break;case"onScroll":o!=null&&ht("scroll",e);break;case"onScrollEnd":o!=null&&ht("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Zs.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),n=a.slice(2,g?a.length-7:void 0),m=e[Mt]||null,m=m!=null?m[a]:null,typeof m=="function"&&e.removeEventListener(n,m,g),typeof o=="function")){typeof m!="function"&&m!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,g);break e}a in e?e[a]=o:o===!0?e.setAttribute(a,""):kr(e,a,o)}}}function kn(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",e),ht("load",e);var o=!1,g=!1,m;for(m in a)if(a.hasOwnProperty(m)){var S=a[m];if(S!=null)switch(m){case"src":o=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(p(137,n));default:Ft(e,n,m,S,a,null)}}g&&Ft(e,n,"srcSet",a.srcSet,a,null),o&&Ft(e,n,"src",a.src,a,null);return;case"input":ht("invalid",e);var _=m=S=g=null,U=null,Q=null;for(o in a)if(a.hasOwnProperty(o)){var ue=a[o];if(ue!=null)switch(o){case"name":g=ue;break;case"type":S=ue;break;case"checked":U=ue;break;case"defaultChecked":Q=ue;break;case"value":m=ue;break;case"defaultValue":_=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(p(137,n));break;default:Ft(e,n,o,ue,a,null)}}Y(e,m,_,U,Q,S,g,!1);return;case"select":ht("invalid",e),o=S=m=null;for(g in a)if(a.hasOwnProperty(g)&&(_=a[g],_!=null))switch(g){case"value":m=_;break;case"defaultValue":S=_;break;case"multiple":o=_;default:Ft(e,n,g,_,a,null)}n=m,a=S,e.multiple=!!o,n!=null?Ue(e,!!o,n,!1):a!=null&&Ue(e,!!o,a,!0);return;case"textarea":ht("invalid",e),m=g=o=null;for(S in a)if(a.hasOwnProperty(S)&&(_=a[S],_!=null))switch(S){case"value":o=_;break;case"defaultValue":g=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(p(91));break;default:Ft(e,n,S,_,a,null)}Yn(e,o,g,m);return;case"option":for(U in a)a.hasOwnProperty(U)&&(o=a[U],o!=null)&&(U==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Ft(e,n,U,o,a,null));return;case"dialog":ht("beforetoggle",e),ht("toggle",e),ht("cancel",e),ht("close",e);break;case"iframe":case"object":ht("load",e);break;case"video":case"audio":for(o=0;o<Ss.length;o++)ht(Ss[o],e);break;case"image":ht("error",e),ht("load",e);break;case"details":ht("toggle",e);break;case"embed":case"source":case"link":ht("error",e),ht("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in a)if(a.hasOwnProperty(Q)&&(o=a[Q],o!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(p(137,n));default:Ft(e,n,Q,o,a,null)}return;default:if(Gt(n)){for(ue in a)a.hasOwnProperty(ue)&&(o=a[ue],o!==void 0&&uf(e,n,ue,o,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(o=a[_],o!=null&&Ft(e,n,_,o,a,null))}function Pg(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,m=null,S=null,_=null,U=null,Q=null,ue=null;for(se in a){var ge=a[se];if(a.hasOwnProperty(se)&&ge!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":U=ge;default:o.hasOwnProperty(se)||Ft(e,n,se,null,o,ge)}}for(var ee in o){var se=o[ee];if(ge=a[ee],o.hasOwnProperty(ee)&&(se!=null||ge!=null))switch(ee){case"type":m=se;break;case"name":g=se;break;case"checked":Q=se;break;case"defaultChecked":ue=se;break;case"value":S=se;break;case"defaultValue":_=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(p(137,n));break;default:se!==ge&&Ft(e,n,ee,se,o,ge)}}mn(e,S,_,U,Q,ue,m,g);return;case"select":se=S=_=ee=null;for(m in a)if(U=a[m],a.hasOwnProperty(m)&&U!=null)switch(m){case"value":break;case"multiple":se=U;default:o.hasOwnProperty(m)||Ft(e,n,m,null,o,U)}for(g in o)if(m=o[g],U=a[g],o.hasOwnProperty(g)&&(m!=null||U!=null))switch(g){case"value":ee=m;break;case"defaultValue":_=m;break;case"multiple":S=m;default:m!==U&&Ft(e,n,g,m,o,U)}n=_,a=S,o=se,ee!=null?Ue(e,!!a,ee,!1):!!o!=!!a&&(n!=null?Ue(e,!!a,n,!0):Ue(e,!!a,a?[]:"",!1));return;case"textarea":se=ee=null;for(_ in a)if(g=a[_],a.hasOwnProperty(_)&&g!=null&&!o.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Ft(e,n,_,null,o,g)}for(S in o)if(g=o[S],m=a[S],o.hasOwnProperty(S)&&(g!=null||m!=null))switch(S){case"value":ee=g;break;case"defaultValue":se=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(p(91));break;default:g!==m&&Ft(e,n,S,g,o,m)}dn(e,ee,se);return;case"option":for(var Le in a)ee=a[Le],a.hasOwnProperty(Le)&&ee!=null&&!o.hasOwnProperty(Le)&&(Le==="selected"?e.selected=!1:Ft(e,n,Le,null,o,ee));for(U in o)ee=o[U],se=a[U],o.hasOwnProperty(U)&&ee!==se&&(ee!=null||se!=null)&&(U==="selected"?e.selected=ee&&typeof ee!="function"&&typeof ee!="symbol":Ft(e,n,U,ee,o,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var We in a)ee=a[We],a.hasOwnProperty(We)&&ee!=null&&!o.hasOwnProperty(We)&&Ft(e,n,We,null,o,ee);for(Q in o)if(ee=o[Q],se=a[Q],o.hasOwnProperty(Q)&&ee!==se&&(ee!=null||se!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(p(137,n));break;default:Ft(e,n,Q,ee,o,se)}return;default:if(Gt(n)){for(var jt in a)ee=a[jt],a.hasOwnProperty(jt)&&ee!==void 0&&!o.hasOwnProperty(jt)&&uf(e,n,jt,void 0,o,ee);for(ue in o)ee=o[ue],se=a[ue],!o.hasOwnProperty(ue)||ee===se||ee===void 0&&se===void 0||uf(e,n,ue,ee,o,se);return}}for(var G in a)ee=a[G],a.hasOwnProperty(G)&&ee!=null&&!o.hasOwnProperty(G)&&Ft(e,n,G,null,o,ee);for(ge in o)ee=o[ge],se=a[ge],!o.hasOwnProperty(ge)||ee===se||ee==null&&se==null||Ft(e,n,ge,ee,o,se)}function Dd(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Gg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var g=a[o],m=g.transferSize,S=g.initiatorType,_=g.duration;if(m&&_&&Dd(S)){for(S=0,_=g.responseEnd,o+=1;o<a.length;o++){var U=a[o],Q=U.startTime;if(Q>_)break;var ue=U.transferSize,ge=U.initiatorType;ue&&Dd(ge)&&(U=U.responseEnd,S+=ue*(U<_?1:(_-Q)/(U-Q)))}if(--o,n+=8*(m+S)/(g.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ff=null,df=null;function Qo(e){return e.nodeType===9?e:e.ownerDocument}function Md(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bd(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gf=null;function Vg(){var e=window.event;return e&&e.type==="popstate"?e===gf?!1:(gf=e,!0):(gf=null,!1)}var Ld=typeof setTimeout=="function"?setTimeout:void 0,Xg=typeof clearTimeout=="function"?clearTimeout:void 0,Ud=typeof Promise=="function"?Promise:void 0,Yg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ud<"u"?function(e){return Ud.resolve(null).then(e).catch(Wg)}:Ld;function Wg(e){setTimeout(function(){throw e})}function fa(e){return e==="head"}function kd(e,n){var a=n,o=0;do{var g=a.nextSibling;if(e.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(o===0){e.removeChild(g),Dl(n);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")vs(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,vs(a);for(var m=a.firstChild;m;){var S=m.nextSibling,_=m.nodeName;m[Sa]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||a.removeChild(m),m=S}}else a==="body"&&vs(e.ownerDocument.body);a=g}while(a);Dl(n)}function zd(e,n){var a=e;e=0;do{var o=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=o}while(a)}function xf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":xf(a),Kn(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function qg(e,n,a,o){for(;e.nodeType===1;){var g=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Sa])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==g.rel||e.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||e.getAttribute("title")!==(g.title==null?null:g.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(g.src==null?null:g.src)||e.getAttribute("type")!==(g.type==null?null:g.type)||e.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=g.name==null?null:""+g.name;if(g.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=Di(e.nextSibling),e===null)break}return null}function Zg(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Di(e.nextSibling),e===null))return null;return e}function Fd(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Di(e.nextSibling),e===null))return null;return e}function pf(e){return e.data==="$?"||e.data==="$~"}function mf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Kg(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Di(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yf=null;function jd(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return Di(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function Hd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function Pd(e,n,a){switch(n=Qo(a),e){case"html":if(e=n.documentElement,!e)throw Error(p(452));return e;case"head":if(e=n.head,!e)throw Error(p(453));return e;case"body":if(e=n.body,!e)throw Error(p(454));return e;default:throw Error(p(451))}}function vs(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Kn(e)}var Mi=new Map,Gd=new Set;function Jo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var _r=fe.d;fe.d={f:Qg,r:Jg,D:$g,C:ex,L:tx,m:nx,X:rx,S:ix,M:ax};function Qg(){var e=_r.f(),n=Go();return e||n}function Jg(e){var n=Rt(e);n!==null&&n.tag===5&&n.type==="form"?l1(n):_r.r(e)}var Ol=typeof document>"u"?null:document;function Vd(e,n,a){var o=Ol;if(o&&typeof n=="string"&&n){var g=ut(n);g='link[rel="'+e+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),Gd.has(g)||(Gd.add(g),e={rel:e,crossOrigin:a,href:n},o.querySelector(g)===null&&(n=o.createElement("link"),kn(n,"link",e),ln(n),o.head.appendChild(n)))}}function $g(e){_r.D(e),Vd("dns-prefetch",e,null)}function ex(e,n){_r.C(e,n),Vd("preconnect",e,n)}function tx(e,n,a){_r.L(e,n,a);var o=Ol;if(o&&e&&n){var g='link[rel="preload"][as="'+ut(n)+'"]';n==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+ut(a.imageSizes)+'"]')):g+='[href="'+ut(e)+'"]';var m=g;switch(n){case"style":m=_l(e);break;case"script":m=Il(e)}Mi.has(m)||(e=M({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Mi.set(m,e),o.querySelector(g)!==null||n==="style"&&o.querySelector(Ts(m))||n==="script"&&o.querySelector(Rs(m))||(n=o.createElement("link"),kn(n,"link",e),ln(n),o.head.appendChild(n)))}}function nx(e,n){_r.m(e,n);var a=Ol;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",g='link[rel="modulepreload"][as="'+ut(o)+'"][href="'+ut(e)+'"]',m=g;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Il(e)}if(!Mi.has(m)&&(e=M({rel:"modulepreload",href:e},n),Mi.set(m,e),a.querySelector(g)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rs(m)))return}o=a.createElement("link"),kn(o,"link",e),ln(o),a.head.appendChild(o)}}}function ix(e,n,a){_r.S(e,n,a);var o=Ol;if(o&&e){var g=Xn(o).hoistableStyles,m=_l(e);n=n||"default";var S=g.get(m);if(!S){var _={loading:0,preload:null};if(S=o.querySelector(Ts(m)))_.loading=5;else{e=M({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Mi.get(m))&&Ef(e,a);var U=S=o.createElement("link");ln(U),kn(U,"link",e),U._p=new Promise(function(Q,ue){U.onload=Q,U.onerror=ue}),U.addEventListener("load",function(){_.loading|=1}),U.addEventListener("error",function(){_.loading|=2}),_.loading|=4,$o(S,n,o)}S={type:"stylesheet",instance:S,count:1,state:_},g.set(m,S)}}}function rx(e,n){_r.X(e,n);var a=Ol;if(a&&e){var o=Xn(a).hoistableScripts,g=Il(e),m=o.get(g);m||(m=a.querySelector(Rs(g)),m||(e=M({src:e,async:!0},n),(n=Mi.get(g))&&bf(e,n),m=a.createElement("script"),ln(m),kn(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(g,m))}}function ax(e,n){_r.M(e,n);var a=Ol;if(a&&e){var o=Xn(a).hoistableScripts,g=Il(e),m=o.get(g);m||(m=a.querySelector(Rs(g)),m||(e=M({src:e,async:!0,type:"module"},n),(n=Mi.get(g))&&bf(e,n),m=a.createElement("script"),ln(m),kn(m,"link",e),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},o.set(g,m))}}function Xd(e,n,a,o){var g=(g=ye.current)?Jo(g):null;if(!g)throw Error(p(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=_l(a.href),a=Xn(g).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=_l(a.href);var m=Xn(g).hoistableStyles,S=m.get(e);if(S||(g=g.ownerDocument||g,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=g.querySelector(Ts(e)))&&!m._p&&(S.instance=m,S.state.loading=5),Mi.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mi.set(e,a),m||lx(g,e,a,S.state))),n&&o===null)throw Error(p(528,""));return S}if(n&&o!==null)throw Error(p(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Il(a),a=Xn(g).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(p(444,e))}}function _l(e){return'href="'+ut(e)+'"'}function Ts(e){return'link[rel="stylesheet"]['+e+"]"}function Yd(e){return M({},e,{"data-precedence":e.precedence,precedence:null})}function lx(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),kn(n,"link",a),ln(n),e.head.appendChild(n))}function Il(e){return'[src="'+ut(e)+'"]'}function Rs(e){return"script[async]"+e}function Wd(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ut(a.href)+'"]');if(o)return n.instance=o,ln(o),o;var g=M({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ln(o),kn(o,"style",g),$o(o,a.precedence,e),n.instance=o;case"stylesheet":g=_l(a.href);var m=e.querySelector(Ts(g));if(m)return n.state.loading|=4,n.instance=m,ln(m),m;o=Yd(a),(g=Mi.get(g))&&Ef(o,g),m=(e.ownerDocument||e).createElement("link"),ln(m);var S=m;return S._p=new Promise(function(_,U){S.onload=_,S.onerror=U}),kn(m,"link",o),n.state.loading|=4,$o(m,a.precedence,e),n.instance=m;case"script":return m=Il(a.src),(g=e.querySelector(Rs(m)))?(n.instance=g,ln(g),g):(o=a,(g=Mi.get(m))&&(o=M({},a),bf(o,g)),e=e.ownerDocument||e,g=e.createElement("script"),ln(g),kn(g,"link",o),e.head.appendChild(g),n.instance=g);case"void":return null;default:throw Error(p(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,$o(o,a.precedence,e));return n.instance}function $o(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=o.length?o[o.length-1]:null,m=g,S=0;S<o.length;S++){var _=o[S];if(_.dataset.precedence===n)m=_;else if(m!==g)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Ef(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function bf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ec=null;function qd(e,n,a){if(ec===null){var o=new Map,g=ec=new Map;g.set(a,o)}else g=ec,o=g.get(a),o||(o=new Map,g.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),g=0;g<a.length;g++){var m=a[g];if(!(m[Sa]||m[fn]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(n)||"";S=e+S;var _=o.get(S);_?_.push(m):o.set(S,[m])}}return o}function Zd(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function sx(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Kd(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ox(e,n,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=_l(o.href),m=n.querySelector(Ts(g));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=tc.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=m,ln(m);return}m=n.ownerDocument||n,o=Yd(o),(g=Mi.get(g))&&Ef(o,g),m=m.createElement("link"),ln(m);var S=m;S._p=new Promise(function(_,U){S.onload=_,S.onerror=U}),kn(m,"link",o),a.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=tc.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var wf=0;function cx(e,n){return e.stylesheets&&e.count===0&&ic(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var o=setTimeout(function(){if(e.stylesheets&&ic(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&wf===0&&(wf=62500*Gg());var g=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ic(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>wf?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(g)}}:null}function tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ic(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var nc=null;function ic(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,nc=new Map,n.forEach(ux,e),nc=null,tc.call(e))}function ux(e,n){if(!(n.state.loading&4)){var a=nc.get(e);if(a)var o=a.get(null);else{a=new Map,nc.set(e,a);for(var g=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<g.length;m++){var S=g[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(a.set(S.dataset.precedence,S),o=S)}o&&a.set(null,o)}g=n.instance,S=g.getAttribute("data-precedence"),m=a.get(S)||o,m===o&&a.set(null,g),a.set(S,g),this.count++,o=tc.bind(this),g.addEventListener("load",o),g.addEventListener("error",o),m?m.parentNode.insertBefore(g,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(g,e.firstChild)),n.state.loading|=4}}var Ns={$$typeof:ae,Provider:null,Consumer:null,_currentValue:Be,_currentValue2:Be,_threadCount:0};function fx(e,n,a,o,g,m,S,_,U){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=qi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qi(0),this.hiddenUpdates=qi(null),this.identifierPrefix=o,this.onUncaughtError=g,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=U,this.incompleteTransitions=new Map}function Qd(e,n,a,o,g,m,S,_,U,Q,ue,ge){return e=new fx(e,n,a,S,U,Q,ue,ge,_),n=1,m===!0&&(n|=24),m=hi(3,null,null,n),e.current=m,m.stateNode=e,n=$c(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:o,isDehydrated:a,cache:n},iu(m),e}function Jd(e){return e?(e=ol,e):ol}function $d(e,n,a,o,g,m){g=Jd(g),o.context===null?o.context=g:o.pendingContext=g,o=ea(n),o.payload={element:a},m=m===void 0?null:m,m!==null&&(o.callback=m),a=ta(e,o,n),a!==null&&(ri(a,e,n),ls(a,e,n))}function eh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Af(e,n){eh(e,n),(e=e.alternate)&&eh(e,n)}function th(e){if(e.tag===13||e.tag===31){var n=Da(e,67108864);n!==null&&ri(n,e,67108864),Af(e,67108864)}}function nh(e){if(e.tag===13||e.tag===31){var n=yi();n=_n(n);var a=Da(e,n);a!==null&&ri(a,e,n),Af(e,n)}}var rc=!0;function dx(e,n,a,o){var g=J.T;J.T=null;var m=fe.p;try{fe.p=2,Sf(e,n,a,o)}finally{fe.p=m,J.T=g}}function hx(e,n,a,o){var g=J.T;J.T=null;var m=fe.p;try{fe.p=8,Sf(e,n,a,o)}finally{fe.p=m,J.T=g}}function Sf(e,n,a,o){if(rc){var g=Cf(o);if(g===null)cf(e,n,o,ac,a),rh(e,o);else if(xx(g,e,n,a,o))o.stopPropagation();else if(rh(e,o),n&4&&-1<gx.indexOf(e)){for(;g!==null;){var m=Rt(g);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=Wi(m.pendingLanes);if(S!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var U=1<<31-Ne(S);_.entanglements[1]|=U,S&=~U}rr(m),(Ot&6)===0&&(Ho=Pt()+500,As(0))}}break;case 31:case 13:_=Da(m,2),_!==null&&ri(_,m,2),Go(),Af(m,2)}if(m=Cf(o),m===null&&cf(e,n,o,ac,a),m===g)break;g=m}g!==null&&o.stopPropagation()}else cf(e,n,o,null,a)}}function Cf(e){return e=Xl(e),vf(e)}var ac=null;function vf(e){if(ac=null,e=an(e),e!==null){var n=E(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=C(n),e!==null)return e;e=null}else if(a===31){if(e=N(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return ac=e,null}function ih(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Br()){case Fn:return 2;case Ea:return 8;case Pn:case Sn:return 32;case ba:return 268435456;default:return 32}default:return 32}}var Tf=!1,da=null,ha=null,ga=null,Os=new Map,_s=new Map,xa=[],gx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rh(e,n){switch(e){case"focusin":case"focusout":da=null;break;case"dragenter":case"dragleave":ha=null;break;case"mouseover":case"mouseout":ga=null;break;case"pointerover":case"pointerout":Os.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":_s.delete(n.pointerId)}}function Is(e,n,a,o,g,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:m,targetContainers:[g]},n!==null&&(n=Rt(n),n!==null&&th(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,g!==null&&n.indexOf(g)===-1&&n.push(g),e)}function xx(e,n,a,o,g){switch(n){case"focusin":return da=Is(da,e,n,a,o,g),!0;case"dragenter":return ha=Is(ha,e,n,a,o,g),!0;case"mouseover":return ga=Is(ga,e,n,a,o,g),!0;case"pointerover":var m=g.pointerId;return Os.set(m,Is(Os.get(m)||null,e,n,a,o,g)),!0;case"gotpointercapture":return m=g.pointerId,_s.set(m,Is(_s.get(m)||null,e,n,a,o,g)),!0}return!1}function ah(e){var n=an(e.target);if(n!==null){var a=E(n);if(a!==null){if(n=a.tag,n===13){if(n=C(a),n!==null){e.blockedOn=n,De(e.priority,function(){nh(a)});return}}else if(n===31){if(n=N(a),n!==null){e.blockedOn=n,De(e.priority,function(){nh(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function lc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Cf(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ca=o,a.target.dispatchEvent(o),Ca=null}else return n=Rt(a),n!==null&&th(n),e.blockedOn=a,!1;n.shift()}return!0}function lh(e,n,a){lc(e)&&a.delete(n)}function px(){Tf=!1,da!==null&&lc(da)&&(da=null),ha!==null&&lc(ha)&&(ha=null),ga!==null&&lc(ga)&&(ga=null),Os.forEach(lh),_s.forEach(lh)}function sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Tf||(Tf=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,px)))}var oc=null;function sh(e){oc!==e&&(oc=e,u.unstable_scheduleCallback(u.unstable_NormalPriority,function(){oc===e&&(oc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],g=e[n+2];if(typeof o!="function"){if(vf(o||a)===null)continue;break}var m=Rt(a);m!==null&&(e.splice(n,3),n-=3,Su(m,{pending:!0,data:g,method:a.method,action:o},o,g))}}))}function Dl(e){function n(U){return sc(U,e)}da!==null&&sc(da,e),ha!==null&&sc(ha,e),ga!==null&&sc(ga,e),Os.forEach(n),_s.forEach(n);for(var a=0;a<xa.length;a++){var o=xa[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<xa.length&&(a=xa[0],a.blockedOn===null);)ah(a),a.blockedOn===null&&xa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var g=a[o],m=a[o+1],S=g[Mt]||null;if(typeof m=="function")S||sh(a);else if(S){var _=null;if(m&&m.hasAttribute("formAction")){if(g=m,S=m[Mt]||null)_=S.formAction;else if(vf(g)!==null)continue}else _=S.action;typeof _=="function"?a[o+1]=_:(a.splice(o,3),o-=3),sh(a)}}}function oh(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return g=S})},focusReset:"manual",scroll:"manual"})}function n(){g!==null&&(g(),g=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,g=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),g!==null&&(g(),g=null)}}}function Rf(e){this._internalRoot=e}cc.prototype.render=Rf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(p(409));var a=n.current,o=yi();$d(a,o,e,n,null,null)},cc.prototype.unmount=Rf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;$d(e.current,2,null,e,null,null),Go(),n[si]=null}};function cc(e){this._internalRoot=e}cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Gn();e={blockedOn:null,target:e,priority:n};for(var a=0;a<xa.length&&n!==0&&n<xa[a].priority;a++);xa.splice(a,0,e),a===0&&ah(e)}};var ch=d.version;if(ch!=="19.2.3")throw Error(p(527,ch,"19.2.3"));fe.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(p(188)):(e=Object.keys(e).join(","),Error(p(268,e)));return e=w(n),e=e!==null?D(e):null,e=e===null?null:e.stateNode,e};var mx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uc.isDisabled&&uc.supportsFiber)try{kt=uc.inject(mx),we=uc}catch{}}return Ms.createRoot=function(e,n){if(!b(e))throw Error(p(299));var a=!1,o="",g=p1,m=m1,S=y1;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(g=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=Qd(e,1,!1,null,null,a,o,null,g,m,S,oh),e[si]=n.current,of(e),new Rf(n)},Ms.hydrateRoot=function(e,n,a){if(!b(e))throw Error(p(299));var o=!1,g="",m=p1,S=m1,_=y1,U=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(S=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.formState!==void 0&&(U=a.formState)),n=Qd(e,1,!0,n,a??null,o,g,U,m,S,_,oh),n.context=Jd(null),a=n.current,o=yi(),o=_n(o),g=ea(o),g.callback=null,ta(a,g,o),a=o,n.current.lanes=a,Zi(n,a),rr(n),e[si]=n.current,of(e),new cc(n)},Ms.version="19.2.3",Ms}var Eh;function Ox(){if(Eh)return _f.exports;Eh=1;function u(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(u)}catch(d){console.error(d)}}return u(),_f.exports=Nx(),_f.exports}var _x=Ox();class Ix extends Sx.Component{constructor(d){super(d),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(d){return{hasError:!0,error:d}}componentDidCatch(d,h){console.error("Uncaught Error:",d,h),this.setState({errorInfo:h})}render(){return this.state.hasError?R.jsxs("div",{style:{padding:"20px",color:"white",backgroundColor:"#ef4444",height:"100vh",overflow:"auto",fontFamily:"monospace"},children:[R.jsx("h1",{children:"Something went wrong."}),R.jsx("p",{children:"Please screenshot this and send to support."}),R.jsx("div",{style:{background:"#000",padding:"10px",borderRadius:"5px",margin:"10px 0",whiteSpace:"pre-wrap"},children:this.state.error&&this.state.error.toString()}),R.jsx("details",{style:{whiteSpace:"pre-wrap"},children:this.state.errorInfo&&this.state.errorInfo.componentStack}),R.jsx("button",{onClick:()=>{localStorage.clear(),window.location.reload()},style:{marginTop:"20px",padding:"10px 20px",background:"white",color:"black",border:"none",borderRadius:"5px",fontWeight:"bold"},children:"Clear Cache & Reload"})]}):this.props.children}}var bh="popstate";function Dx(u={}){function d(b,E){let{pathname:C="/",search:N="",hash:I=""}=Za(b.location.hash.substring(1));return!C.startsWith("/")&&!C.startsWith(".")&&(C="/"+C),Hf("",{pathname:C,search:N,hash:I},E.state&&E.state.usr||null,E.state&&E.state.key||"default")}function h(b,E){let C=b.document.querySelector("base"),N="";if(C&&C.getAttribute("href")){let I=b.location.href,w=I.indexOf("#");N=w===-1?I:I.slice(0,w)}return N+"#"+(typeof E=="string"?E:Fs(E))}function p(b,E){Bi(b.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(E)})`)}return Bx(d,h,p,u)}function $t(u,d){if(u===!1||u===null||typeof u>"u")throw new Error(d)}function Bi(u,d){if(!u){typeof console<"u"&&console.warn(d);try{throw new Error(d)}catch{}}}function Mx(){return Math.random().toString(36).substring(2,10)}function wh(u,d){return{usr:u.state,key:u.key,idx:d}}function Hf(u,d,h=null,p){return{pathname:typeof u=="string"?u:u.pathname,search:"",hash:"",...typeof d=="string"?Za(d):d,state:h,key:d&&d.key||p||Mx()}}function Fs({pathname:u="/",search:d="",hash:h=""}){return d&&d!=="?"&&(u+=d.charAt(0)==="?"?d:"?"+d),h&&h!=="#"&&(u+=h.charAt(0)==="#"?h:"#"+h),u}function Za(u){let d={};if(u){let h=u.indexOf("#");h>=0&&(d.hash=u.substring(h),u=u.substring(0,h));let p=u.indexOf("?");p>=0&&(d.search=u.substring(p),u=u.substring(0,p)),u&&(d.pathname=u)}return d}function Bx(u,d,h,p={}){let{window:b=document.defaultView,v5Compat:E=!1}=p,C=b.history,N="POP",I=null,w=D();w==null&&(w=0,C.replaceState({...C.state,idx:w},""));function D(){return(C.state||{idx:null}).idx}function M(){N="POP";let K=D(),Ee=K==null?null:K-w;w=K,I&&I({action:N,location:Z.location,delta:Ee})}function te(K,Ee){N="PUSH";let de=Hf(Z.location,K,Ee);h&&h(de,K),w=D()+1;let ae=wh(de,w),ce=Z.createHref(de);try{C.pushState(ae,"",ce)}catch(Fe){if(Fe instanceof DOMException&&Fe.name==="DataCloneError")throw Fe;b.location.assign(ce)}E&&I&&I({action:N,location:Z.location,delta:1})}function $(K,Ee){N="REPLACE";let de=Hf(Z.location,K,Ee);h&&h(de,K),w=D();let ae=wh(de,w),ce=Z.createHref(de);C.replaceState(ae,"",ce),E&&I&&I({action:N,location:Z.location,delta:0})}function W(K){return Lx(K)}let Z={get action(){return N},get location(){return u(b,C)},listen(K){if(I)throw new Error("A history only accepts one active listener");return b.addEventListener(bh,M),I=K,()=>{b.removeEventListener(bh,M),I=null}},createHref(K){return d(b,K)},createURL:W,encodeLocation(K){let Ee=W(K);return{pathname:Ee.pathname,search:Ee.search,hash:Ee.hash}},push:te,replace:$,go(K){return C.go(K)}};return Z}function Lx(u,d=!1){let h="http://localhost";typeof window<"u"&&(h=window.location.origin!=="null"?window.location.origin:window.location.href),$t(h,"No window.location.(origin|href) available to create URL");let p=typeof u=="string"?u:Fs(u);return p=p.replace(/ $/,"%20"),!d&&p.startsWith("//")&&(p=h+p),new URL(p,h)}function o2(u,d,h="/"){return Ux(u,d,h,!1)}function Ux(u,d,h,p){let b=typeof d=="string"?Za(d):d,E=Mr(b.pathname||"/",h);if(E==null)return null;let C=c2(u);kx(C);let N=null;for(let I=0;N==null&&I<C.length;++I){let w=qx(E);N=Yx(C[I],w,p)}return N}function c2(u,d=[],h=[],p="",b=!1){let E=(C,N,I=b,w)=>{let D={relativePath:w===void 0?C.path||"":w,caseSensitive:C.caseSensitive===!0,childrenIndex:N,route:C};if(D.relativePath.startsWith("/")){if(!D.relativePath.startsWith(p)&&I)return;$t(D.relativePath.startsWith(p),`Absolute route path "${D.relativePath}" nested under path "${p}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),D.relativePath=D.relativePath.slice(p.length)}let M=Dr([p,D.relativePath]),te=h.concat(D);C.children&&C.children.length>0&&($t(C.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${M}".`),c2(C.children,d,te,M,I)),!(C.path==null&&!C.index)&&d.push({path:M,score:Vx(M,C.index),routesMeta:te})};return u.forEach((C,N)=>{if(C.path===""||!C.path?.includes("?"))E(C,N);else for(let I of u2(C.path))E(C,N,!0,I)}),d}function u2(u){let d=u.split("/");if(d.length===0)return[];let[h,...p]=d,b=h.endsWith("?"),E=h.replace(/\?$/,"");if(p.length===0)return b?[E,""]:[E];let C=u2(p.join("/")),N=[];return N.push(...C.map(I=>I===""?E:[E,I].join("/"))),b&&N.push(...C),N.map(I=>u.startsWith("/")&&I===""?"/":I)}function kx(u){u.sort((d,h)=>d.score!==h.score?h.score-d.score:Xx(d.routesMeta.map(p=>p.childrenIndex),h.routesMeta.map(p=>p.childrenIndex)))}var zx=/^:[\w-]+$/,Fx=3,jx=2,Hx=1,Px=10,Gx=-2,Ah=u=>u==="*";function Vx(u,d){let h=u.split("/"),p=h.length;return h.some(Ah)&&(p+=Gx),d&&(p+=jx),h.filter(b=>!Ah(b)).reduce((b,E)=>b+(zx.test(E)?Fx:E===""?Hx:Px),p)}function Xx(u,d){return u.length===d.length&&u.slice(0,-1).every((p,b)=>p===d[b])?u[u.length-1]-d[d.length-1]:0}function Yx(u,d,h=!1){let{routesMeta:p}=u,b={},E="/",C=[];for(let N=0;N<p.length;++N){let I=p[N],w=N===p.length-1,D=E==="/"?d:d.slice(E.length)||"/",M=Ec({path:I.relativePath,caseSensitive:I.caseSensitive,end:w},D),te=I.route;if(!M&&w&&h&&!p[p.length-1].route.index&&(M=Ec({path:I.relativePath,caseSensitive:I.caseSensitive,end:!1},D)),!M)return null;Object.assign(b,M.params),C.push({params:b,pathname:Dr([E,M.pathname]),pathnameBase:Jx(Dr([E,M.pathnameBase])),route:te}),M.pathnameBase!=="/"&&(E=Dr([E,M.pathnameBase]))}return C}function Ec(u,d){typeof u=="string"&&(u={path:u,caseSensitive:!1,end:!0});let[h,p]=Wx(u.path,u.caseSensitive,u.end),b=d.match(h);if(!b)return null;let E=b[0],C=E.replace(/(.)\/+$/,"$1"),N=b.slice(1);return{params:p.reduce((w,{paramName:D,isOptional:M},te)=>{if(D==="*"){let W=N[te]||"";C=E.slice(0,E.length-W.length).replace(/(.)\/+$/,"$1")}const $=N[te];return M&&!$?w[D]=void 0:w[D]=($||"").replace(/%2F/g,"/"),w},{}),pathname:E,pathnameBase:C,pattern:u}}function Wx(u,d=!1,h=!0){Bi(u==="*"||!u.endsWith("*")||u.endsWith("/*"),`Route path "${u}" will be treated as if it were "${u.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${u.replace(/\*$/,"/*")}".`);let p=[],b="^"+u.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(C,N,I)=>(p.push({paramName:N,isOptional:I!=null}),I?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return u.endsWith("*")?(p.push({paramName:"*"}),b+=u==="*"||u==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):h?b+="\\/*$":u!==""&&u!=="/"&&(b+="(?:(?=\\/|$))"),[new RegExp(b,d?void 0:"i"),p]}function qx(u){try{return u.split("/").map(d=>decodeURIComponent(d).replace(/\//g,"%2F")).join("/")}catch(d){return Bi(!1,`The URL path "${u}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${d}).`),u}}function Mr(u,d){if(d==="/")return u;if(!u.toLowerCase().startsWith(d.toLowerCase()))return null;let h=d.endsWith("/")?d.length-1:d.length,p=u.charAt(h);return p&&p!=="/"?null:u.slice(h)||"/"}var Zx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function Kx(u,d="/"){let{pathname:h,search:p="",hash:b=""}=typeof u=="string"?Za(u):u,E;return h?(h=h.replace(/\/\/+/g,"/"),h.startsWith("/")?E=Sh(h.substring(1),"/"):E=Sh(h,d)):E=d,{pathname:E,search:$x(p),hash:ep(b)}}function Sh(u,d){let h=d.replace(/\/+$/,"").split("/");return u.split("/").forEach(b=>{b===".."?h.length>1&&h.pop():b!=="."&&h.push(b)}),h.length>1?h.join("/"):"/"}function Bf(u,d,h,p){return`Cannot include a '${u}' character in a manually specified \`to.${d}\` field [${JSON.stringify(p)}].  Please separate it out to the \`to.${h}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Qx(u){return u.filter((d,h)=>h===0||d.route.path&&d.route.path.length>0)}function Zf(u){let d=Qx(u);return d.map((h,p)=>p===d.length-1?h.pathname:h.pathnameBase)}function Kf(u,d,h,p=!1){let b;typeof u=="string"?b=Za(u):(b={...u},$t(!b.pathname||!b.pathname.includes("?"),Bf("?","pathname","search",b)),$t(!b.pathname||!b.pathname.includes("#"),Bf("#","pathname","hash",b)),$t(!b.search||!b.search.includes("#"),Bf("#","search","hash",b)));let E=u===""||b.pathname==="",C=E?"/":b.pathname,N;if(C==null)N=h;else{let M=d.length-1;if(!p&&C.startsWith("..")){let te=C.split("/");for(;te[0]==="..";)te.shift(),M-=1;b.pathname=te.join("/")}N=M>=0?d[M]:"/"}let I=Kx(b,N),w=C&&C!=="/"&&C.endsWith("/"),D=(E||C===".")&&h.endsWith("/");return!I.pathname.endsWith("/")&&(w||D)&&(I.pathname+="/"),I}var Dr=u=>u.join("/").replace(/\/\/+/g,"/"),Jx=u=>u.replace(/\/+$/,"").replace(/^\/*/,"/"),$x=u=>!u||u==="?"?"":u.startsWith("?")?u:"?"+u,ep=u=>!u||u==="#"?"":u.startsWith("#")?u:"#"+u,tp=class{constructor(u,d,h,p=!1){this.status=u,this.statusText=d||"",this.internal=p,h instanceof Error?(this.data=h.toString(),this.error=h):this.data=h}};function np(u){return u!=null&&typeof u.status=="number"&&typeof u.statusText=="string"&&typeof u.internal=="boolean"&&"data"in u}function ip(u){return u.map(d=>d.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var f2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function d2(u,d){let h=u;if(typeof h!="string"||!Zx.test(h))return{absoluteURL:void 0,isExternal:!1,to:h};let p=h,b=!1;if(f2)try{let E=new URL(window.location.href),C=h.startsWith("//")?new URL(E.protocol+h):new URL(h),N=Mr(C.pathname,d);C.origin===E.origin&&N!=null?h=N+C.search+C.hash:b=!0}catch{Bi(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:p,isExternal:b,to:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var h2=["POST","PUT","PATCH","DELETE"];new Set(h2);var rp=["GET",...h2];new Set(rp);var zl=H.createContext(null);zl.displayName="DataRouter";var Cc=H.createContext(null);Cc.displayName="DataRouterState";var ap=H.createContext(!1),g2=H.createContext({isTransitioning:!1});g2.displayName="ViewTransition";var lp=H.createContext(new Map);lp.displayName="Fetchers";var sp=H.createContext(null);sp.displayName="Await";var bi=H.createContext(null);bi.displayName="Navigation";var js=H.createContext(null);js.displayName="Location";var lr=H.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var Qf=H.createContext(null);Qf.displayName="RouteError";var x2="REACT_ROUTER_ERROR",op="REDIRECT",cp="ROUTE_ERROR_RESPONSE";function up(u){if(u.startsWith(`${x2}:${op}:{`))try{let d=JSON.parse(u.slice(28));if(typeof d=="object"&&d&&typeof d.status=="number"&&typeof d.statusText=="string"&&typeof d.location=="string"&&typeof d.reloadDocument=="boolean"&&typeof d.replace=="boolean")return d}catch{}}function fp(u){if(u.startsWith(`${x2}:${cp}:{`))try{let d=JSON.parse(u.slice(40));if(typeof d=="object"&&d&&typeof d.status=="number"&&typeof d.statusText=="string")return new tp(d.status,d.statusText,d.data)}catch{}}function dp(u,{relative:d}={}){$t(Fl(),"useHref() may be used only in the context of a <Router> component.");let{basename:h,navigator:p}=H.useContext(bi),{hash:b,pathname:E,search:C}=Hs(u,{relative:d}),N=E;return h!=="/"&&(N=E==="/"?h:Dr([h,E])),p.createHref({pathname:N,search:C,hash:b})}function Fl(){return H.useContext(js)!=null}function ma(){return $t(Fl(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(js).location}var p2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function m2(u){H.useContext(bi).static||H.useLayoutEffect(u)}function vc(){let{isDataRoute:u}=H.useContext(lr);return u?vp():hp()}function hp(){$t(Fl(),"useNavigate() may be used only in the context of a <Router> component.");let u=H.useContext(zl),{basename:d,navigator:h}=H.useContext(bi),{matches:p}=H.useContext(lr),{pathname:b}=ma(),E=JSON.stringify(Zf(p)),C=H.useRef(!1);return m2(()=>{C.current=!0}),H.useCallback((I,w={})=>{if(Bi(C.current,p2),!C.current)return;if(typeof I=="number"){h.go(I);return}let D=Kf(I,JSON.parse(E),b,w.relative==="path");u==null&&d!=="/"&&(D.pathname=D.pathname==="/"?d:Dr([d,D.pathname])),(w.replace?h.replace:h.push)(D,w.state,w)},[d,h,E,b,u])}H.createContext(null);function Hs(u,{relative:d}={}){let{matches:h}=H.useContext(lr),{pathname:p}=ma(),b=JSON.stringify(Zf(h));return H.useMemo(()=>Kf(u,JSON.parse(b),p,d==="path"),[u,b,p,d])}function gp(u,d){return y2(u,d)}function y2(u,d,h,p,b){$t(Fl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:E}=H.useContext(bi),{matches:C}=H.useContext(lr),N=C[C.length-1],I=N?N.params:{},w=N?N.pathname:"/",D=N?N.pathnameBase:"/",M=N&&N.route;{let de=M&&M.path||"";b2(w,!M||de.endsWith("*")||de.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${w}" (under <Route path="${de}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${de}"> to <Route path="${de==="/"?"*":`${de}/*`}">.`)}let te=ma(),$;if(d){let de=typeof d=="string"?Za(d):d;$t(D==="/"||de.pathname?.startsWith(D),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${D}" but pathname "${de.pathname}" was given in the \`location\` prop.`),$=de}else $=te;let W=$.pathname||"/",Z=W;if(D!=="/"){let de=D.replace(/^\//,"").split("/");Z="/"+W.replace(/^\//,"").split("/").slice(de.length).join("/")}let K=o2(u,{pathname:Z});Bi(M||K!=null,`No routes matched location "${$.pathname}${$.search}${$.hash}" `),Bi(K==null||K[K.length-1].route.element!==void 0||K[K.length-1].route.Component!==void 0||K[K.length-1].route.lazy!==void 0,`Matched leaf route at location "${$.pathname}${$.search}${$.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Ee=Ep(K&&K.map(de=>Object.assign({},de,{params:Object.assign({},I,de.params),pathname:Dr([D,E.encodeLocation?E.encodeLocation(de.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:de.pathname]),pathnameBase:de.pathnameBase==="/"?D:Dr([D,E.encodeLocation?E.encodeLocation(de.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:de.pathnameBase])})),C,h,p,b);return d&&Ee?H.createElement(js.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...$},navigationType:"POP"}},Ee):Ee}function xp(){let u=Cp(),d=np(u)?`${u.status} ${u.statusText}`:u instanceof Error?u.message:JSON.stringify(u),h=u instanceof Error?u.stack:null,p="rgba(200,200,200, 0.5)",b={padding:"0.5rem",backgroundColor:p},E={padding:"2px 4px",backgroundColor:p},C=null;return console.error("Error handled by React Router default ErrorBoundary:",u),C=H.createElement(H.Fragment,null,H.createElement("p",null," Hey developer "),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:E},"ErrorBoundary")," or"," ",H.createElement("code",{style:E},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},d),h?H.createElement("pre",{style:b},h):null,C)}var pp=H.createElement(xp,null),E2=class extends H.Component{constructor(u){super(u),this.state={location:u.location,revalidation:u.revalidation,error:u.error}}static getDerivedStateFromError(u){return{error:u}}static getDerivedStateFromProps(u,d){return d.location!==u.location||d.revalidation!=="idle"&&u.revalidation==="idle"?{error:u.error,location:u.location,revalidation:u.revalidation}:{error:u.error!==void 0?u.error:d.error,location:d.location,revalidation:u.revalidation||d.revalidation}}componentDidCatch(u,d){this.props.onError?this.props.onError(u,d):console.error("React Router caught the following error during render",u)}render(){let u=this.state.error;if(this.context&&typeof u=="object"&&u&&"digest"in u&&typeof u.digest=="string"){const h=fp(u.digest);h&&(u=h)}let d=u!==void 0?H.createElement(lr.Provider,{value:this.props.routeContext},H.createElement(Qf.Provider,{value:u,children:this.props.component})):this.props.children;return this.context?H.createElement(mp,{error:u},d):d}};E2.contextType=ap;var Lf=new WeakMap;function mp({children:u,error:d}){let{basename:h}=H.useContext(bi);if(typeof d=="object"&&d&&"digest"in d&&typeof d.digest=="string"){let p=up(d.digest);if(p){let b=Lf.get(d);if(b)throw b;let E=d2(p.location,h);if(f2&&!Lf.get(d))if(E.isExternal||p.reloadDocument)window.location.href=E.absoluteURL||E.to;else{const C=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(E.to,{replace:p.replace}));throw Lf.set(d,C),C}return H.createElement("meta",{httpEquiv:"refresh",content:`0;url=${E.absoluteURL||E.to}`})}}return u}function yp({routeContext:u,match:d,children:h}){let p=H.useContext(zl);return p&&p.static&&p.staticContext&&(d.route.errorElement||d.route.ErrorBoundary)&&(p.staticContext._deepestRenderedBoundaryId=d.route.id),H.createElement(lr.Provider,{value:u},h)}function Ep(u,d=[],h=null,p=null,b=null){if(u==null){if(!h)return null;if(h.errors)u=h.matches;else if(d.length===0&&!h.initialized&&h.matches.length>0)u=h.matches;else return null}let E=u,C=h?.errors;if(C!=null){let D=E.findIndex(M=>M.route.id&&C?.[M.route.id]!==void 0);$t(D>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(C).join(",")}`),E=E.slice(0,Math.min(E.length,D+1))}let N=!1,I=-1;if(h)for(let D=0;D<E.length;D++){let M=E[D];if((M.route.HydrateFallback||M.route.hydrateFallbackElement)&&(I=D),M.route.id){let{loaderData:te,errors:$}=h,W=M.route.loader&&!te.hasOwnProperty(M.route.id)&&(!$||$[M.route.id]===void 0);if(M.route.lazy||W){N=!0,I>=0?E=E.slice(0,I+1):E=[E[0]];break}}}let w=h&&p?(D,M)=>{p(D,{location:h.location,params:h.matches?.[0]?.params??{},unstable_pattern:ip(h.matches),errorInfo:M})}:void 0;return E.reduceRight((D,M,te)=>{let $,W=!1,Z=null,K=null;h&&($=C&&M.route.id?C[M.route.id]:void 0,Z=M.route.errorElement||pp,N&&(I<0&&te===0?(b2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),W=!0,K=null):I===te&&(W=!0,K=M.route.hydrateFallbackElement||null)));let Ee=d.concat(E.slice(0,te+1)),de=()=>{let ae;return $?ae=Z:W?ae=K:M.route.Component?ae=H.createElement(M.route.Component,null):M.route.element?ae=M.route.element:ae=D,H.createElement(yp,{match:M,routeContext:{outlet:D,matches:Ee,isDataRoute:h!=null},children:ae})};return h&&(M.route.ErrorBoundary||M.route.errorElement||te===0)?H.createElement(E2,{location:h.location,revalidation:h.revalidation,component:Z,error:$,children:de(),routeContext:{outlet:null,matches:Ee,isDataRoute:!0},onError:w}):de()},null)}function Jf(u){return`${u} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bp(u){let d=H.useContext(zl);return $t(d,Jf(u)),d}function wp(u){let d=H.useContext(Cc);return $t(d,Jf(u)),d}function Ap(u){let d=H.useContext(lr);return $t(d,Jf(u)),d}function $f(u){let d=Ap(u),h=d.matches[d.matches.length-1];return $t(h.route.id,`${u} can only be used on routes that contain a unique "id"`),h.route.id}function Sp(){return $f("useRouteId")}function Cp(){let u=H.useContext(Qf),d=wp("useRouteError"),h=$f("useRouteError");return u!==void 0?u:d.errors?.[h]}function vp(){let{router:u}=bp("useNavigate"),d=$f("useNavigate"),h=H.useRef(!1);return m2(()=>{h.current=!0}),H.useCallback(async(b,E={})=>{Bi(h.current,p2),h.current&&(typeof b=="number"?await u.navigate(b):await u.navigate(b,{fromRouteId:d,...E}))},[u,d])}var Ch={};function b2(u,d,h){!d&&!Ch[u]&&(Ch[u]=!0,Bi(!1,h))}H.memo(Tp);function Tp({routes:u,future:d,state:h,onError:p}){return y2(u,void 0,h,p,d)}function e0({to:u,replace:d,state:h,relative:p}){$t(Fl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:b}=H.useContext(bi);Bi(!b,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:E}=H.useContext(lr),{pathname:C}=ma(),N=vc(),I=Kf(u,Zf(E),C,p==="path"),w=JSON.stringify(I);return H.useEffect(()=>{N(JSON.parse(w),{replace:d,state:h,relative:p})},[N,w,p,d,h]),null}function ks(u){$t(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Rp({basename:u="/",children:d=null,location:h,navigationType:p="POP",navigator:b,static:E=!1,unstable_useTransitions:C}){$t(!Fl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let N=u.replace(/^\/*/,"/"),I=H.useMemo(()=>({basename:N,navigator:b,static:E,unstable_useTransitions:C,future:{}}),[N,b,E,C]);typeof h=="string"&&(h=Za(h));let{pathname:w="/",search:D="",hash:M="",state:te=null,key:$="default"}=h,W=H.useMemo(()=>{let Z=Mr(w,N);return Z==null?null:{location:{pathname:Z,search:D,hash:M,state:te,key:$},navigationType:p}},[N,w,D,M,te,$,p]);return Bi(W!=null,`<Router basename="${N}"> is not able to match the URL "${w}${D}${M}" because it does not start with the basename, so the <Router> won't render anything.`),W==null?null:H.createElement(bi.Provider,{value:I},H.createElement(js.Provider,{children:d,value:W}))}function Np({children:u,location:d}){return gp(Pf(u),d)}function Pf(u,d=[]){let h=[];return H.Children.forEach(u,(p,b)=>{if(!H.isValidElement(p))return;let E=[...d,b];if(p.type===H.Fragment){h.push.apply(h,Pf(p.props.children,E));return}$t(p.type===ks,`[${typeof p.type=="string"?p.type:p.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$t(!p.props.index||!p.props.children,"An index route cannot have child routes.");let C={id:p.props.id||E.join("-"),caseSensitive:p.props.caseSensitive,element:p.props.element,Component:p.props.Component,index:p.props.index,path:p.props.path,middleware:p.props.middleware,loader:p.props.loader,action:p.props.action,hydrateFallbackElement:p.props.hydrateFallbackElement,HydrateFallback:p.props.HydrateFallback,errorElement:p.props.errorElement,ErrorBoundary:p.props.ErrorBoundary,hasErrorBoundary:p.props.hasErrorBoundary===!0||p.props.ErrorBoundary!=null||p.props.errorElement!=null,shouldRevalidate:p.props.shouldRevalidate,handle:p.props.handle,lazy:p.props.lazy};p.props.children&&(C.children=Pf(p.props.children,E)),h.push(C)}),h}var gc="get",xc="application/x-www-form-urlencoded";function Tc(u){return typeof HTMLElement<"u"&&u instanceof HTMLElement}function Op(u){return Tc(u)&&u.tagName.toLowerCase()==="button"}function _p(u){return Tc(u)&&u.tagName.toLowerCase()==="form"}function Ip(u){return Tc(u)&&u.tagName.toLowerCase()==="input"}function Dp(u){return!!(u.metaKey||u.altKey||u.ctrlKey||u.shiftKey)}function Mp(u,d){return u.button===0&&(!d||d==="_self")&&!Dp(u)}var dc=null;function Bp(){if(dc===null)try{new FormData(document.createElement("form"),0),dc=!1}catch{dc=!0}return dc}var Lp=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Uf(u){return u!=null&&!Lp.has(u)?(Bi(!1,`"${u}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):u}function Up(u,d){let h,p,b,E,C;if(_p(u)){let N=u.getAttribute("action");p=N?Mr(N,d):null,h=u.getAttribute("method")||gc,b=Uf(u.getAttribute("enctype"))||xc,E=new FormData(u)}else if(Op(u)||Ip(u)&&(u.type==="submit"||u.type==="image")){let N=u.form;if(N==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let I=u.getAttribute("formaction")||N.getAttribute("action");if(p=I?Mr(I,d):null,h=u.getAttribute("formmethod")||N.getAttribute("method")||gc,b=Uf(u.getAttribute("formenctype"))||Uf(N.getAttribute("enctype"))||xc,E=new FormData(N,u),!Bp()){let{name:w,type:D,value:M}=u;if(D==="image"){let te=w?`${w}.`:"";E.append(`${te}x`,"0"),E.append(`${te}y`,"0")}else w&&E.append(w,M)}}else{if(Tc(u))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');h=gc,p=null,b=xc,C=u}return E&&b==="text/plain"&&(C=E,E=void 0),{action:p,method:h.toLowerCase(),encType:b,formData:E,body:C}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function t0(u,d){if(u===!1||u===null||typeof u>"u")throw new Error(d)}function kp(u,d,h,p){let b=typeof u=="string"?new URL(u,typeof window>"u"?"server://singlefetch/":window.location.origin):u;return h?b.pathname.endsWith("/")?b.pathname=`${b.pathname}_.${p}`:b.pathname=`${b.pathname}.${p}`:b.pathname==="/"?b.pathname=`_root.${p}`:d&&Mr(b.pathname,d)==="/"?b.pathname=`${d.replace(/\/$/,"")}/_root.${p}`:b.pathname=`${b.pathname.replace(/\/$/,"")}.${p}`,b}async function zp(u,d){if(u.id in d)return d[u.id];try{let h=await import(u.module);return d[u.id]=h,h}catch(h){return console.error(`Error loading route module \`${u.module}\`, reloading page...`),console.error(h),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fp(u){return u==null?!1:u.href==null?u.rel==="preload"&&typeof u.imageSrcSet=="string"&&typeof u.imageSizes=="string":typeof u.rel=="string"&&typeof u.href=="string"}async function jp(u,d,h){let p=await Promise.all(u.map(async b=>{let E=d.routes[b.route.id];if(E){let C=await zp(E,h);return C.links?C.links():[]}return[]}));return Vp(p.flat(1).filter(Fp).filter(b=>b.rel==="stylesheet"||b.rel==="preload").map(b=>b.rel==="stylesheet"?{...b,rel:"prefetch",as:"style"}:{...b,rel:"prefetch"}))}function vh(u,d,h,p,b,E){let C=(I,w)=>h[w]?I.route.id!==h[w].route.id:!0,N=(I,w)=>h[w].pathname!==I.pathname||h[w].route.path?.endsWith("*")&&h[w].params["*"]!==I.params["*"];return E==="assets"?d.filter((I,w)=>C(I,w)||N(I,w)):E==="data"?d.filter((I,w)=>{let D=p.routes[I.route.id];if(!D||!D.hasLoader)return!1;if(C(I,w)||N(I,w))return!0;if(I.route.shouldRevalidate){let M=I.route.shouldRevalidate({currentUrl:new URL(b.pathname+b.search+b.hash,window.origin),currentParams:h[0]?.params||{},nextUrl:new URL(u,window.origin),nextParams:I.params,defaultShouldRevalidate:!0});if(typeof M=="boolean")return M}return!0}):[]}function Hp(u,d,{includeHydrateFallback:h}={}){return Pp(u.map(p=>{let b=d.routes[p.route.id];if(!b)return[];let E=[b.module];return b.clientActionModule&&(E=E.concat(b.clientActionModule)),b.clientLoaderModule&&(E=E.concat(b.clientLoaderModule)),h&&b.hydrateFallbackModule&&(E=E.concat(b.hydrateFallbackModule)),b.imports&&(E=E.concat(b.imports)),E}).flat(1))}function Pp(u){return[...new Set(u)]}function Gp(u){let d={},h=Object.keys(u).sort();for(let p of h)d[p]=u[p];return d}function Vp(u,d){let h=new Set;return new Set(d),u.reduce((p,b)=>{let E=JSON.stringify(Gp(b));return h.has(E)||(h.add(E),p.push({key:E,link:b})),p},[])}function w2(){let u=H.useContext(zl);return t0(u,"You must render this element inside a <DataRouterContext.Provider> element"),u}function Xp(){let u=H.useContext(Cc);return t0(u,"You must render this element inside a <DataRouterStateContext.Provider> element"),u}var n0=H.createContext(void 0);n0.displayName="FrameworkContext";function A2(){let u=H.useContext(n0);return t0(u,"You must render this element inside a <HydratedRouter> element"),u}function Yp(u,d){let h=H.useContext(n0),[p,b]=H.useState(!1),[E,C]=H.useState(!1),{onFocus:N,onBlur:I,onMouseEnter:w,onMouseLeave:D,onTouchStart:M}=d,te=H.useRef(null);H.useEffect(()=>{if(u==="render"&&C(!0),u==="viewport"){let Z=Ee=>{Ee.forEach(de=>{C(de.isIntersecting)})},K=new IntersectionObserver(Z,{threshold:.5});return te.current&&K.observe(te.current),()=>{K.disconnect()}}},[u]),H.useEffect(()=>{if(p){let Z=setTimeout(()=>{C(!0)},100);return()=>{clearTimeout(Z)}}},[p]);let $=()=>{b(!0)},W=()=>{b(!1),C(!1)};return h?u!=="intent"?[E,te,{}]:[E,te,{onFocus:Bs(N,$),onBlur:Bs(I,W),onMouseEnter:Bs(w,$),onMouseLeave:Bs(D,W),onTouchStart:Bs(M,$)}]:[!1,te,{}]}function Bs(u,d){return h=>{u&&u(h),h.defaultPrevented||d(h)}}function Wp({page:u,...d}){let{router:h}=w2(),p=H.useMemo(()=>o2(h.routes,u,h.basename),[h.routes,u,h.basename]);return p?H.createElement(Zp,{page:u,matches:p,...d}):null}function qp(u){let{manifest:d,routeModules:h}=A2(),[p,b]=H.useState([]);return H.useEffect(()=>{let E=!1;return jp(u,d,h).then(C=>{E||b(C)}),()=>{E=!0}},[u,d,h]),p}function Zp({page:u,matches:d,...h}){let p=ma(),{future:b,manifest:E,routeModules:C}=A2(),{basename:N}=w2(),{loaderData:I,matches:w}=Xp(),D=H.useMemo(()=>vh(u,d,w,E,p,"data"),[u,d,w,E,p]),M=H.useMemo(()=>vh(u,d,w,E,p,"assets"),[u,d,w,E,p]),te=H.useMemo(()=>{if(u===p.pathname+p.search+p.hash)return[];let Z=new Set,K=!1;if(d.forEach(de=>{let ae=E.routes[de.route.id];!ae||!ae.hasLoader||(!D.some(ce=>ce.route.id===de.route.id)&&de.route.id in I&&C[de.route.id]?.shouldRevalidate||ae.hasClientLoader?K=!0:Z.add(de.route.id))}),Z.size===0)return[];let Ee=kp(u,N,b.unstable_trailingSlashAwareDataRequests,"data");return K&&Z.size>0&&Ee.searchParams.set("_routes",d.filter(de=>Z.has(de.route.id)).map(de=>de.route.id).join(",")),[Ee.pathname+Ee.search]},[N,b.unstable_trailingSlashAwareDataRequests,I,p,E,D,d,u,C]),$=H.useMemo(()=>Hp(M,E),[M,E]),W=qp(M);return H.createElement(H.Fragment,null,te.map(Z=>H.createElement("link",{key:Z,rel:"prefetch",as:"fetch",href:Z,...h})),$.map(Z=>H.createElement("link",{key:Z,rel:"modulepreload",href:Z,...h})),W.map(({key:Z,link:K})=>H.createElement("link",{key:Z,nonce:h.nonce,...K,crossOrigin:K.crossOrigin??h.crossOrigin})))}function Kp(...u){return d=>{u.forEach(h=>{typeof h=="function"?h(d):h!=null&&(h.current=d)})}}var Qp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Qp&&(window.__reactRouterVersion="7.13.0")}catch{}function Jp({basename:u,children:d,unstable_useTransitions:h,window:p}){let b=H.useRef();b.current==null&&(b.current=Dx({window:p,v5Compat:!0}));let E=b.current,[C,N]=H.useState({action:E.action,location:E.location}),I=H.useCallback(w=>{h===!1?N(w):H.startTransition(()=>N(w))},[h]);return H.useLayoutEffect(()=>E.listen(I),[E,I]),H.createElement(Rp,{basename:u,children:d,location:C.location,navigationType:C.action,navigator:E,unstable_useTransitions:h})}var S2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C2=H.forwardRef(function({onClick:d,discover:h="render",prefetch:p="none",relative:b,reloadDocument:E,replace:C,state:N,target:I,to:w,preventScrollReset:D,viewTransition:M,unstable_defaultShouldRevalidate:te,...$},W){let{basename:Z,unstable_useTransitions:K}=H.useContext(bi),Ee=typeof w=="string"&&S2.test(w),de=d2(w,Z);w=de.to;let ae=dp(w,{relative:b}),[ce,Fe,Me]=Yp(p,$),P=nm(w,{replace:C,state:N,target:I,preventScrollReset:D,relative:b,viewTransition:M,unstable_defaultShouldRevalidate:te,unstable_useTransitions:K});function Re(Oe){d&&d(Oe),Oe.defaultPrevented||P(Oe)}let X=H.createElement("a",{...$,...Me,href:de.absoluteURL||ae,onClick:de.isExternal||E?d:Re,ref:Kp(W,Fe),target:I,"data-discover":!Ee&&h==="render"?"true":void 0});return ce&&!Ee?H.createElement(H.Fragment,null,X,H.createElement(Wp,{page:ae})):X});C2.displayName="Link";var $p=H.forwardRef(function({"aria-current":d="page",caseSensitive:h=!1,className:p="",end:b=!1,style:E,to:C,viewTransition:N,children:I,...w},D){let M=Hs(C,{relative:w.relative}),te=ma(),$=H.useContext(Cc),{navigator:W,basename:Z}=H.useContext(bi),K=$!=null&&sm(M)&&N===!0,Ee=W.encodeLocation?W.encodeLocation(M).pathname:M.pathname,de=te.pathname,ae=$&&$.navigation&&$.navigation.location?$.navigation.location.pathname:null;h||(de=de.toLowerCase(),ae=ae?ae.toLowerCase():null,Ee=Ee.toLowerCase()),ae&&Z&&(ae=Mr(ae,Z)||ae);const ce=Ee!=="/"&&Ee.endsWith("/")?Ee.length-1:Ee.length;let Fe=de===Ee||!b&&de.startsWith(Ee)&&de.charAt(ce)==="/",Me=ae!=null&&(ae===Ee||!b&&ae.startsWith(Ee)&&ae.charAt(Ee.length)==="/"),P={isActive:Fe,isPending:Me,isTransitioning:K},Re=Fe?d:void 0,X;typeof p=="function"?X=p(P):X=[p,Fe?"active":null,Me?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let Oe=typeof E=="function"?E(P):E;return H.createElement(C2,{...w,"aria-current":Re,className:X,ref:D,style:Oe,to:C,viewTransition:N},typeof I=="function"?I(P):I)});$p.displayName="NavLink";var em=H.forwardRef(({discover:u="render",fetcherKey:d,navigate:h,reloadDocument:p,replace:b,state:E,method:C=gc,action:N,onSubmit:I,relative:w,preventScrollReset:D,viewTransition:M,unstable_defaultShouldRevalidate:te,...$},W)=>{let{unstable_useTransitions:Z}=H.useContext(bi),K=am(),Ee=lm(N,{relative:w}),de=C.toLowerCase()==="get"?"get":"post",ae=typeof N=="string"&&S2.test(N),ce=Fe=>{if(I&&I(Fe),Fe.defaultPrevented)return;Fe.preventDefault();let Me=Fe.nativeEvent.submitter,P=Me?.getAttribute("formmethod")||C,Re=()=>K(Me||Fe.currentTarget,{fetcherKey:d,method:P,navigate:h,replace:b,state:E,relative:w,preventScrollReset:D,viewTransition:M,unstable_defaultShouldRevalidate:te});Z&&h!==!1?H.startTransition(()=>Re()):Re()};return H.createElement("form",{ref:W,method:de,action:Ee,onSubmit:p?I:ce,...$,"data-discover":!ae&&u==="render"?"true":void 0})});em.displayName="Form";function tm(u){return`${u} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function v2(u){let d=H.useContext(zl);return $t(d,tm(u)),d}function nm(u,{target:d,replace:h,state:p,preventScrollReset:b,relative:E,viewTransition:C,unstable_defaultShouldRevalidate:N,unstable_useTransitions:I}={}){let w=vc(),D=ma(),M=Hs(u,{relative:E});return H.useCallback(te=>{if(Mp(te,d)){te.preventDefault();let $=h!==void 0?h:Fs(D)===Fs(M),W=()=>w(u,{replace:$,state:p,preventScrollReset:b,relative:E,viewTransition:C,unstable_defaultShouldRevalidate:N});I?H.startTransition(()=>W()):W()}},[D,w,M,h,p,d,u,b,E,C,N,I])}var im=0,rm=()=>`__${String(++im)}__`;function am(){let{router:u}=v2("useSubmit"),{basename:d}=H.useContext(bi),h=Sp(),p=u.fetch,b=u.navigate;return H.useCallback(async(E,C={})=>{let{action:N,method:I,encType:w,formData:D,body:M}=Up(E,d);if(C.navigate===!1){let te=C.fetcherKey||rm();await p(te,h,C.action||N,{unstable_defaultShouldRevalidate:C.unstable_defaultShouldRevalidate,preventScrollReset:C.preventScrollReset,formData:D,body:M,formMethod:C.method||I,formEncType:C.encType||w,flushSync:C.flushSync})}else await b(C.action||N,{unstable_defaultShouldRevalidate:C.unstable_defaultShouldRevalidate,preventScrollReset:C.preventScrollReset,formData:D,body:M,formMethod:C.method||I,formEncType:C.encType||w,replace:C.replace,state:C.state,fromRouteId:h,flushSync:C.flushSync,viewTransition:C.viewTransition})},[p,b,d,h])}function lm(u,{relative:d}={}){let{basename:h}=H.useContext(bi),p=H.useContext(lr);$t(p,"useFormAction must be used inside a RouteContext");let[b]=p.matches.slice(-1),E={...Hs(u||".",{relative:d})},C=ma();if(u==null){E.search=C.search;let N=new URLSearchParams(E.search),I=N.getAll("index");if(I.some(D=>D==="")){N.delete("index"),I.filter(M=>M).forEach(M=>N.append("index",M));let D=N.toString();E.search=D?`?${D}`:""}}return(!u||u===".")&&b.route.index&&(E.search=E.search?E.search.replace(/^\?/,"?index&"):"?index"),h!=="/"&&(E.pathname=E.pathname==="/"?h:Dr([h,E.pathname])),Fs(E)}function sm(u,{relative:d}={}){let h=H.useContext(g2);$t(h!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:p}=v2("useViewTransitionState"),b=Hs(u,{relative:d});if(!h.isTransitioning)return!1;let E=Mr(h.currentLocation.pathname,p)||h.currentLocation.pathname,C=Mr(h.nextLocation.pathname,p)||h.nextLocation.pathname;return Ec(b.pathname,C)!=null||Ec(b.pathname,E)!=null}function T2(u,d){return function(){return u.apply(d,arguments)}}const{toString:om}=Object.prototype,{getPrototypeOf:i0}=Object,{iterator:Rc,toStringTag:R2}=Symbol,Nc=(u=>d=>{const h=om.call(d);return u[h]||(u[h]=h.slice(8,-1).toLowerCase())})(Object.create(null)),Yi=u=>(u=u.toLowerCase(),d=>Nc(d)===u),Oc=u=>d=>typeof d===u,{isArray:jl}=Array,kl=Oc("undefined");function Ps(u){return u!==null&&!kl(u)&&u.constructor!==null&&!kl(u.constructor)&&ai(u.constructor.isBuffer)&&u.constructor.isBuffer(u)}const N2=Yi("ArrayBuffer");function cm(u){let d;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?d=ArrayBuffer.isView(u):d=u&&u.buffer&&N2(u.buffer),d}const um=Oc("string"),ai=Oc("function"),O2=Oc("number"),Gs=u=>u!==null&&typeof u=="object",fm=u=>u===!0||u===!1,pc=u=>{if(Nc(u)!=="object")return!1;const d=i0(u);return(d===null||d===Object.prototype||Object.getPrototypeOf(d)===null)&&!(R2 in u)&&!(Rc in u)},dm=u=>{if(!Gs(u)||Ps(u))return!1;try{return Object.keys(u).length===0&&Object.getPrototypeOf(u)===Object.prototype}catch{return!1}},hm=Yi("Date"),gm=Yi("File"),xm=Yi("Blob"),pm=Yi("FileList"),mm=u=>Gs(u)&&ai(u.pipe),ym=u=>{let d;return u&&(typeof FormData=="function"&&u instanceof FormData||ai(u.append)&&((d=Nc(u))==="formdata"||d==="object"&&ai(u.toString)&&u.toString()==="[object FormData]"))},Em=Yi("URLSearchParams"),[bm,wm,Am,Sm]=["ReadableStream","Request","Response","Headers"].map(Yi),Cm=u=>u.trim?u.trim():u.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Vs(u,d,{allOwnKeys:h=!1}={}){if(u===null||typeof u>"u")return;let p,b;if(typeof u!="object"&&(u=[u]),jl(u))for(p=0,b=u.length;p<b;p++)d.call(null,u[p],p,u);else{if(Ps(u))return;const E=h?Object.getOwnPropertyNames(u):Object.keys(u),C=E.length;let N;for(p=0;p<C;p++)N=E[p],d.call(null,u[N],N,u)}}function _2(u,d){if(Ps(u))return null;d=d.toLowerCase();const h=Object.keys(u);let p=h.length,b;for(;p-- >0;)if(b=h[p],d===b.toLowerCase())return b;return null}const Ya=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,I2=u=>!kl(u)&&u!==Ya;function Gf(){const{caseless:u,skipUndefined:d}=I2(this)&&this||{},h={},p=(b,E)=>{const C=u&&_2(h,E)||E;pc(h[C])&&pc(b)?h[C]=Gf(h[C],b):pc(b)?h[C]=Gf({},b):jl(b)?h[C]=b.slice():(!d||!kl(b))&&(h[C]=b)};for(let b=0,E=arguments.length;b<E;b++)arguments[b]&&Vs(arguments[b],p);return h}const vm=(u,d,h,{allOwnKeys:p}={})=>(Vs(d,(b,E)=>{h&&ai(b)?Object.defineProperty(u,E,{value:T2(b,h),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(u,E,{value:b,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:p}),u),Tm=u=>(u.charCodeAt(0)===65279&&(u=u.slice(1)),u),Rm=(u,d,h,p)=>{u.prototype=Object.create(d.prototype,p),Object.defineProperty(u.prototype,"constructor",{value:u,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(u,"super",{value:d.prototype}),h&&Object.assign(u.prototype,h)},Nm=(u,d,h,p)=>{let b,E,C;const N={};if(d=d||{},u==null)return d;do{for(b=Object.getOwnPropertyNames(u),E=b.length;E-- >0;)C=b[E],(!p||p(C,u,d))&&!N[C]&&(d[C]=u[C],N[C]=!0);u=h!==!1&&i0(u)}while(u&&(!h||h(u,d))&&u!==Object.prototype);return d},Om=(u,d,h)=>{u=String(u),(h===void 0||h>u.length)&&(h=u.length),h-=d.length;const p=u.indexOf(d,h);return p!==-1&&p===h},_m=u=>{if(!u)return null;if(jl(u))return u;let d=u.length;if(!O2(d))return null;const h=new Array(d);for(;d-- >0;)h[d]=u[d];return h},Im=(u=>d=>u&&d instanceof u)(typeof Uint8Array<"u"&&i0(Uint8Array)),Dm=(u,d)=>{const p=(u&&u[Rc]).call(u);let b;for(;(b=p.next())&&!b.done;){const E=b.value;d.call(u,E[0],E[1])}},Mm=(u,d)=>{let h;const p=[];for(;(h=u.exec(d))!==null;)p.push(h);return p},Bm=Yi("HTMLFormElement"),Lm=u=>u.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(h,p,b){return p.toUpperCase()+b}),Th=(({hasOwnProperty:u})=>(d,h)=>u.call(d,h))(Object.prototype),Um=Yi("RegExp"),D2=(u,d)=>{const h=Object.getOwnPropertyDescriptors(u),p={};Vs(h,(b,E)=>{let C;(C=d(b,E,u))!==!1&&(p[E]=C||b)}),Object.defineProperties(u,p)},km=u=>{D2(u,(d,h)=>{if(ai(u)&&["arguments","caller","callee"].indexOf(h)!==-1)return!1;const p=u[h];if(ai(p)){if(d.enumerable=!1,"writable"in d){d.writable=!1;return}d.set||(d.set=()=>{throw Error("Can not rewrite read-only method '"+h+"'")})}})},zm=(u,d)=>{const h={},p=b=>{b.forEach(E=>{h[E]=!0})};return jl(u)?p(u):p(String(u).split(d)),h},Fm=()=>{},jm=(u,d)=>u!=null&&Number.isFinite(u=+u)?u:d;function Hm(u){return!!(u&&ai(u.append)&&u[R2]==="FormData"&&u[Rc])}const Pm=u=>{const d=new Array(10),h=(p,b)=>{if(Gs(p)){if(d.indexOf(p)>=0)return;if(Ps(p))return p;if(!("toJSON"in p)){d[b]=p;const E=jl(p)?[]:{};return Vs(p,(C,N)=>{const I=h(C,b+1);!kl(I)&&(E[N]=I)}),d[b]=void 0,E}}return p};return h(u,0)},Gm=Yi("AsyncFunction"),Vm=u=>u&&(Gs(u)||ai(u))&&ai(u.then)&&ai(u.catch),M2=((u,d)=>u?setImmediate:d?((h,p)=>(Ya.addEventListener("message",({source:b,data:E})=>{b===Ya&&E===h&&p.length&&p.shift()()},!1),b=>{p.push(b),Ya.postMessage(h,"*")}))(`axios@${Math.random()}`,[]):h=>setTimeout(h))(typeof setImmediate=="function",ai(Ya.postMessage)),Xm=typeof queueMicrotask<"u"?queueMicrotask.bind(Ya):typeof process<"u"&&process.nextTick||M2,Ym=u=>u!=null&&ai(u[Rc]),oe={isArray:jl,isArrayBuffer:N2,isBuffer:Ps,isFormData:ym,isArrayBufferView:cm,isString:um,isNumber:O2,isBoolean:fm,isObject:Gs,isPlainObject:pc,isEmptyObject:dm,isReadableStream:bm,isRequest:wm,isResponse:Am,isHeaders:Sm,isUndefined:kl,isDate:hm,isFile:gm,isBlob:xm,isRegExp:Um,isFunction:ai,isStream:mm,isURLSearchParams:Em,isTypedArray:Im,isFileList:pm,forEach:Vs,merge:Gf,extend:vm,trim:Cm,stripBOM:Tm,inherits:Rm,toFlatObject:Nm,kindOf:Nc,kindOfTest:Yi,endsWith:Om,toArray:_m,forEachEntry:Dm,matchAll:Mm,isHTMLForm:Bm,hasOwnProperty:Th,hasOwnProp:Th,reduceDescriptors:D2,freezeMethods:km,toObjectSet:zm,toCamelCase:Lm,noop:Fm,toFiniteNumber:jm,findKey:_2,global:Ya,isContextDefined:I2,isSpecCompliantForm:Hm,toJSONObject:Pm,isAsyncFn:Gm,isThenable:Vm,setImmediate:M2,asap:Xm,isIterable:Ym};let qe=class B2 extends Error{static from(d,h,p,b,E,C){const N=new B2(d.message,h||d.code,p,b,E);return N.cause=d,N.name=d.name,C&&Object.assign(N,C),N}constructor(d,h,p,b,E){super(d),this.name="AxiosError",this.isAxiosError=!0,h&&(this.code=h),p&&(this.config=p),b&&(this.request=b),E&&(this.response=E,this.status=E.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oe.toJSONObject(this.config),code:this.code,status:this.status}}};qe.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";qe.ERR_BAD_OPTION="ERR_BAD_OPTION";qe.ECONNABORTED="ECONNABORTED";qe.ETIMEDOUT="ETIMEDOUT";qe.ERR_NETWORK="ERR_NETWORK";qe.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";qe.ERR_DEPRECATED="ERR_DEPRECATED";qe.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";qe.ERR_BAD_REQUEST="ERR_BAD_REQUEST";qe.ERR_CANCELED="ERR_CANCELED";qe.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";qe.ERR_INVALID_URL="ERR_INVALID_URL";const Wm=null;function Vf(u){return oe.isPlainObject(u)||oe.isArray(u)}function L2(u){return oe.endsWith(u,"[]")?u.slice(0,-2):u}function Rh(u,d,h){return u?u.concat(d).map(function(b,E){return b=L2(b),!h&&E?"["+b+"]":b}).join(h?".":""):d}function qm(u){return oe.isArray(u)&&!u.some(Vf)}const Zm=oe.toFlatObject(oe,{},null,function(d){return/^is[A-Z]/.test(d)});function _c(u,d,h){if(!oe.isObject(u))throw new TypeError("target must be an object");d=d||new FormData,h=oe.toFlatObject(h,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Z,K){return!oe.isUndefined(K[Z])});const p=h.metaTokens,b=h.visitor||D,E=h.dots,C=h.indexes,I=(h.Blob||typeof Blob<"u"&&Blob)&&oe.isSpecCompliantForm(d);if(!oe.isFunction(b))throw new TypeError("visitor must be a function");function w(W){if(W===null)return"";if(oe.isDate(W))return W.toISOString();if(oe.isBoolean(W))return W.toString();if(!I&&oe.isBlob(W))throw new qe("Blob is not supported. Use a Buffer instead.");return oe.isArrayBuffer(W)||oe.isTypedArray(W)?I&&typeof Blob=="function"?new Blob([W]):Buffer.from(W):W}function D(W,Z,K){let Ee=W;if(W&&!K&&typeof W=="object"){if(oe.endsWith(Z,"{}"))Z=p?Z:Z.slice(0,-2),W=JSON.stringify(W);else if(oe.isArray(W)&&qm(W)||(oe.isFileList(W)||oe.endsWith(Z,"[]"))&&(Ee=oe.toArray(W)))return Z=L2(Z),Ee.forEach(function(ae,ce){!(oe.isUndefined(ae)||ae===null)&&d.append(C===!0?Rh([Z],ce,E):C===null?Z:Z+"[]",w(ae))}),!1}return Vf(W)?!0:(d.append(Rh(K,Z,E),w(W)),!1)}const M=[],te=Object.assign(Zm,{defaultVisitor:D,convertValue:w,isVisitable:Vf});function $(W,Z){if(!oe.isUndefined(W)){if(M.indexOf(W)!==-1)throw Error("Circular reference detected in "+Z.join("."));M.push(W),oe.forEach(W,function(Ee,de){(!(oe.isUndefined(Ee)||Ee===null)&&b.call(d,Ee,oe.isString(de)?de.trim():de,Z,te))===!0&&$(Ee,Z?Z.concat(de):[de])}),M.pop()}}if(!oe.isObject(u))throw new TypeError("data must be an object");return $(u),d}function Nh(u){const d={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(u).replace(/[!'()~]|%20|%00/g,function(p){return d[p]})}function r0(u,d){this._pairs=[],u&&_c(u,this,d)}const U2=r0.prototype;U2.append=function(d,h){this._pairs.push([d,h])};U2.toString=function(d){const h=d?function(p){return d.call(this,p,Nh)}:Nh;return this._pairs.map(function(b){return h(b[0])+"="+h(b[1])},"").join("&")};function Km(u){return encodeURIComponent(u).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function k2(u,d,h){if(!d)return u;const p=h&&h.encode||Km,b=oe.isFunction(h)?{serialize:h}:h,E=b&&b.serialize;let C;if(E?C=E(d,b):C=oe.isURLSearchParams(d)?d.toString():new r0(d,b).toString(p),C){const N=u.indexOf("#");N!==-1&&(u=u.slice(0,N)),u+=(u.indexOf("?")===-1?"?":"&")+C}return u}class Oh{constructor(){this.handlers=[]}use(d,h,p){return this.handlers.push({fulfilled:d,rejected:h,synchronous:p?p.synchronous:!1,runWhen:p?p.runWhen:null}),this.handlers.length-1}eject(d){this.handlers[d]&&(this.handlers[d]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(d){oe.forEach(this.handlers,function(p){p!==null&&d(p)})}}const z2={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qm=typeof URLSearchParams<"u"?URLSearchParams:r0,Jm=typeof FormData<"u"?FormData:null,$m=typeof Blob<"u"?Blob:null,e3={isBrowser:!0,classes:{URLSearchParams:Qm,FormData:Jm,Blob:$m},protocols:["http","https","file","blob","url","data"]},a0=typeof window<"u"&&typeof document<"u",Xf=typeof navigator=="object"&&navigator||void 0,t3=a0&&(!Xf||["ReactNative","NativeScript","NS"].indexOf(Xf.product)<0),n3=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",i3=a0&&window.location.href||"http://localhost",r3=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:a0,hasStandardBrowserEnv:t3,hasStandardBrowserWebWorkerEnv:n3,navigator:Xf,origin:i3},Symbol.toStringTag,{value:"Module"})),Hn={...r3,...e3};function a3(u,d){return _c(u,new Hn.classes.URLSearchParams,{visitor:function(h,p,b,E){return Hn.isNode&&oe.isBuffer(h)?(this.append(p,h.toString("base64")),!1):E.defaultVisitor.apply(this,arguments)},...d})}function l3(u){return oe.matchAll(/\w+|\[(\w*)]/g,u).map(d=>d[0]==="[]"?"":d[1]||d[0])}function s3(u){const d={},h=Object.keys(u);let p;const b=h.length;let E;for(p=0;p<b;p++)E=h[p],d[E]=u[E];return d}function F2(u){function d(h,p,b,E){let C=h[E++];if(C==="__proto__")return!0;const N=Number.isFinite(+C),I=E>=h.length;return C=!C&&oe.isArray(b)?b.length:C,I?(oe.hasOwnProp(b,C)?b[C]=[b[C],p]:b[C]=p,!N):((!b[C]||!oe.isObject(b[C]))&&(b[C]=[]),d(h,p,b[C],E)&&oe.isArray(b[C])&&(b[C]=s3(b[C])),!N)}if(oe.isFormData(u)&&oe.isFunction(u.entries)){const h={};return oe.forEachEntry(u,(p,b)=>{d(l3(p),b,h,0)}),h}return null}function o3(u,d,h){if(oe.isString(u))try{return(d||JSON.parse)(u),oe.trim(u)}catch(p){if(p.name!=="SyntaxError")throw p}return(h||JSON.stringify)(u)}const Xs={transitional:z2,adapter:["xhr","http","fetch"],transformRequest:[function(d,h){const p=h.getContentType()||"",b=p.indexOf("application/json")>-1,E=oe.isObject(d);if(E&&oe.isHTMLForm(d)&&(d=new FormData(d)),oe.isFormData(d))return b?JSON.stringify(F2(d)):d;if(oe.isArrayBuffer(d)||oe.isBuffer(d)||oe.isStream(d)||oe.isFile(d)||oe.isBlob(d)||oe.isReadableStream(d))return d;if(oe.isArrayBufferView(d))return d.buffer;if(oe.isURLSearchParams(d))return h.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),d.toString();let N;if(E){if(p.indexOf("application/x-www-form-urlencoded")>-1)return a3(d,this.formSerializer).toString();if((N=oe.isFileList(d))||p.indexOf("multipart/form-data")>-1){const I=this.env&&this.env.FormData;return _c(N?{"files[]":d}:d,I&&new I,this.formSerializer)}}return E||b?(h.setContentType("application/json",!1),o3(d)):d}],transformResponse:[function(d){const h=this.transitional||Xs.transitional,p=h&&h.forcedJSONParsing,b=this.responseType==="json";if(oe.isResponse(d)||oe.isReadableStream(d))return d;if(d&&oe.isString(d)&&(p&&!this.responseType||b)){const C=!(h&&h.silentJSONParsing)&&b;try{return JSON.parse(d,this.parseReviver)}catch(N){if(C)throw N.name==="SyntaxError"?qe.from(N,qe.ERR_BAD_RESPONSE,this,null,this.response):N}}return d}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Hn.classes.FormData,Blob:Hn.classes.Blob},validateStatus:function(d){return d>=200&&d<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oe.forEach(["delete","get","head","post","put","patch"],u=>{Xs.headers[u]={}});const c3=oe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),u3=u=>{const d={};let h,p,b;return u&&u.split(`
`).forEach(function(C){b=C.indexOf(":"),h=C.substring(0,b).trim().toLowerCase(),p=C.substring(b+1).trim(),!(!h||d[h]&&c3[h])&&(h==="set-cookie"?d[h]?d[h].push(p):d[h]=[p]:d[h]=d[h]?d[h]+", "+p:p)}),d},_h=Symbol("internals");function Ls(u){return u&&String(u).trim().toLowerCase()}function mc(u){return u===!1||u==null?u:oe.isArray(u)?u.map(mc):String(u)}function f3(u){const d=Object.create(null),h=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let p;for(;p=h.exec(u);)d[p[1]]=p[2];return d}const d3=u=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(u.trim());function kf(u,d,h,p,b){if(oe.isFunction(p))return p.call(this,d,h);if(b&&(d=h),!!oe.isString(d)){if(oe.isString(p))return d.indexOf(p)!==-1;if(oe.isRegExp(p))return p.test(d)}}function h3(u){return u.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(d,h,p)=>h.toUpperCase()+p)}function g3(u,d){const h=oe.toCamelCase(" "+d);["get","set","has"].forEach(p=>{Object.defineProperty(u,p+h,{value:function(b,E,C){return this[p].call(this,d,b,E,C)},configurable:!0})})}let li=class{constructor(d){d&&this.set(d)}set(d,h,p){const b=this;function E(N,I,w){const D=Ls(I);if(!D)throw new Error("header name must be a non-empty string");const M=oe.findKey(b,D);(!M||b[M]===void 0||w===!0||w===void 0&&b[M]!==!1)&&(b[M||I]=mc(N))}const C=(N,I)=>oe.forEach(N,(w,D)=>E(w,D,I));if(oe.isPlainObject(d)||d instanceof this.constructor)C(d,h);else if(oe.isString(d)&&(d=d.trim())&&!d3(d))C(u3(d),h);else if(oe.isObject(d)&&oe.isIterable(d)){let N={},I,w;for(const D of d){if(!oe.isArray(D))throw TypeError("Object iterator must return a key-value pair");N[w=D[0]]=(I=N[w])?oe.isArray(I)?[...I,D[1]]:[I,D[1]]:D[1]}C(N,h)}else d!=null&&E(h,d,p);return this}get(d,h){if(d=Ls(d),d){const p=oe.findKey(this,d);if(p){const b=this[p];if(!h)return b;if(h===!0)return f3(b);if(oe.isFunction(h))return h.call(this,b,p);if(oe.isRegExp(h))return h.exec(b);throw new TypeError("parser must be boolean|regexp|function")}}}has(d,h){if(d=Ls(d),d){const p=oe.findKey(this,d);return!!(p&&this[p]!==void 0&&(!h||kf(this,this[p],p,h)))}return!1}delete(d,h){const p=this;let b=!1;function E(C){if(C=Ls(C),C){const N=oe.findKey(p,C);N&&(!h||kf(p,p[N],N,h))&&(delete p[N],b=!0)}}return oe.isArray(d)?d.forEach(E):E(d),b}clear(d){const h=Object.keys(this);let p=h.length,b=!1;for(;p--;){const E=h[p];(!d||kf(this,this[E],E,d,!0))&&(delete this[E],b=!0)}return b}normalize(d){const h=this,p={};return oe.forEach(this,(b,E)=>{const C=oe.findKey(p,E);if(C){h[C]=mc(b),delete h[E];return}const N=d?h3(E):String(E).trim();N!==E&&delete h[E],h[N]=mc(b),p[N]=!0}),this}concat(...d){return this.constructor.concat(this,...d)}toJSON(d){const h=Object.create(null);return oe.forEach(this,(p,b)=>{p!=null&&p!==!1&&(h[b]=d&&oe.isArray(p)?p.join(", "):p)}),h}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([d,h])=>d+": "+h).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(d){return d instanceof this?d:new this(d)}static concat(d,...h){const p=new this(d);return h.forEach(b=>p.set(b)),p}static accessor(d){const p=(this[_h]=this[_h]={accessors:{}}).accessors,b=this.prototype;function E(C){const N=Ls(C);p[N]||(g3(b,C),p[N]=!0)}return oe.isArray(d)?d.forEach(E):E(d),this}};li.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);oe.reduceDescriptors(li.prototype,({value:u},d)=>{let h=d[0].toUpperCase()+d.slice(1);return{get:()=>u,set(p){this[h]=p}}});oe.freezeMethods(li);function zf(u,d){const h=this||Xs,p=d||h,b=li.from(p.headers);let E=p.data;return oe.forEach(u,function(N){E=N.call(h,E,b.normalize(),d?d.status:void 0)}),b.normalize(),E}function j2(u){return!!(u&&u.__CANCEL__)}let Ys=class extends qe{constructor(d,h,p){super(d??"canceled",qe.ERR_CANCELED,h,p),this.name="CanceledError",this.__CANCEL__=!0}};function H2(u,d,h){const p=h.config.validateStatus;!h.status||!p||p(h.status)?u(h):d(new qe("Request failed with status code "+h.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(h.status/100)-4],h.config,h.request,h))}function x3(u){const d=/^([-+\w]{1,25})(:?\/\/|:)/.exec(u);return d&&d[1]||""}function p3(u,d){u=u||10;const h=new Array(u),p=new Array(u);let b=0,E=0,C;return d=d!==void 0?d:1e3,function(I){const w=Date.now(),D=p[E];C||(C=w),h[b]=I,p[b]=w;let M=E,te=0;for(;M!==b;)te+=h[M++],M=M%u;if(b=(b+1)%u,b===E&&(E=(E+1)%u),w-C<d)return;const $=D&&w-D;return $?Math.round(te*1e3/$):void 0}}function m3(u,d){let h=0,p=1e3/d,b,E;const C=(w,D=Date.now())=>{h=D,b=null,E&&(clearTimeout(E),E=null),u(...w)};return[(...w)=>{const D=Date.now(),M=D-h;M>=p?C(w,D):(b=w,E||(E=setTimeout(()=>{E=null,C(b)},p-M)))},()=>b&&C(b)]}const bc=(u,d,h=3)=>{let p=0;const b=p3(50,250);return m3(E=>{const C=E.loaded,N=E.lengthComputable?E.total:void 0,I=C-p,w=b(I),D=C<=N;p=C;const M={loaded:C,total:N,progress:N?C/N:void 0,bytes:I,rate:w||void 0,estimated:w&&N&&D?(N-C)/w:void 0,event:E,lengthComputable:N!=null,[d?"download":"upload"]:!0};u(M)},h)},Ih=(u,d)=>{const h=u!=null;return[p=>d[0]({lengthComputable:h,total:u,loaded:p}),d[1]]},Dh=u=>(...d)=>oe.asap(()=>u(...d)),y3=Hn.hasStandardBrowserEnv?((u,d)=>h=>(h=new URL(h,Hn.origin),u.protocol===h.protocol&&u.host===h.host&&(d||u.port===h.port)))(new URL(Hn.origin),Hn.navigator&&/(msie|trident)/i.test(Hn.navigator.userAgent)):()=>!0,E3=Hn.hasStandardBrowserEnv?{write(u,d,h,p,b,E,C){if(typeof document>"u")return;const N=[`${u}=${encodeURIComponent(d)}`];oe.isNumber(h)&&N.push(`expires=${new Date(h).toUTCString()}`),oe.isString(p)&&N.push(`path=${p}`),oe.isString(b)&&N.push(`domain=${b}`),E===!0&&N.push("secure"),oe.isString(C)&&N.push(`SameSite=${C}`),document.cookie=N.join("; ")},read(u){if(typeof document>"u")return null;const d=document.cookie.match(new RegExp("(?:^|; )"+u+"=([^;]*)"));return d?decodeURIComponent(d[1]):null},remove(u){this.write(u,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function b3(u){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(u)}function w3(u,d){return d?u.replace(/\/?\/$/,"")+"/"+d.replace(/^\/+/,""):u}function P2(u,d,h){let p=!b3(d);return u&&(p||h==!1)?w3(u,d):d}const Mh=u=>u instanceof li?{...u}:u;function qa(u,d){d=d||{};const h={};function p(w,D,M,te){return oe.isPlainObject(w)&&oe.isPlainObject(D)?oe.merge.call({caseless:te},w,D):oe.isPlainObject(D)?oe.merge({},D):oe.isArray(D)?D.slice():D}function b(w,D,M,te){if(oe.isUndefined(D)){if(!oe.isUndefined(w))return p(void 0,w,M,te)}else return p(w,D,M,te)}function E(w,D){if(!oe.isUndefined(D))return p(void 0,D)}function C(w,D){if(oe.isUndefined(D)){if(!oe.isUndefined(w))return p(void 0,w)}else return p(void 0,D)}function N(w,D,M){if(M in d)return p(w,D);if(M in u)return p(void 0,w)}const I={url:E,method:E,data:E,baseURL:C,transformRequest:C,transformResponse:C,paramsSerializer:C,timeout:C,timeoutMessage:C,withCredentials:C,withXSRFToken:C,adapter:C,responseType:C,xsrfCookieName:C,xsrfHeaderName:C,onUploadProgress:C,onDownloadProgress:C,decompress:C,maxContentLength:C,maxBodyLength:C,beforeRedirect:C,transport:C,httpAgent:C,httpsAgent:C,cancelToken:C,socketPath:C,responseEncoding:C,validateStatus:N,headers:(w,D,M)=>b(Mh(w),Mh(D),M,!0)};return oe.forEach(Object.keys({...u,...d}),function(D){const M=I[D]||b,te=M(u[D],d[D],D);oe.isUndefined(te)&&M!==N||(h[D]=te)}),h}const G2=u=>{const d=qa({},u);let{data:h,withXSRFToken:p,xsrfHeaderName:b,xsrfCookieName:E,headers:C,auth:N}=d;if(d.headers=C=li.from(C),d.url=k2(P2(d.baseURL,d.url,d.allowAbsoluteUrls),u.params,u.paramsSerializer),N&&C.set("Authorization","Basic "+btoa((N.username||"")+":"+(N.password?unescape(encodeURIComponent(N.password)):""))),oe.isFormData(h)){if(Hn.hasStandardBrowserEnv||Hn.hasStandardBrowserWebWorkerEnv)C.setContentType(void 0);else if(oe.isFunction(h.getHeaders)){const I=h.getHeaders(),w=["content-type","content-length"];Object.entries(I).forEach(([D,M])=>{w.includes(D.toLowerCase())&&C.set(D,M)})}}if(Hn.hasStandardBrowserEnv&&(p&&oe.isFunction(p)&&(p=p(d)),p||p!==!1&&y3(d.url))){const I=b&&E&&E3.read(E);I&&C.set(b,I)}return d},A3=typeof XMLHttpRequest<"u",S3=A3&&function(u){return new Promise(function(h,p){const b=G2(u);let E=b.data;const C=li.from(b.headers).normalize();let{responseType:N,onUploadProgress:I,onDownloadProgress:w}=b,D,M,te,$,W;function Z(){$&&$(),W&&W(),b.cancelToken&&b.cancelToken.unsubscribe(D),b.signal&&b.signal.removeEventListener("abort",D)}let K=new XMLHttpRequest;K.open(b.method.toUpperCase(),b.url,!0),K.timeout=b.timeout;function Ee(){if(!K)return;const ae=li.from("getAllResponseHeaders"in K&&K.getAllResponseHeaders()),Fe={data:!N||N==="text"||N==="json"?K.responseText:K.response,status:K.status,statusText:K.statusText,headers:ae,config:u,request:K};H2(function(P){h(P),Z()},function(P){p(P),Z()},Fe),K=null}"onloadend"in K?K.onloadend=Ee:K.onreadystatechange=function(){!K||K.readyState!==4||K.status===0&&!(K.responseURL&&K.responseURL.indexOf("file:")===0)||setTimeout(Ee)},K.onabort=function(){K&&(p(new qe("Request aborted",qe.ECONNABORTED,u,K)),K=null)},K.onerror=function(ce){const Fe=ce&&ce.message?ce.message:"Network Error",Me=new qe(Fe,qe.ERR_NETWORK,u,K);Me.event=ce||null,p(Me),K=null},K.ontimeout=function(){let ce=b.timeout?"timeout of "+b.timeout+"ms exceeded":"timeout exceeded";const Fe=b.transitional||z2;b.timeoutErrorMessage&&(ce=b.timeoutErrorMessage),p(new qe(ce,Fe.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,u,K)),K=null},E===void 0&&C.setContentType(null),"setRequestHeader"in K&&oe.forEach(C.toJSON(),function(ce,Fe){K.setRequestHeader(Fe,ce)}),oe.isUndefined(b.withCredentials)||(K.withCredentials=!!b.withCredentials),N&&N!=="json"&&(K.responseType=b.responseType),w&&([te,W]=bc(w,!0),K.addEventListener("progress",te)),I&&K.upload&&([M,$]=bc(I),K.upload.addEventListener("progress",M),K.upload.addEventListener("loadend",$)),(b.cancelToken||b.signal)&&(D=ae=>{K&&(p(!ae||ae.type?new Ys(null,u,K):ae),K.abort(),K=null)},b.cancelToken&&b.cancelToken.subscribe(D),b.signal&&(b.signal.aborted?D():b.signal.addEventListener("abort",D)));const de=x3(b.url);if(de&&Hn.protocols.indexOf(de)===-1){p(new qe("Unsupported protocol "+de+":",qe.ERR_BAD_REQUEST,u));return}K.send(E||null)})},C3=(u,d)=>{const{length:h}=u=u?u.filter(Boolean):[];if(d||h){let p=new AbortController,b;const E=function(w){if(!b){b=!0,N();const D=w instanceof Error?w:this.reason;p.abort(D instanceof qe?D:new Ys(D instanceof Error?D.message:D))}};let C=d&&setTimeout(()=>{C=null,E(new qe(`timeout of ${d}ms exceeded`,qe.ETIMEDOUT))},d);const N=()=>{u&&(C&&clearTimeout(C),C=null,u.forEach(w=>{w.unsubscribe?w.unsubscribe(E):w.removeEventListener("abort",E)}),u=null)};u.forEach(w=>w.addEventListener("abort",E));const{signal:I}=p;return I.unsubscribe=()=>oe.asap(N),I}},v3=function*(u,d){let h=u.byteLength;if(h<d){yield u;return}let p=0,b;for(;p<h;)b=p+d,yield u.slice(p,b),p=b},T3=async function*(u,d){for await(const h of R3(u))yield*v3(h,d)},R3=async function*(u){if(u[Symbol.asyncIterator]){yield*u;return}const d=u.getReader();try{for(;;){const{done:h,value:p}=await d.read();if(h)break;yield p}}finally{await d.cancel()}},Bh=(u,d,h,p)=>{const b=T3(u,d);let E=0,C,N=I=>{C||(C=!0,p&&p(I))};return new ReadableStream({async pull(I){try{const{done:w,value:D}=await b.next();if(w){N(),I.close();return}let M=D.byteLength;if(h){let te=E+=M;h(te)}I.enqueue(new Uint8Array(D))}catch(w){throw N(w),w}},cancel(I){return N(I),b.return()}},{highWaterMark:2})},Lh=64*1024,{isFunction:hc}=oe,N3=(({Request:u,Response:d})=>({Request:u,Response:d}))(oe.global),{ReadableStream:Uh,TextEncoder:kh}=oe.global,zh=(u,...d)=>{try{return!!u(...d)}catch{return!1}},O3=u=>{u=oe.merge.call({skipUndefined:!0},N3,u);const{fetch:d,Request:h,Response:p}=u,b=d?hc(d):typeof fetch=="function",E=hc(h),C=hc(p);if(!b)return!1;const N=b&&hc(Uh),I=b&&(typeof kh=="function"?(W=>Z=>W.encode(Z))(new kh):async W=>new Uint8Array(await new h(W).arrayBuffer())),w=E&&N&&zh(()=>{let W=!1;const Z=new h(Hn.origin,{body:new Uh,method:"POST",get duplex(){return W=!0,"half"}}).headers.has("Content-Type");return W&&!Z}),D=C&&N&&zh(()=>oe.isReadableStream(new p("").body)),M={stream:D&&(W=>W.body)};b&&["text","arrayBuffer","blob","formData","stream"].forEach(W=>{!M[W]&&(M[W]=(Z,K)=>{let Ee=Z&&Z[W];if(Ee)return Ee.call(Z);throw new qe(`Response type '${W}' is not supported`,qe.ERR_NOT_SUPPORT,K)})});const te=async W=>{if(W==null)return 0;if(oe.isBlob(W))return W.size;if(oe.isSpecCompliantForm(W))return(await new h(Hn.origin,{method:"POST",body:W}).arrayBuffer()).byteLength;if(oe.isArrayBufferView(W)||oe.isArrayBuffer(W))return W.byteLength;if(oe.isURLSearchParams(W)&&(W=W+""),oe.isString(W))return(await I(W)).byteLength},$=async(W,Z)=>{const K=oe.toFiniteNumber(W.getContentLength());return K??te(Z)};return async W=>{let{url:Z,method:K,data:Ee,signal:de,cancelToken:ae,timeout:ce,onDownloadProgress:Fe,onUploadProgress:Me,responseType:P,headers:Re,withCredentials:X="same-origin",fetchOptions:Oe}=G2(W),Ge=d||fetch;P=P?(P+"").toLowerCase():"text";let Ce=C3([de,ae&&ae.toAbortSignal()],ce),je=null;const Je=Ce&&Ce.unsubscribe&&(()=>{Ce.unsubscribe()});let re;try{if(Me&&w&&K!=="get"&&K!=="head"&&(re=await $(Re,Ee))!==0){let z=new h(Z,{method:"POST",body:Ee,duplex:"half"}),le;if(oe.isFormData(Ee)&&(le=z.headers.get("content-type"))&&Re.setContentType(le),z.body){const[ve,me]=Ih(re,bc(Dh(Me)));Ee=Bh(z.body,Lh,ve,me)}}oe.isString(X)||(X=X?"include":"omit");const J=E&&"credentials"in h.prototype,fe={...Oe,signal:Ce,method:K.toUpperCase(),headers:Re.normalize().toJSON(),body:Ee,duplex:"half",credentials:J?X:void 0};je=E&&new h(Z,fe);let Be=await(E?Ge(je,Oe):Ge(Z,fe));const et=D&&(P==="stream"||P==="response");if(D&&(Fe||et&&Je)){const z={};["status","statusText","headers"].forEach(Ye=>{z[Ye]=Be[Ye]});const le=oe.toFiniteNumber(Be.headers.get("content-length")),[ve,me]=Fe&&Ih(le,bc(Dh(Fe),!0))||[];Be=new p(Bh(Be.body,Lh,ve,()=>{me&&me(),Je&&Je()}),z)}P=P||"text";let ot=await M[oe.findKey(M,P)||"text"](Be,W);return!et&&Je&&Je(),await new Promise((z,le)=>{H2(z,le,{data:ot,headers:li.from(Be.headers),status:Be.status,statusText:Be.statusText,config:W,request:je})})}catch(J){throw Je&&Je(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,W,je),{cause:J.cause||J}):qe.from(J,J&&J.code,W,je)}}},_3=new Map,V2=u=>{let d=u&&u.env||{};const{fetch:h,Request:p,Response:b}=d,E=[p,b,h];let C=E.length,N=C,I,w,D=_3;for(;N--;)I=E[N],w=D.get(I),w===void 0&&D.set(I,w=N?new Map:O3(d)),D=w;return w};V2();const l0={http:Wm,xhr:S3,fetch:{get:V2}};oe.forEach(l0,(u,d)=>{if(u){try{Object.defineProperty(u,"name",{value:d})}catch{}Object.defineProperty(u,"adapterName",{value:d})}});const Fh=u=>`- ${u}`,I3=u=>oe.isFunction(u)||u===null||u===!1;function D3(u,d){u=oe.isArray(u)?u:[u];const{length:h}=u;let p,b;const E={};for(let C=0;C<h;C++){p=u[C];let N;if(b=p,!I3(p)&&(b=l0[(N=String(p)).toLowerCase()],b===void 0))throw new qe(`Unknown adapter '${N}'`);if(b&&(oe.isFunction(b)||(b=b.get(d))))break;E[N||"#"+C]=b}if(!b){const C=Object.entries(E).map(([I,w])=>`adapter ${I} `+(w===!1?"is not supported by the environment":"is not available in the build"));let N=h?C.length>1?`since :
`+C.map(Fh).join(`
`):" "+Fh(C[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+N,"ERR_NOT_SUPPORT")}return b}const X2={getAdapter:D3,adapters:l0};function Ff(u){if(u.cancelToken&&u.cancelToken.throwIfRequested(),u.signal&&u.signal.aborted)throw new Ys(null,u)}function jh(u){return Ff(u),u.headers=li.from(u.headers),u.data=zf.call(u,u.transformRequest),["post","put","patch"].indexOf(u.method)!==-1&&u.headers.setContentType("application/x-www-form-urlencoded",!1),X2.getAdapter(u.adapter||Xs.adapter,u)(u).then(function(p){return Ff(u),p.data=zf.call(u,u.transformResponse,p),p.headers=li.from(p.headers),p},function(p){return j2(p)||(Ff(u),p&&p.response&&(p.response.data=zf.call(u,u.transformResponse,p.response),p.response.headers=li.from(p.response.headers))),Promise.reject(p)})}const Y2="1.13.3",Ic={};["object","boolean","number","function","string","symbol"].forEach((u,d)=>{Ic[u]=function(p){return typeof p===u||"a"+(d<1?"n ":" ")+u}});const Hh={};Ic.transitional=function(d,h,p){function b(E,C){return"[Axios v"+Y2+"] Transitional option '"+E+"'"+C+(p?". "+p:"")}return(E,C,N)=>{if(d===!1)throw new qe(b(C," has been removed"+(h?" in "+h:"")),qe.ERR_DEPRECATED);return h&&!Hh[C]&&(Hh[C]=!0,console.warn(b(C," has been deprecated since v"+h+" and will be removed in the near future"))),d?d(E,C,N):!0}};Ic.spelling=function(d){return(h,p)=>(console.warn(`${p} is likely a misspelling of ${d}`),!0)};function M3(u,d,h){if(typeof u!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const p=Object.keys(u);let b=p.length;for(;b-- >0;){const E=p[b],C=d[E];if(C){const N=u[E],I=N===void 0||C(N,E,u);if(I!==!0)throw new qe("option "+E+" must be "+I,qe.ERR_BAD_OPTION_VALUE);continue}if(h!==!0)throw new qe("Unknown option "+E,qe.ERR_BAD_OPTION)}}const yc={assertOptions:M3,validators:Ic},ar=yc.validators;let Wa=class{constructor(d){this.defaults=d||{},this.interceptors={request:new Oh,response:new Oh}}async request(d,h){try{return await this._request(d,h)}catch(p){if(p instanceof Error){let b={};Error.captureStackTrace?Error.captureStackTrace(b):b=new Error;const E=b.stack?b.stack.replace(/^.+\n/,""):"";try{p.stack?E&&!String(p.stack).endsWith(E.replace(/^.+\n.+\n/,""))&&(p.stack+=`
`+E):p.stack=E}catch{}}throw p}}_request(d,h){typeof d=="string"?(h=h||{},h.url=d):h=d||{},h=qa(this.defaults,h);const{transitional:p,paramsSerializer:b,headers:E}=h;p!==void 0&&yc.assertOptions(p,{silentJSONParsing:ar.transitional(ar.boolean),forcedJSONParsing:ar.transitional(ar.boolean),clarifyTimeoutError:ar.transitional(ar.boolean)},!1),b!=null&&(oe.isFunction(b)?h.paramsSerializer={serialize:b}:yc.assertOptions(b,{encode:ar.function,serialize:ar.function},!0)),h.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?h.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:h.allowAbsoluteUrls=!0),yc.assertOptions(h,{baseUrl:ar.spelling("baseURL"),withXsrfToken:ar.spelling("withXSRFToken")},!0),h.method=(h.method||this.defaults.method||"get").toLowerCase();let C=E&&oe.merge(E.common,E[h.method]);E&&oe.forEach(["delete","get","head","post","put","patch","common"],W=>{delete E[W]}),h.headers=li.concat(C,E);const N=[];let I=!0;this.interceptors.request.forEach(function(Z){typeof Z.runWhen=="function"&&Z.runWhen(h)===!1||(I=I&&Z.synchronous,N.unshift(Z.fulfilled,Z.rejected))});const w=[];this.interceptors.response.forEach(function(Z){w.push(Z.fulfilled,Z.rejected)});let D,M=0,te;if(!I){const W=[jh.bind(this),void 0];W.unshift(...N),W.push(...w),te=W.length,D=Promise.resolve(h);let Z=h;for(;M<te;)D=D.then(W[M++]).then(K=>{Z=K!==void 0?K:Z}).catch(W[M++]).then(()=>Z);return D}te=N.length;let $=h;for(;M<te;){const W=N[M++],Z=N[M++];try{$=W($)}catch(K){Z.call(this,K);break}}try{D=jh.call(this,$)}catch(W){return Promise.reject(W)}for(M=0,te=w.length;M<te;)D=D.then(w[M++]).catch(w[M++]);return D}getUri(d){d=qa(this.defaults,d);const h=P2(d.baseURL,d.url,d.allowAbsoluteUrls);return k2(h,d.params,d.paramsSerializer)}};oe.forEach(["delete","get","head","options"],function(d){Wa.prototype[d]=function(h,p){return this.request(qa(p||{},{method:d,url:h,data:(p||{}).data}))}});oe.forEach(["post","put","patch"],function(d){function h(p){return function(E,C,N){return this.request(qa(N||{},{method:d,headers:p?{"Content-Type":"multipart/form-data"}:{},url:E,data:C}))}}Wa.prototype[d]=h(),Wa.prototype[d+"Form"]=h(!0)});let B3=class W2{constructor(d){if(typeof d!="function")throw new TypeError("executor must be a function.");let h;this.promise=new Promise(function(E){h=E});const p=this;this.promise.then(b=>{if(!p._listeners)return;let E=p._listeners.length;for(;E-- >0;)p._listeners[E](b);p._listeners=null}),this.promise.then=b=>{let E;const C=new Promise(N=>{p.subscribe(N),E=N}).then(b);return C.cancel=function(){p.unsubscribe(E)},C},d(function(E,C,N){p.reason||(p.reason=new Ys(E,C,N),h(p.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(d){if(this.reason){d(this.reason);return}this._listeners?this._listeners.push(d):this._listeners=[d]}unsubscribe(d){if(!this._listeners)return;const h=this._listeners.indexOf(d);h!==-1&&this._listeners.splice(h,1)}toAbortSignal(){const d=new AbortController,h=p=>{d.abort(p)};return this.subscribe(h),d.signal.unsubscribe=()=>this.unsubscribe(h),d.signal}static source(){let d;return{token:new W2(function(b){d=b}),cancel:d}}};function L3(u){return function(h){return u.apply(null,h)}}function U3(u){return oe.isObject(u)&&u.isAxiosError===!0}const Yf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Yf).forEach(([u,d])=>{Yf[d]=u});function q2(u){const d=new Wa(u),h=T2(Wa.prototype.request,d);return oe.extend(h,Wa.prototype,d,{allOwnKeys:!0}),oe.extend(h,d,null,{allOwnKeys:!0}),h.create=function(b){return q2(qa(u,b))},h}const nn=q2(Xs);nn.Axios=Wa;nn.CanceledError=Ys;nn.CancelToken=B3;nn.isCancel=j2;nn.VERSION=Y2;nn.toFormData=_c;nn.AxiosError=qe;nn.Cancel=nn.CanceledError;nn.all=function(d){return Promise.all(d)};nn.spread=L3;nn.isAxiosError=U3;nn.mergeConfig=qa;nn.AxiosHeaders=li;nn.formToJSON=u=>F2(oe.isHTMLForm(u)?new FormData(u):u);nn.getAdapter=X2.getAdapter;nn.HttpStatusCode=Yf;nn.default=nn;const{Axios:Qy,AxiosError:Jy,CanceledError:$y,isCancel:eE,CancelToken:tE,VERSION:nE,all:iE,Cancel:rE,isAxiosError:aE,spread:lE,toFormData:sE,AxiosHeaders:oE,HttpStatusCode:cE,formToJSON:uE,getAdapter:fE,mergeConfig:dE}=nn,Z2=H.createContext(),Ph="stock-system.local",k3={primary:"#0f172a",secondary:"#1e293b",accent:"#6366f1",text:"#f8fafc",textMuted:"#94a3b8",success:"#10b981",error:"#ef4444",warning:"#f59e0b",border:"#334155"},z3=({children:u})=>{const[d,h]=H.useState(localStorage.getItem("SL_SERVER_IP")||Ph),[p,b]=H.useState(!!localStorage.getItem("SL_USER_TOKEN")),[E,C]=H.useState(()=>{try{const P=localStorage.getItem("SL_USER");return P?JSON.parse(P):null}catch(P){return console.error("Failed to parse user from local storage",P),null}}),[N,I]=H.useState(localStorage.getItem("SL_SCANNER_ID")||null),[w,D]=H.useState(null);H.useEffect(()=>{window.deferredPrompt&&(console.log(" Found existing deferredPrompt"),D(window.deferredPrompt));const P=Re=>{Re.preventDefault(),console.log(" Captured beforeinstallprompt event"),D(Re),window.deferredPrompt=Re};return window.addEventListener("beforeinstallprompt",P),()=>window.removeEventListener("beforeinstallprompt",P)},[]);const M=async()=>{if(!w){console.warn(" No deferredPrompt found");return}w.prompt();const{outcome:P}=await w.userChoice;console.log(`User choice: ${P}`),D(null),window.deferredPrompt=null},[te,$]=H.useState([]),[W,Z]=H.useState(!1),K=nn.create({httpsAgent:{rejectUnauthorized:!1}});H.useEffect(()=>{K.defaults.baseURL=`https://${d}:5000`,N?K.defaults.headers.common["x-scanner-id"]=N:delete K.defaults.headers.common["x-scanner-id"]},[d,N]);const Ee=P=>{h(P),localStorage.setItem("SL_SERVER_IP",P)},de=async(P,Re)=>{try{const X=await K.post("/api/auth/login",{username:P,password:Re});return localStorage.setItem("SL_USER_TOKEN",X.data.token),localStorage.setItem("SL_USER",JSON.stringify(X.data.user)),C(X.data.user),b(!0),X.data}catch(X){throw new Error(X.response?.data?.error||"Login failed")}},ae=()=>{localStorage.removeItem("SL_USER_TOKEN"),localStorage.removeItem("SL_USER"),C(null),b(!1)},ce=async(P,Re,X)=>{console.log(" pairScanner called - Token:",P,"URL:",Re,"Name:",X);let Oe=Re.replace(/https?:\/\//,"").split(":")[0];console.log(" Extracted IP:",Oe);try{const Ge=nn.create({baseURL:`https://${Oe}:5000`,httpsAgent:{rejectUnauthorized:!1}});console.log(" Authenticating with Token...");const Ce=await Ge.post("/api/auth/pair",{token:P,name:X||`Mobile - ${new Date().toLocaleTimeString()}`});if(!Ce.data.success||!Ce.data.scannerId)throw new Error("Pairing response invalid");const je=Ce.data.scannerId;console.log(" Pairing Successful! Assigned ID:",je),localStorage.setItem("SL_SCANNER_ID",je),localStorage.setItem("SL_SERVER_IP",Oe),I(je),h(Oe),console.log(" Pairing complete - State updated")}catch(Ge){throw console.error(" Pairing Error:",Ge),new Error(Ge.response?.data?.error||Ge.message||"Pairing Failed")}},Fe=()=>{localStorage.removeItem("SL_SCANNER_ID"),localStorage.removeItem("SL_SERVER_IP"),I(null),h(Ph),ae()};H.useEffect(()=>{const P=()=>{console.log(" localStorage change detected");const Re=localStorage.getItem("SL_SCANNER_ID"),X=localStorage.getItem("SL_SERVER_IP");Re!==N&&(console.log(" Updating scannerId from storage:",Re),I(Re)),X&&X!==d&&(console.log(" Updating serverIp from storage:",X),h(X))};return window.addEventListener("storage",P),()=>window.removeEventListener("storage",P)},[N,d]),H.useEffect(()=>{const P=async()=>{if(N)try{(await nn.create({httpsAgent:{rejectUnauthorized:!1}}).get(`https://${d}:5000/api/auth/check-scanner/${N}`)).data.valid||(console.warn("Scanner no longer paired with backend"),localStorage.removeItem("SL_SCANNER_ID"),localStorage.removeItem("SL_USER_TOKEN"),localStorage.removeItem("SL_USER"),I(null),C(null),b(!1))}catch(Re){console.error("Failed to verify scanner:",Re),localStorage.removeItem("SL_SCANNER_ID"),I(null)}};P(),P()},[N,d]),H.useEffect(()=>{if(!p||!N)return;const P=async()=>{try{await K.get("/api/mobile/ping")}catch(X){console.warn("Heartbeat failed",X.message)}};P();const Re=setInterval(P,3e4);return()=>clearInterval(Re)},[p,N,K]);const Me=async()=>{Z(!0);try{const P=await K.get("/api/mobile/missing-scans");$(P.data||[])}catch(P){console.error("Failed to fetch missing scans:",P),$([])}finally{Z(!1)}};return H.useEffect(()=>{if(p){Me();const P=setInterval(Me,1e4);return()=>clearInterval(P)}},[d,p]),R.jsx(Z2.Provider,{value:{serverIp:d,setServerIp:Ee,api:K,isLoggedIn:p,user:E,scannerId:N,missing:te,loadingMissing:W,loginUser:de,logout:ae,pairScanner:ce,unpair:Fe,fetchMissing:Me,deferredPrompt:w,installApp:M,THEME:k3},children:u})},Hl=()=>H.useContext(Z2);var _e;(function(u){u[u.QR_CODE=0]="QR_CODE",u[u.AZTEC=1]="AZTEC",u[u.CODABAR=2]="CODABAR",u[u.CODE_39=3]="CODE_39",u[u.CODE_93=4]="CODE_93",u[u.CODE_128=5]="CODE_128",u[u.DATA_MATRIX=6]="DATA_MATRIX",u[u.MAXICODE=7]="MAXICODE",u[u.ITF=8]="ITF",u[u.EAN_13=9]="EAN_13",u[u.EAN_8=10]="EAN_8",u[u.PDF_417=11]="PDF_417",u[u.RSS_14=12]="RSS_14",u[u.RSS_EXPANDED=13]="RSS_EXPANDED",u[u.UPC_A=14]="UPC_A",u[u.UPC_E=15]="UPC_E",u[u.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(_e||(_e={}));var Gh=new Map([[_e.QR_CODE,"QR_CODE"],[_e.AZTEC,"AZTEC"],[_e.CODABAR,"CODABAR"],[_e.CODE_39,"CODE_39"],[_e.CODE_93,"CODE_93"],[_e.CODE_128,"CODE_128"],[_e.DATA_MATRIX,"DATA_MATRIX"],[_e.MAXICODE,"MAXICODE"],[_e.ITF,"ITF"],[_e.EAN_13,"EAN_13"],[_e.EAN_8,"EAN_8"],[_e.PDF_417,"PDF_417"],[_e.RSS_14,"RSS_14"],[_e.RSS_EXPANDED,"RSS_EXPANDED"],[_e.UPC_A,"UPC_A"],[_e.UPC_E,"UPC_E"],[_e.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),Vh;(function(u){u[u.UNKNOWN=0]="UNKNOWN",u[u.URL=1]="URL"})(Vh||(Vh={}));function F3(u){return Object.values(_e).includes(u)}var wc;(function(u){u[u.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",u[u.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(wc||(wc={}));var j3=(function(){function u(){}return u.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",u.SCAN_DEFAULT_FPS=2,u.DEFAULT_DISABLE_FLIP=!1,u.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,u.DEFAULT_SUPPORTED_SCAN_TYPE=[wc.SCAN_TYPE_CAMERA,wc.SCAN_TYPE_FILE],u})(),K2=(function(){function u(d,h){this.format=d,this.formatName=h}return u.prototype.toString=function(){return this.formatName},u.create=function(d){if(!Gh.has(d))throw"".concat(d," not in html5QrcodeSupportedFormatsTextMap");return new u(d,Gh.get(d))},u})(),Xh=(function(){function u(){}return u.createFromText=function(d){var h={text:d};return{decodedText:d,result:h}},u.createFromQrcodeResult=function(d){return{decodedText:d.text,result:d}},u})(),Wf;(function(u){u[u.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",u[u.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",u[u.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Wf||(Wf={}));var H3=(function(){function u(){}return u.createFrom=function(d){return{errorMessage:d,type:Wf.UNKWOWN_ERROR}},u})(),P3=(function(){function u(d){this.verbose=d}return u.prototype.log=function(d){this.verbose&&console.log(d)},u.prototype.warn=function(d){this.verbose&&console.warn(d)},u.prototype.logError=function(d,h){(this.verbose||h===!0)&&console.error(d)},u.prototype.logErrors=function(d){if(d.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(d)},u})();function Ir(u){return typeof u>"u"||u===null}var Ul=(function(){function u(){}return u.codeParseError=function(d){return"QR code parse error, error = ".concat(d)},u.errorGettingUserMedia=function(d){return"Error getting userMedia, error = ".concat(d)},u.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},u.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},u.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},u.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},u.scannerPaused=function(){return"Scanner paused"},u})(),Q2=(function(){function u(){}return u.isMediaStreamConstraintsValid=function(d,h){if(typeof d!="object"){var p=typeof d;return h.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(p,"."),!0),!1}for(var b=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],E=new Set(b),C=Object.keys(d),N=0,I=C;N<I.length;N++){var w=I[N];if(E.has(w))return h.logError("".concat(w," is not supported videoConstaints."),!0),!1}return!0},u})(),zs={exports:{}},G3=zs.exports,Yh;function V3(){return Yh||(Yh=1,(function(u,d){(function(h,p){p(d)})(G3,(function(h){function p(v){return v==null}var b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,t){v.__proto__=t}||function(v,t){for(var i in t)t.hasOwnProperty(i)&&(v[i]=t[i])};function E(v,t){b(v,t);function i(){this.constructor=v}v.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}function C(v,t){var i=Object.setPrototypeOf;i?i(v,t):v.__proto__=t}function N(v,t){t===void 0&&(t=v.constructor);var i=Error.captureStackTrace;i&&i(v,t)}var I=(function(v){E(t,v);function t(i){var r=this.constructor,l=v.call(this,i)||this;return Object.defineProperty(l,"name",{value:r.name,enumerable:!1}),C(l,r.prototype),N(l),l}return t})(Error);class w extends I{constructor(t=void 0){super(t),this.message=t}getKind(){return this.constructor.kind}}w.kind="Exception";class D extends w{}D.kind="ArgumentException";class M extends w{}M.kind="IllegalArgumentException";class te{constructor(t){if(this.binarizer=t,t===null)throw new M("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(t,i){return this.binarizer.getBlackRow(t,i)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(t,i,r,l){const s=this.binarizer.getLuminanceSource().crop(t,i,r,l);return new te(this.binarizer.createBinarizer(s))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new te(this.binarizer.createBinarizer(t))}rotateCounterClockwise45(){const t=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new te(this.binarizer.createBinarizer(t))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class $ extends w{static getChecksumInstance(){return new $}}$.kind="ChecksumException";class W{constructor(t){this.source=t}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class Z{static arraycopy(t,i,r,l,s){for(;s--;)r[l++]=t[i++]}static currentTimeMillis(){return Date.now()}}class K extends w{}K.kind="IndexOutOfBoundsException";class Ee extends K{constructor(t=void 0,i=void 0){super(i),this.index=t,this.message=i}}Ee.kind="ArrayIndexOutOfBoundsException";class de{static fill(t,i){for(let r=0,l=t.length;r<l;r++)t[r]=i}static fillWithin(t,i,r,l){de.rangeCheck(t.length,i,r);for(let s=i;s<r;s++)t[s]=l}static rangeCheck(t,i,r){if(i>r)throw new M("fromIndex("+i+") > toIndex("+r+")");if(i<0)throw new Ee(i);if(r>t)throw new Ee(r)}static asList(...t){return t}static create(t,i,r){return Array.from({length:t}).map(s=>Array.from({length:i}).fill(r))}static createInt32Array(t,i,r){return Array.from({length:t}).map(s=>Int32Array.from({length:i}).fill(r))}static equals(t,i){if(!t||!i||!t.length||!i.length||t.length!==i.length)return!1;for(let r=0,l=t.length;r<l;r++)if(t[r]!==i[r])return!1;return!0}static hashCode(t){if(t===null)return 0;let i=1;for(const r of t)i=31*i+r;return i}static fillUint8Array(t,i){for(let r=0;r!==t.length;r++)t[r]=i}static copyOf(t,i){return t.slice(0,i)}static copyOfUint8Array(t,i){if(t.length<=i){const r=new Uint8Array(i);return r.set(t),r}return t.slice(0,i)}static copyOfRange(t,i,r){const l=r-i,s=new Int32Array(l);return Z.arraycopy(t,i,s,0,l),s}static binarySearch(t,i,r){r===void 0&&(r=de.numberComparator);let l=0,s=t.length-1;for(;l<=s;){const c=s+l>>1,f=r(i,t[c]);if(f>0)l=c+1;else if(f<0)s=c-1;else return c}return-l-1}static numberComparator(t,i){return t-i}}class ae{static numberOfTrailingZeros(t){let i;if(t===0)return 32;let r=31;return i=t<<16,i!==0&&(r-=16,t=i),i=t<<8,i!==0&&(r-=8,t=i),i=t<<4,i!==0&&(r-=4,t=i),i=t<<2,i!==0&&(r-=2,t=i),r-(t<<1>>>31)}static numberOfLeadingZeros(t){if(t===0)return 32;let i=1;return t>>>16||(i+=16,t<<=16),t>>>24||(i+=8,t<<=8),t>>>28||(i+=4,t<<=4),t>>>30||(i+=2,t<<=2),i-=t>>>31,i}static toHexString(t){return t.toString(16)}static toBinaryString(t){return String(parseInt(String(t),2))}static bitCount(t){return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),t=t+(t>>>4)&252645135,t=t+(t>>>8),t=t+(t>>>16),t&63}static truncDivision(t,i){return Math.trunc(t/i)}static parseInt(t,i=void 0){return parseInt(t,i)}}ae.MIN_VALUE_32_BITS=-2147483648,ae.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ce{constructor(t,i){t===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=t,i==null?this.bits=ce.makeArray(t):this.bits=i)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(t){if(t>this.bits.length*32){const i=ce.makeArray(t);Z.arraycopy(this.bits,0,i,0,this.bits.length),this.bits=i}}get(t){return(this.bits[Math.floor(t/32)]&1<<(t&31))!==0}set(t){this.bits[Math.floor(t/32)]|=1<<(t&31)}flip(t){this.bits[Math.floor(t/32)]^=1<<(t&31)}getNextSet(t){const i=this.size;if(t>=i)return i;const r=this.bits;let l=Math.floor(t/32),s=r[l];s&=~((1<<(t&31))-1);const c=r.length;for(;s===0;){if(++l===c)return i;s=r[l]}const f=l*32+ae.numberOfTrailingZeros(s);return f>i?i:f}getNextUnset(t){const i=this.size;if(t>=i)return i;const r=this.bits;let l=Math.floor(t/32),s=~r[l];s&=~((1<<(t&31))-1);const c=r.length;for(;s===0;){if(++l===c)return i;s=~r[l]}const f=l*32+ae.numberOfTrailingZeros(s);return f>i?i:f}setBulk(t,i){this.bits[Math.floor(t/32)]=i}setRange(t,i){if(i<t||t<0||i>this.size)throw new M;if(i===t)return;i--;const r=Math.floor(t/32),l=Math.floor(i/32),s=this.bits;for(let c=r;c<=l;c++){const f=c>r?0:t&31,y=(2<<(c<l?31:i&31))-(1<<f);s[c]|=y}}clear(){const t=this.bits.length,i=this.bits;for(let r=0;r<t;r++)i[r]=0}isRange(t,i,r){if(i<t||t<0||i>this.size)throw new M;if(i===t)return!0;i--;const l=Math.floor(t/32),s=Math.floor(i/32),c=this.bits;for(let f=l;f<=s;f++){const x=f>l?0:t&31,A=(2<<(f<s?31:i&31))-(1<<x)&4294967295;if((c[f]&A)!==(r?A:0))return!1}return!0}appendBit(t){this.ensureCapacity(this.size+1),t&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(t,i){if(i<0||i>32)throw new M("Num bits must be between 0 and 32");this.ensureCapacity(this.size+i);for(let r=i;r>0;r--)this.appendBit((t>>r-1&1)===1)}appendBitArray(t){const i=t.size;this.ensureCapacity(this.size+i);for(let r=0;r<i;r++)this.appendBit(t.get(r))}xor(t){if(this.size!==t.size)throw new M("Sizes don't match");const i=this.bits;for(let r=0,l=i.length;r<l;r++)i[r]^=t.bits[r]}toBytes(t,i,r,l){for(let s=0;s<l;s++){let c=0;for(let f=0;f<8;f++)this.get(t)&&(c|=1<<7-f),t++;i[r+s]=c}}getBitArray(){return this.bits}reverse(){const t=new Int32Array(this.bits.length),i=Math.floor((this.size-1)/32),r=i+1,l=this.bits;for(let s=0;s<r;s++){let c=l[s];c=c>>1&1431655765|(c&1431655765)<<1,c=c>>2&858993459|(c&858993459)<<2,c=c>>4&252645135|(c&252645135)<<4,c=c>>8&16711935|(c&16711935)<<8,c=c>>16&65535|(c&65535)<<16,t[i-s]=c}if(this.size!==r*32){const s=r*32-this.size;let c=t[0]>>>s;for(let f=1;f<r;f++){const x=t[f];c|=x<<32-s,t[f-1]=c,c=x>>>s}t[r-1]=c}this.bits=t}static makeArray(t){return new Int32Array(Math.floor((t+31)/32))}equals(t){if(!(t instanceof ce))return!1;const i=t;return this.size===i.size&&de.equals(this.bits,i.bits)}hashCode(){return 31*this.size+de.hashCode(this.bits)}toString(){let t="";for(let i=0,r=this.size;i<r;i++)(i&7)===0&&(t+=" "),t+=this.get(i)?"X":".";return t}clone(){return new ce(this.size,this.bits.slice())}}var Fe;(function(v){v[v.OTHER=0]="OTHER",v[v.PURE_BARCODE=1]="PURE_BARCODE",v[v.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",v[v.TRY_HARDER=3]="TRY_HARDER",v[v.CHARACTER_SET=4]="CHARACTER_SET",v[v.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",v[v.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",v[v.ASSUME_GS1=7]="ASSUME_GS1",v[v.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",v[v.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",v[v.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Fe||(Fe={}));var Me=Fe;class P extends w{static getFormatInstance(){return new P}}P.kind="FormatException";var Re;(function(v){v[v.Cp437=0]="Cp437",v[v.ISO8859_1=1]="ISO8859_1",v[v.ISO8859_2=2]="ISO8859_2",v[v.ISO8859_3=3]="ISO8859_3",v[v.ISO8859_4=4]="ISO8859_4",v[v.ISO8859_5=5]="ISO8859_5",v[v.ISO8859_6=6]="ISO8859_6",v[v.ISO8859_7=7]="ISO8859_7",v[v.ISO8859_8=8]="ISO8859_8",v[v.ISO8859_9=9]="ISO8859_9",v[v.ISO8859_10=10]="ISO8859_10",v[v.ISO8859_11=11]="ISO8859_11",v[v.ISO8859_13=12]="ISO8859_13",v[v.ISO8859_14=13]="ISO8859_14",v[v.ISO8859_15=14]="ISO8859_15",v[v.ISO8859_16=15]="ISO8859_16",v[v.SJIS=16]="SJIS",v[v.Cp1250=17]="Cp1250",v[v.Cp1251=18]="Cp1251",v[v.Cp1252=19]="Cp1252",v[v.Cp1256=20]="Cp1256",v[v.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",v[v.UTF8=22]="UTF8",v[v.ASCII=23]="ASCII",v[v.Big5=24]="Big5",v[v.GB18030=25]="GB18030",v[v.EUC_KR=26]="EUC_KR"})(Re||(Re={}));class X{constructor(t,i,r,...l){this.valueIdentifier=t,this.name=r,typeof i=="number"?this.values=Int32Array.from([i]):this.values=i,this.otherEncodingNames=l,X.VALUE_IDENTIFIER_TO_ECI.set(t,this),X.NAME_TO_ECI.set(r,this);const s=this.values;for(let c=0,f=s.length;c!==f;c++){const x=s[c];X.VALUES_TO_ECI.set(x,this)}for(const c of l)X.NAME_TO_ECI.set(c,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(t){if(t<0||t>=900)throw new P("incorect value");const i=X.VALUES_TO_ECI.get(t);if(i===void 0)throw new P("incorect value");return i}static getCharacterSetECIByName(t){const i=X.NAME_TO_ECI.get(t);if(i===void 0)throw new P("incorect value");return i}equals(t){if(!(t instanceof X))return!1;const i=t;return this.getName()===i.getName()}}X.VALUE_IDENTIFIER_TO_ECI=new Map,X.VALUES_TO_ECI=new Map,X.NAME_TO_ECI=new Map,X.Cp437=new X(Re.Cp437,Int32Array.from([0,2]),"Cp437"),X.ISO8859_1=new X(Re.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),X.ISO8859_2=new X(Re.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),X.ISO8859_3=new X(Re.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),X.ISO8859_4=new X(Re.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),X.ISO8859_5=new X(Re.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),X.ISO8859_6=new X(Re.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),X.ISO8859_7=new X(Re.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),X.ISO8859_8=new X(Re.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),X.ISO8859_9=new X(Re.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),X.ISO8859_10=new X(Re.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),X.ISO8859_11=new X(Re.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),X.ISO8859_13=new X(Re.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),X.ISO8859_14=new X(Re.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),X.ISO8859_15=new X(Re.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),X.ISO8859_16=new X(Re.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),X.SJIS=new X(Re.SJIS,20,"SJIS","Shift_JIS"),X.Cp1250=new X(Re.Cp1250,21,"Cp1250","windows-1250"),X.Cp1251=new X(Re.Cp1251,22,"Cp1251","windows-1251"),X.Cp1252=new X(Re.Cp1252,23,"Cp1252","windows-1252"),X.Cp1256=new X(Re.Cp1256,24,"Cp1256","windows-1256"),X.UnicodeBigUnmarked=new X(Re.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),X.UTF8=new X(Re.UTF8,26,"UTF8","UTF-8"),X.ASCII=new X(Re.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),X.Big5=new X(Re.Big5,28,"Big5"),X.GB18030=new X(Re.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),X.EUC_KR=new X(Re.EUC_KR,30,"EUC_KR","EUC-KR");class Oe extends w{}Oe.kind="UnsupportedOperationException";class Ge{static decode(t,i){const r=this.encodingName(i);return this.customDecoder?this.customDecoder(t,r):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(r)?this.decodeFallback(t,r):new TextDecoder(r).decode(t)}static shouldDecodeOnFallback(t){return!Ge.isBrowser()&&t==="ISO-8859-1"}static encode(t,i){const r=this.encodingName(i);return this.customEncoder?this.customEncoder(t,r):typeof TextEncoder>"u"?this.encodeFallback(t):new TextEncoder().encode(t)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(t){return typeof t=="string"?t:t.getName()}static encodingCharacterSet(t){return t instanceof X?t:X.getCharacterSetECIByName(t)}static decodeFallback(t,i){const r=this.encodingCharacterSet(i);if(Ge.isDecodeFallbackSupported(r)){let l="";for(let s=0,c=t.length;s<c;s++){let f=t[s].toString(16);f.length<2&&(f="0"+f),l+="%"+f}return decodeURIComponent(l)}if(r.equals(X.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(t.buffer));throw new Oe(`Encoding ${this.encodingName(i)} not supported by fallback.`)}static isDecodeFallbackSupported(t){return t.equals(X.UTF8)||t.equals(X.ISO8859_1)||t.equals(X.ASCII)}static encodeFallback(t){const r=btoa(unescape(encodeURIComponent(t))).split(""),l=[];for(let s=0;s<r.length;s++)l.push(r[s].charCodeAt(0));return new Uint8Array(l)}}class Ce{static castAsNonUtf8Char(t,i=null){const r=i?i.getName():this.ISO88591;return Ge.decode(new Uint8Array([t]),r)}static guessEncoding(t,i){if(i!=null&&i.get(Me.CHARACTER_SET)!==void 0)return i.get(Me.CHARACTER_SET).toString();const r=t.length;let l=!0,s=!0,c=!0,f=0,x=0,y=0,A=0,T=0,O=0,L=0,k=0,F=0,V=0,ne=0;const Ae=t.length>3&&t[0]===239&&t[1]===187&&t[2]===191;for(let be=0;be<r&&(l||s||c);be++){const pe=t[be]&255;c&&(f>0?(pe&128)===0?c=!1:f--:(pe&128)!==0&&((pe&64)===0?c=!1:(f++,(pe&32)===0?x++:(f++,(pe&16)===0?y++:(f++,(pe&8)===0?A++:c=!1))))),l&&(pe>127&&pe<160?l=!1:pe>159&&(pe<192||pe===215||pe===247)&&ne++),s&&(T>0?pe<64||pe===127||pe>252?s=!1:T--:pe===128||pe===160||pe>239?s=!1:pe>160&&pe<224?(O++,k=0,L++,L>F&&(F=L)):pe>127?(T++,L=0,k++,k>V&&(V=k)):(L=0,k=0))}return c&&f>0&&(c=!1),s&&T>0&&(s=!1),c&&(Ae||x+y+A>0)?Ce.UTF8:s&&(Ce.ASSUME_SHIFT_JIS||F>=3||V>=3)?Ce.SHIFT_JIS:l&&s?F===2&&O===2||ne*10>=r?Ce.SHIFT_JIS:Ce.ISO88591:l?Ce.ISO88591:s?Ce.SHIFT_JIS:c?Ce.UTF8:Ce.PLATFORM_DEFAULT_ENCODING}static format(t,...i){let r=-1;function l(c,f,x,y,A,T){if(c==="%%")return"%";if(i[++r]===void 0)return;c=y?parseInt(y.substr(1)):void 0;let O=A?parseInt(A.substr(1)):void 0,L;switch(T){case"s":L=i[r];break;case"c":L=i[r][0];break;case"f":L=parseFloat(i[r]).toFixed(c);break;case"p":L=parseFloat(i[r]).toPrecision(c);break;case"e":L=parseFloat(i[r]).toExponential(c);break;case"x":L=parseInt(i[r]).toString(O||16);break;case"d":L=parseFloat(parseInt(i[r],O||10).toPrecision(c)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(O);let k=parseInt(x),F=x&&x[0]+""=="0"?"0":" ";for(;L.length<k;)L=f!==void 0?L+F:F+L;return L}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}static getBytes(t,i){return Ge.encode(t,i)}static getCharCode(t,i=0){return t.charCodeAt(i)}static getCharAt(t){return String.fromCharCode(t)}}Ce.SHIFT_JIS=X.SJIS.getName(),Ce.GB2312="GB2312",Ce.ISO88591=X.ISO8859_1.getName(),Ce.EUC_JP="EUC_JP",Ce.UTF8=X.UTF8.getName(),Ce.PLATFORM_DEFAULT_ENCODING=Ce.UTF8,Ce.ASSUME_SHIFT_JIS=!1;class je{constructor(t=""){this.value=t}enableDecoding(t){return this.encoding=t,this}append(t){return typeof t=="string"?this.value+=t.toString():this.encoding?this.value+=Ce.castAsNonUtf8Char(t,this.encoding):this.value+=String.fromCharCode(t),this}appendChars(t,i,r){for(let l=i;i<i+r;l++)this.append(t[l]);return this}length(){return this.value.length}charAt(t){return this.value.charAt(t)}deleteCharAt(t){this.value=this.value.substr(0,t)+this.value.substring(t+1)}setCharAt(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+1)}substring(t,i){return this.value.substring(t,i)}setLengthToZero(){this.value=""}toString(){return this.value}insert(t,i){this.value=this.value.substr(0,t)+i+this.value.substr(t+i.length)}}class Je{constructor(t,i,r,l){if(this.width=t,this.height=i,this.rowSize=r,this.bits=l,i==null&&(i=t),this.height=i,t<1||i<1)throw new M("Both dimensions must be greater than 0");r==null&&(r=Math.floor((t+31)/32)),this.rowSize=r,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(t){const i=t.length,r=t[0].length,l=new Je(r,i);for(let s=0;s<i;s++){const c=t[s];for(let f=0;f<r;f++)c[f]&&l.set(f,s)}return l}static parseFromString(t,i,r){if(t===null)throw new M("stringRepresentation cannot be null");const l=new Array(t.length);let s=0,c=0,f=-1,x=0,y=0;for(;y<t.length;)if(t.charAt(y)===`
`||t.charAt(y)==="\r"){if(s>c){if(f===-1)f=s-c;else if(s-c!==f)throw new M("row lengths do not match");c=s,x++}y++}else if(t.substring(y,y+i.length)===i)y+=i.length,l[s]=!0,s++;else if(t.substring(y,y+r.length)===r)y+=r.length,l[s]=!1,s++;else throw new M("illegal character encountered: "+t.substring(y));if(s>c){if(f===-1)f=s-c;else if(s-c!==f)throw new M("row lengths do not match");x++}const A=new Je(f,x);for(let T=0;T<s;T++)l[T]&&A.set(Math.floor(T%f),Math.floor(T/f));return A}get(t,i){const r=i*this.rowSize+Math.floor(t/32);return(this.bits[r]>>>(t&31)&1)!==0}set(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]|=1<<(t&31)&4294967295}unset(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]&=~(1<<(t&31)&4294967295)}flip(t,i){const r=i*this.rowSize+Math.floor(t/32);this.bits[r]^=1<<(t&31)&4294967295}xor(t){if(this.width!==t.getWidth()||this.height!==t.getHeight()||this.rowSize!==t.getRowSize())throw new M("input matrix dimensions do not match");const i=new ce(Math.floor(this.width/32)+1),r=this.rowSize,l=this.bits;for(let s=0,c=this.height;s<c;s++){const f=s*r,x=t.getRow(s,i).getBitArray();for(let y=0;y<r;y++)l[f+y]^=x[y]}}clear(){const t=this.bits,i=t.length;for(let r=0;r<i;r++)t[r]=0}setRegion(t,i,r,l){if(i<0||t<0)throw new M("Left and top must be nonnegative");if(l<1||r<1)throw new M("Height and width must be at least 1");const s=t+r,c=i+l;if(c>this.height||s>this.width)throw new M("The region must fit inside the matrix");const f=this.rowSize,x=this.bits;for(let y=i;y<c;y++){const A=y*f;for(let T=t;T<s;T++)x[A+Math.floor(T/32)]|=1<<(T&31)&4294967295}}getRow(t,i){i==null||i.getSize()<this.width?i=new ce(this.width):i.clear();const r=this.rowSize,l=this.bits,s=t*r;for(let c=0;c<r;c++)i.setBulk(c*32,l[s+c]);return i}setRow(t,i){Z.arraycopy(i.getBitArray(),0,this.bits,t*this.rowSize,this.rowSize)}rotate180(){const t=this.getWidth(),i=this.getHeight();let r=new ce(t),l=new ce(t);for(let s=0,c=Math.floor((i+1)/2);s<c;s++)r=this.getRow(s,r),l=this.getRow(i-1-s,l),r.reverse(),l.reverse(),this.setRow(s,l),this.setRow(i-1-s,r)}getEnclosingRectangle(){const t=this.width,i=this.height,r=this.rowSize,l=this.bits;let s=t,c=i,f=-1,x=-1;for(let y=0;y<i;y++)for(let A=0;A<r;A++){const T=l[y*r+A];if(T!==0){if(y<c&&(c=y),y>x&&(x=y),A*32<s){let O=0;for(;(T<<31-O&4294967295)===0;)O++;A*32+O<s&&(s=A*32+O)}if(A*32+31>f){let O=31;for(;!(T>>>O);)O--;A*32+O>f&&(f=A*32+O)}}}return f<s||x<c?null:Int32Array.from([s,c,f-s+1,x-c+1])}getTopLeftOnBit(){const t=this.rowSize,i=this.bits;let r=0;for(;r<i.length&&i[r]===0;)r++;if(r===i.length)return null;const l=r/t;let s=r%t*32;const c=i[r];let f=0;for(;(c<<31-f&4294967295)===0;)f++;return s+=f,Int32Array.from([s,l])}getBottomRightOnBit(){const t=this.rowSize,i=this.bits;let r=i.length-1;for(;r>=0&&i[r]===0;)r--;if(r<0)return null;const l=Math.floor(r/t);let s=Math.floor(r%t)*32;const c=i[r];let f=31;for(;!(c>>>f);)f--;return s+=f,Int32Array.from([s,l])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(t){if(!(t instanceof Je))return!1;const i=t;return this.width===i.width&&this.height===i.height&&this.rowSize===i.rowSize&&de.equals(this.bits,i.bits)}hashCode(){let t=this.width;return t=31*t+this.width,t=31*t+this.height,t=31*t+this.rowSize,t=31*t+de.hashCode(this.bits),t}toString(t="X ",i="  ",r=`
`){return this.buildToString(t,i,r)}buildToString(t,i,r){let l=new je;for(let s=0,c=this.height;s<c;s++){for(let f=0,x=this.width;f<x;f++)l.append(this.get(f,s)?t:i);l.append(r)}return l.toString()}clone(){return new Je(this.width,this.height,this.rowSize,this.bits.slice())}}class re extends w{static getNotFoundInstance(){return new re}}re.kind="NotFoundException";class J extends W{constructor(t){super(t),this.luminances=J.EMPTY,this.buckets=new Int32Array(J.LUMINANCE_BUCKETS)}getBlackRow(t,i){const r=this.getLuminanceSource(),l=r.getWidth();i==null||i.getSize()<l?i=new ce(l):i.clear(),this.initArrays(l);const s=r.getRow(t,this.luminances),c=this.buckets;for(let x=0;x<l;x++)c[(s[x]&255)>>J.LUMINANCE_SHIFT]++;const f=J.estimateBlackPoint(c);if(l<3)for(let x=0;x<l;x++)(s[x]&255)<f&&i.set(x);else{let x=s[0]&255,y=s[1]&255;for(let A=1;A<l-1;A++){const T=s[A+1]&255;(y*4-x-T)/2<f&&i.set(A),x=y,y=T}}return i}getBlackMatrix(){const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight(),l=new Je(i,r);this.initArrays(i);const s=this.buckets;for(let x=1;x<5;x++){const y=Math.floor(r*x/5),A=t.getRow(y,this.luminances),T=Math.floor(i*4/5);for(let O=Math.floor(i/5);O<T;O++){const L=A[O]&255;s[L>>J.LUMINANCE_SHIFT]++}}const c=J.estimateBlackPoint(s),f=t.getMatrix();for(let x=0;x<r;x++){const y=x*i;for(let A=0;A<i;A++)(f[y+A]&255)<c&&l.set(A,x)}return l}createBinarizer(t){return new J(t)}initArrays(t){this.luminances.length<t&&(this.luminances=new Uint8ClampedArray(t));const i=this.buckets;for(let r=0;r<J.LUMINANCE_BUCKETS;r++)i[r]=0}static estimateBlackPoint(t){const i=t.length;let r=0,l=0,s=0;for(let A=0;A<i;A++)t[A]>s&&(l=A,s=t[A]),t[A]>r&&(r=t[A]);let c=0,f=0;for(let A=0;A<i;A++){const T=A-l,O=t[A]*T*T;O>f&&(c=A,f=O)}if(l>c){const A=l;l=c,c=A}if(c-l<=i/16)throw new re;let x=c-1,y=-1;for(let A=c-1;A>l;A--){const T=A-l,O=T*T*(c-A)*(r-t[A]);O>y&&(x=A,y=O)}return x<<J.LUMINANCE_SHIFT}}J.LUMINANCE_BITS=5,J.LUMINANCE_SHIFT=8-J.LUMINANCE_BITS,J.LUMINANCE_BUCKETS=1<<J.LUMINANCE_BITS,J.EMPTY=Uint8ClampedArray.from([0]);class fe extends J{constructor(t){super(t),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const t=this.getLuminanceSource(),i=t.getWidth(),r=t.getHeight();if(i>=fe.MINIMUM_DIMENSION&&r>=fe.MINIMUM_DIMENSION){const l=t.getMatrix();let s=i>>fe.BLOCK_SIZE_POWER;(i&fe.BLOCK_SIZE_MASK)!==0&&s++;let c=r>>fe.BLOCK_SIZE_POWER;(r&fe.BLOCK_SIZE_MASK)!==0&&c++;const f=fe.calculateBlackPoints(l,s,c,i,r),x=new Je(i,r);fe.calculateThresholdForBlock(l,s,c,i,r,f,x),this.matrix=x}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(t){return new fe(t)}static calculateThresholdForBlock(t,i,r,l,s,c,f){const x=s-fe.BLOCK_SIZE,y=l-fe.BLOCK_SIZE;for(let A=0;A<r;A++){let T=A<<fe.BLOCK_SIZE_POWER;T>x&&(T=x);const O=fe.cap(A,2,r-3);for(let L=0;L<i;L++){let k=L<<fe.BLOCK_SIZE_POWER;k>y&&(k=y);const F=fe.cap(L,2,i-3);let V=0;for(let Ae=-2;Ae<=2;Ae++){const be=c[O+Ae];V+=be[F-2]+be[F-1]+be[F]+be[F+1]+be[F+2]}const ne=V/25;fe.thresholdBlock(t,k,T,ne,l,f)}}}static cap(t,i,r){return t<i?i:t>r?r:t}static thresholdBlock(t,i,r,l,s,c){for(let f=0,x=r*s+i;f<fe.BLOCK_SIZE;f++,x+=s)for(let y=0;y<fe.BLOCK_SIZE;y++)(t[x+y]&255)<=l&&c.set(i+y,r+f)}static calculateBlackPoints(t,i,r,l,s){const c=s-fe.BLOCK_SIZE,f=l-fe.BLOCK_SIZE,x=new Array(r);for(let y=0;y<r;y++){x[y]=new Int32Array(i);let A=y<<fe.BLOCK_SIZE_POWER;A>c&&(A=c);for(let T=0;T<i;T++){let O=T<<fe.BLOCK_SIZE_POWER;O>f&&(O=f);let L=0,k=255,F=0;for(let ne=0,Ae=A*l+O;ne<fe.BLOCK_SIZE;ne++,Ae+=l){for(let be=0;be<fe.BLOCK_SIZE;be++){const pe=t[Ae+be]&255;L+=pe,pe<k&&(k=pe),pe>F&&(F=pe)}if(F-k>fe.MIN_DYNAMIC_RANGE)for(ne++,Ae+=l;ne<fe.BLOCK_SIZE;ne++,Ae+=l)for(let be=0;be<fe.BLOCK_SIZE;be++)L+=t[Ae+be]&255}let V=L>>fe.BLOCK_SIZE_POWER*2;if(F-k<=fe.MIN_DYNAMIC_RANGE&&(V=k/2,y>0&&T>0)){const ne=(x[y-1][T]+2*x[y][T-1]+x[y-1][T-1])/4;k<ne&&(V=ne)}x[y][T]=V}}return x}}fe.BLOCK_SIZE_POWER=3,fe.BLOCK_SIZE=1<<fe.BLOCK_SIZE_POWER,fe.BLOCK_SIZE_MASK=fe.BLOCK_SIZE-1,fe.MINIMUM_DIMENSION=fe.BLOCK_SIZE*5,fe.MIN_DYNAMIC_RANGE=24;class Be{constructor(t,i){this.width=t,this.height=i}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(t,i,r,l){throw new Oe("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new Oe("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new Oe("This luminance source does not support rotation by 45 degrees.")}toString(){const t=new Uint8ClampedArray(this.width);let i=new je;for(let r=0;r<this.height;r++){const l=this.getRow(r,t);for(let s=0;s<this.width;s++){const c=l[s]&255;let f;c<64?f="#":c<128?f="+":c<192?f=".":f=" ",i.append(f)}i.append(`
`)}return i.toString()}}class et extends Be{constructor(t){super(t.getWidth(),t.getHeight()),this.delegate=t}getRow(t,i){const r=this.delegate.getRow(t,i),l=this.getWidth();for(let s=0;s<l;s++)r[s]=255-(r[s]&255);return r}getMatrix(){const t=this.delegate.getMatrix(),i=this.getWidth()*this.getHeight(),r=new Uint8ClampedArray(i);for(let l=0;l<i;l++)r[l]=255-(t[l]&255);return r}isCropSupported(){return this.delegate.isCropSupported()}crop(t,i,r,l){return new et(this.delegate.crop(t,i,r,l))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new et(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new et(this.delegate.rotateCounterClockwise45())}}class ot extends Be{constructor(t){super(t.width,t.height),this.canvas=t,this.tempCanvasElement=null,this.buffer=ot.makeBufferFromCanvasImageData(t)}static makeBufferFromCanvasImageData(t){const i=t.getContext("2d").getImageData(0,0,t.width,t.height);return ot.toGrayscaleBuffer(i.data,t.width,t.height)}static toGrayscaleBuffer(t,i,r){const l=new Uint8ClampedArray(i*r);for(let s=0,c=0,f=t.length;s<f;s+=4,c++){let x;if(t[s+3]===0)x=255;else{const A=t[s],T=t[s+1],O=t[s+2];x=306*A+601*T+117*O+512>>10}l[c]=x}return l}getRow(t,i){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const r=this.getWidth(),l=t*r;return i===null?i=this.buffer.slice(l,l+r):(i.length<r&&(i=new Uint8ClampedArray(r)),i.set(this.buffer.slice(l,l+r))),i}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(t,i,r,l){return super.crop(t,i,r,l),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const t=this.canvas.ownerDocument.createElement("canvas");t.width=this.canvas.width,t.height=this.canvas.height,this.tempCanvasElement=t}return this.tempCanvasElement}rotate(t){const i=this.getTempCanvasElement(),r=i.getContext("2d"),l=t*ot.DEGREE_TO_RADIANS,s=this.canvas.width,c=this.canvas.height,f=Math.ceil(Math.abs(Math.cos(l))*s+Math.abs(Math.sin(l))*c),x=Math.ceil(Math.abs(Math.sin(l))*s+Math.abs(Math.cos(l))*c);return i.width=f,i.height=x,r.translate(f/2,x/2),r.rotate(l),r.drawImage(this.canvas,s/-2,c/-2),this.buffer=ot.makeBufferFromCanvasImageData(i),this}invert(){return new et(this)}}ot.DEGREE_TO_RADIANS=Math.PI/180;class z{constructor(t,i,r){this.deviceId=t,this.label=i,this.kind="videoinput",this.groupId=r||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var le=(globalThis||fc||self||window||void 0)&&(globalThis||fc||self||window||void 0).__awaiter||function(v,t,i,r){function l(s){return s instanceof i?s:new i(function(c){c(s)})}return new(i||(i=Promise))(function(s,c){function f(A){try{y(r.next(A))}catch(T){c(T)}}function x(A){try{y(r.throw(A))}catch(T){c(T)}}function y(A){A.done?s(A.value):l(A.value).then(f,x)}y((r=r.apply(v,t||[])).next())})};class ve{constructor(t,i=500,r){this.reader=t,this.timeBetweenScansMillis=i,this._hints=r,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(t){this._timeBetweenDecodingAttempts=t<0?0:t}set hints(t){this._hints=t||null}get hints(){return this._hints}listVideoInputDevices(){return le(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const t=yield navigator.mediaDevices.enumerateDevices(),i=[];for(const r of t){const l=r.kind==="video"?"videoinput":r.kind;if(l!=="videoinput")continue;const s=r.deviceId||r.id,c=r.label||`Video device ${i.length+1}`,f=r.groupId,x={deviceId:s,label:c,kind:l,groupId:f};i.push(x)}return i})}getVideoInputDevices(){return le(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(i=>new z(i.deviceId,i.label))})}findDeviceById(t){return le(this,void 0,void 0,function*(){const i=yield this.listVideoInputDevices();return i?i.find(r=>r.deviceId===t):null})}decodeFromInputVideoDevice(t,i){return le(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(t,i)})}decodeOnceFromVideoDevice(t,i){return le(this,void 0,void 0,function*(){this.reset();let r;t?r={deviceId:{exact:t}}:r={facingMode:"environment"};const l={video:r};return yield this.decodeOnceFromConstraints(l,i)})}decodeOnceFromConstraints(t,i){return le(this,void 0,void 0,function*(){const r=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeOnceFromStream(r,i)})}decodeOnceFromStream(t,i){return le(this,void 0,void 0,function*(){this.reset();const r=yield this.attachStreamToVideo(t,i);return yield this.decodeOnce(r)})}decodeFromInputVideoDeviceContinuously(t,i,r){return le(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(t,i,r)})}decodeFromVideoDevice(t,i,r){return le(this,void 0,void 0,function*(){let l;t?l={deviceId:{exact:t}}:l={facingMode:"environment"};const s={video:l};return yield this.decodeFromConstraints(s,i,r)})}decodeFromConstraints(t,i,r){return le(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(t);return yield this.decodeFromStream(l,i,r)})}decodeFromStream(t,i,r){return le(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(t,i);return yield this.decodeContinuously(l,r)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(t,i){return le(this,void 0,void 0,function*(){const r=this.prepareVideoElement(i);return this.addVideoSource(r,t),this.videoElement=r,this.stream=t,yield this.playVideoOnLoadAsync(r),r})}playVideoOnLoadAsync(t){return new Promise((i,r)=>this.playVideoOnLoad(t,()=>i()))}playVideoOnLoad(t,i){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(t),t.addEventListener("ended",this.videoEndedListener),t.addEventListener("canplay",this.videoCanPlayListener),t.addEventListener("playing",i),this.tryPlayVideo(t)}isVideoPlaying(t){return t.currentTime>0&&!t.paused&&!t.ended&&t.readyState>2}tryPlayVideo(t){return le(this,void 0,void 0,function*(){if(this.isVideoPlaying(t)){console.warn("Trying to play video that is already playing.");return}try{yield t.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(t,i){const r=document.getElementById(t);if(!r)throw new D(`element with id '${t}' not found`);if(r.nodeName.toLowerCase()!==i.toLowerCase())throw new D(`element with id '${t}' must be an ${i} element`);return r}decodeFromImage(t,i){if(!t&&!i)throw new D("either imageElement with a src set or an url must be provided");return i&&!t?this.decodeFromImageUrl(i):this.decodeFromImageElement(t)}decodeFromVideo(t,i){if(!t&&!i)throw new D("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrl(i):this.decodeFromVideoElement(t)}decodeFromVideoContinuously(t,i,r){if(t===void 0&&i===void 0)throw new D("Either an element with a src set or an URL must be provided");return i&&!t?this.decodeFromVideoUrlContinuously(i,r):this.decodeFromVideoElementContinuously(t,r)}decodeFromImageElement(t){if(!t)throw new D("An image element must be provided.");this.reset();const i=this.prepareImageElement(t);this.imageElement=i;let r;return this.isImageLoaded(i)?r=this.decodeOnce(i,!1,!0):r=this._decodeOnLoadImage(i),r}decodeFromVideoElement(t){const i=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideo(i)}decodeFromVideoElementContinuously(t,i){const r=this._decodeFromVideoElementSetup(t);return this._decodeOnLoadVideoContinuously(r,i)}_decodeFromVideoElementSetup(t){if(!t)throw new D("A video element must be provided.");this.reset();const i=this.prepareVideoElement(t);return this.videoElement=i,i}decodeFromImageUrl(t){if(!t)throw new D("An URL must be provided.");this.reset();const i=this.prepareImageElement();this.imageElement=i;const r=this._decodeOnLoadImage(i);return i.src=t,r}decodeFromVideoUrl(t){if(!t)throw new D("An URL must be provided.");this.reset();const i=this.prepareVideoElement(),r=this.decodeFromVideoElement(i);return i.src=t,r}decodeFromVideoUrlContinuously(t,i){if(!t)throw new D("An URL must be provided.");this.reset();const r=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(r,i);return r.src=t,l}_decodeOnLoadImage(t){return new Promise((i,r)=>{this.imageLoadedListener=()=>this.decodeOnce(t,!1,!0).then(i,r),t.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(t){return le(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(t),yield this.decodeOnce(t)})}_decodeOnLoadVideoContinuously(t,i){return le(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(t),this.decodeContinuously(t,i)})}isImageLoaded(t){return!(!t.complete||t.naturalWidth===0)}prepareImageElement(t){let i;return typeof t>"u"&&(i=document.createElement("img"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"img")),t instanceof HTMLImageElement&&(i=t),i}prepareVideoElement(t){let i;return!t&&typeof document<"u"&&(i=document.createElement("video"),i.width=200,i.height=200),typeof t=="string"&&(i=this.getMediaElement(t,"video")),t instanceof HTMLVideoElement&&(i=t),i.setAttribute("autoplay","true"),i.setAttribute("muted","true"),i.setAttribute("playsinline","true"),i}decodeOnce(t,i=!0,r=!0){this._stopAsyncDecode=!1;const l=(s,c)=>{if(this._stopAsyncDecode){c(new re("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const f=this.decode(t);s(f)}catch(f){const x=i&&f instanceof re,A=(f instanceof $||f instanceof P)&&r;if(x||A)return setTimeout(l,this._timeBetweenDecodingAttempts,s,c);c(f)}};return new Promise((s,c)=>l(s,c))}decodeContinuously(t,i){this._stopContinuousDecode=!1;const r=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const l=this.decode(t);i(l,null),setTimeout(r,this.timeBetweenScansMillis)}catch(l){i(null,l);const s=l instanceof $||l instanceof P,c=l instanceof re;(s||c)&&setTimeout(r,this._timeBetweenDecodingAttempts)}};r()}decode(t){const i=this.createBinaryBitmap(t);return this.decodeBitmap(i)}_isHTMLVideoElement(t){return t.videoWidth!==0}drawFrameOnCanvas(t,i,r){i||(i={sx:0,sy:0,sWidth:t.videoWidth,sHeight:t.videoHeight,dx:0,dy:0,dWidth:t.videoWidth,dHeight:t.videoHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}drawImageOnCanvas(t,i,r=this.captureCanvasContext){i||(i={sx:0,sy:0,sWidth:t.naturalWidth,sHeight:t.naturalHeight,dx:0,dy:0,dWidth:t.naturalWidth,dHeight:t.naturalHeight}),r||(r=this.captureCanvasContext),r.drawImage(t,i.sx,i.sy,i.sWidth,i.sHeight,i.dx,i.dy,i.dWidth,i.dHeight)}createBinaryBitmap(t){this.getCaptureCanvasContext(t),this._isHTMLVideoElement(t)?this.drawFrameOnCanvas(t):this.drawImageOnCanvas(t);const i=this.getCaptureCanvas(t),r=new ot(i),l=new fe(r);return new te(l)}getCaptureCanvasContext(t){if(!this.captureCanvasContext){const r=this.getCaptureCanvas(t).getContext("2d");this.captureCanvasContext=r}return this.captureCanvasContext}getCaptureCanvas(t){if(!this.captureCanvas){const i=this.createCaptureCanvas(t);this.captureCanvas=i}return this.captureCanvas}decodeBitmap(t){return this.reader.decode(t,this._hints)}createCaptureCanvas(t){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const i=document.createElement("canvas");let r,l;return typeof t<"u"&&(t instanceof HTMLVideoElement?(r=t.videoWidth,l=t.videoHeight):t instanceof HTMLImageElement&&(r=t.naturalWidth||t.width,l=t.naturalHeight||t.height)),i.style.width=r+"px",i.style.height=l+"px",i.width=r,i.height=l,i}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(t=>t.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(t,i){try{t.srcObject=i}catch{t.src=URL.createObjectURL(i)}}cleanVideoSource(t){try{t.srcObject=null}catch{t.src=""}this.videoElement.removeAttribute("src")}}class me{constructor(t,i,r=i==null?0:8*i.length,l,s,c=Z.currentTimeMillis()){this.text=t,this.rawBytes=i,this.numBits=r,this.resultPoints=l,this.format=s,this.timestamp=c,this.text=t,this.rawBytes=i,r==null?this.numBits=i==null?0:8*i.length:this.numBits=r,this.resultPoints=l,this.format=s,this.resultMetadata=null,c==null?this.timestamp=Z.currentTimeMillis():this.timestamp=c}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(t,i){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(t,i)}putAllMetadata(t){t!==null&&(this.resultMetadata===null?this.resultMetadata=t:this.resultMetadata=new Map(t))}addResultPoints(t){const i=this.resultPoints;if(i===null)this.resultPoints=t;else if(t!==null&&t.length>0){const r=new Array(i.length+t.length);Z.arraycopy(i,0,r,0,i.length),Z.arraycopy(t,0,r,i.length,t.length),this.resultPoints=r}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ye;(function(v){v[v.AZTEC=0]="AZTEC",v[v.CODABAR=1]="CODABAR",v[v.CODE_39=2]="CODE_39",v[v.CODE_93=3]="CODE_93",v[v.CODE_128=4]="CODE_128",v[v.DATA_MATRIX=5]="DATA_MATRIX",v[v.EAN_8=6]="EAN_8",v[v.EAN_13=7]="EAN_13",v[v.ITF=8]="ITF",v[v.MAXICODE=9]="MAXICODE",v[v.PDF_417=10]="PDF_417",v[v.QR_CODE=11]="QR_CODE",v[v.RSS_14=12]="RSS_14",v[v.RSS_EXPANDED=13]="RSS_EXPANDED",v[v.UPC_A=14]="UPC_A",v[v.UPC_E=15]="UPC_E",v[v.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ye||(Ye={}));var ye=Ye,it;(function(v){v[v.OTHER=0]="OTHER",v[v.ORIENTATION=1]="ORIENTATION",v[v.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",v[v.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",v[v.ISSUE_NUMBER=4]="ISSUE_NUMBER",v[v.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",v[v.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",v[v.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",v[v.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",v[v.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",v[v.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(it||(it={}));var tt=it;class Tt{constructor(t,i,r,l,s=-1,c=-1){this.rawBytes=t,this.text=i,this.byteSegments=r,this.ecLevel=l,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=c,this.numBits=t==null?0:8*t.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(t){this.numBits=t}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(t){this.errorsCorrected=t}getErasures(){return this.erasures}setErasures(t){this.erasures=t}getOther(){return this.other}setOther(t){this.other=t}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class On{exp(t){return this.expTable[t]}log(t){if(t===0)throw new M;return this.logTable[t]}static addOrSubtract(t,i){return t^i}}class rn{constructor(t,i){if(i.length===0)throw new M;this.field=t;const r=i.length;if(r>1&&i[0]===0){let l=1;for(;l<r&&i[l]===0;)l++;l===r?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(r-l),Z.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);const i=this.coefficients;let r;if(t===1){r=0;for(let c=0,f=i.length;c!==f;c++){const x=i[c];r=On.addOrSubtract(r,x)}return r}r=i[0];const l=i.length,s=this.field;for(let c=1;c<l;c++)r=On.addOrSubtract(s.multiply(t,r),i[c]);return r}addOrSubtract(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){const c=i;i=r,r=c}let l=new Int32Array(r.length);const s=r.length-i.length;Z.arraycopy(r,0,l,0,s);for(let c=s;c<r.length;c++)l[c]=On.addOrSubtract(i[c-s],r[c]);return new rn(this.field,l)}multiply(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(this.isZero()||t.isZero())return this.field.getZero();const i=this.coefficients,r=i.length,l=t.coefficients,s=l.length,c=new Int32Array(r+s-1),f=this.field;for(let x=0;x<r;x++){const y=i[x];for(let A=0;A<s;A++)c[x+A]=On.addOrSubtract(c[x+A],f.multiply(y,l[A]))}return new rn(f,c)}multiplyScalar(t){if(t===0)return this.field.getZero();if(t===1)return this;const i=this.coefficients.length,r=this.field,l=new Int32Array(i),s=this.coefficients;for(let c=0;c<i;c++)l[c]=r.multiply(s[c],t);return new rn(r,l)}multiplyByMonomial(t,i){if(t<0)throw new M;if(i===0)return this.field.getZero();const r=this.coefficients,l=r.length,s=new Int32Array(l+t),c=this.field;for(let f=0;f<l;f++)s[f]=c.multiply(r[f],i);return new rn(c,s)}divide(t){if(!this.field.equals(t.field))throw new M("GenericGFPolys do not have same GenericGF field");if(t.isZero())throw new M("Divide by 0");const i=this.field;let r=i.getZero(),l=this;const s=t.getCoefficient(t.getDegree()),c=i.inverse(s);for(;l.getDegree()>=t.getDegree()&&!l.isZero();){const f=l.getDegree()-t.getDegree(),x=i.multiply(l.getCoefficient(l.getDegree()),c),y=t.multiplyByMonomial(f,x),A=i.buildMonomial(f,x);r=r.addOrSubtract(A),l=l.addOrSubtract(y)}return[r,l]}toString(){let t="";for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);if(r!==0){if(r<0?(t+=" - ",r=-r):t.length>0&&(t+=" + "),i===0||r!==1){const l=this.field.log(r);l===0?t+="1":l===1?t+="a":(t+="a^",t+=l)}i!==0&&(i===1?t+="x":(t+="x^",t+=i))}}return t}}class Li extends w{}Li.kind="ArithmeticException";class $e extends On{constructor(t,i,r){super(),this.primitive=t,this.size=i,this.generatorBase=r;const l=new Int32Array(i);let s=1;for(let f=0;f<i;f++)l[f]=s,s*=2,s>=i&&(s^=t,s&=i-1);this.expTable=l;const c=new Int32Array(i);for(let f=0;f<i-1;f++)c[l[f]]=f;this.logTable=c,this.zero=new rn(this,Int32Array.from([0])),this.one=new rn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new M;if(i===0)return this.zero;const r=new Int32Array(t+1);return r[0]=i,new rn(this,r)}inverse(t){if(t===0)throw new Li;return this.expTable[this.size-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+ae.toHexString(this.primitive)+","+this.size+")"}equals(t){return t===this}}$e.AZTEC_DATA_12=new $e(4201,4096,1),$e.AZTEC_DATA_10=new $e(1033,1024,1),$e.AZTEC_DATA_6=new $e(67,64,1),$e.AZTEC_PARAM=new $e(19,16,1),$e.QR_CODE_FIELD_256=new $e(285,256,0),$e.DATA_MATRIX_FIELD_256=new $e(301,256,1),$e.AZTEC_DATA_8=$e.DATA_MATRIX_FIELD_256,$e.MAXICODE_FIELD_64=$e.AZTEC_DATA_6;class Ht extends w{}Ht.kind="ReedSolomonException";class Ut extends w{}Ut.kind="IllegalStateException";class Ui{constructor(t){this.field=t}decode(t,i){const r=this.field,l=new rn(r,t),s=new Int32Array(i);let c=!0;for(let L=0;L<i;L++){const k=l.evaluateAt(r.exp(L+r.getGeneratorBase()));s[s.length-1-L]=k,k!==0&&(c=!1)}if(c)return;const f=new rn(r,s),x=this.runEuclideanAlgorithm(r.buildMonomial(i,1),f,i),y=x[0],A=x[1],T=this.findErrorLocations(y),O=this.findErrorMagnitudes(A,T);for(let L=0;L<T.length;L++){const k=t.length-1-r.log(T[L]);if(k<0)throw new Ht("Bad error location");t[k]=$e.addOrSubtract(t[k],O[L])}}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){const L=t;t=i,i=L}const l=this.field;let s=t,c=i,f=l.getZero(),x=l.getOne();for(;c.getDegree()>=(r/2|0);){let L=s,k=f;if(s=c,f=x,s.isZero())throw new Ht("r_{i-1} was zero");c=L;let F=l.getZero();const V=s.getCoefficient(s.getDegree()),ne=l.inverse(V);for(;c.getDegree()>=s.getDegree()&&!c.isZero();){const Ae=c.getDegree()-s.getDegree(),be=l.multiply(c.getCoefficient(c.getDegree()),ne);F=F.addOrSubtract(l.buildMonomial(Ae,be)),c=c.addOrSubtract(s.multiplyByMonomial(Ae,be))}if(x=F.multiply(f).addOrSubtract(k),c.getDegree()>=s.getDegree())throw new Ut("Division algorithm failed to reduce polynomial?")}const y=x.getCoefficient(0);if(y===0)throw new Ht("sigmaTilde(0) was zero");const A=l.inverse(y),T=x.multiplyScalar(A),O=c.multiplyScalar(A);return[T,O]}findErrorLocations(t){const i=t.getDegree();if(i===1)return Int32Array.from([t.getCoefficient(1)]);const r=new Int32Array(i);let l=0;const s=this.field;for(let c=1;c<s.getSize()&&l<i;c++)t.evaluateAt(c)===0&&(r[l]=s.inverse(c),l++);if(l!==i)throw new Ht("Error locator degree does not match number of roots");return r}findErrorMagnitudes(t,i){const r=i.length,l=new Int32Array(r),s=this.field;for(let c=0;c<r;c++){const f=s.inverse(i[c]);let x=1;for(let y=0;y<r;y++)if(c!==y){const A=s.multiply(i[y],f),T=(A&1)===0?A|1:A&-2;x=s.multiply(x,T)}l[c]=s.multiply(t.evaluateAt(f),s.inverse(x)),s.getGeneratorBase()!==0&&(l[c]=s.multiply(l[c],f))}return l}}var en;(function(v){v[v.UPPER=0]="UPPER",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.DIGIT=3]="DIGIT",v[v.PUNCT=4]="PUNCT",v[v.BINARY=5]="BINARY"})(en||(en={}));class Et{decode(t){this.ddata=t;let i=t.getBits(),r=this.extractBits(i),l=this.correctBits(r),s=Et.convertBoolArrayToByteArray(l),c=Et.getEncodedData(l),f=new Tt(s,c,null,null);return f.setNumBits(l.length),f}static highLevelDecode(t){return this.getEncodedData(t)}static getEncodedData(t){let i=t.length,r=en.UPPER,l=en.UPPER,s="",c=0;for(;c<i;)if(l===en.BINARY){if(i-c<5)break;let f=Et.readCode(t,c,5);if(c+=5,f===0){if(i-c<11)break;f=Et.readCode(t,c,11)+31,c+=11}for(let x=0;x<f;x++){if(i-c<8){c=i;break}const y=Et.readCode(t,c,8);s+=Ce.castAsNonUtf8Char(y),c+=8}l=r}else{let f=l===en.DIGIT?4:5;if(i-c<f)break;let x=Et.readCode(t,c,f);c+=f;let y=Et.getCharacter(l,x);y.startsWith("CTRL_")?(r=l,l=Et.getTable(y.charAt(5)),y.charAt(6)==="L"&&(r=l)):(s+=y,l=r)}return s}static getTable(t){switch(t){case"L":return en.LOWER;case"P":return en.PUNCT;case"M":return en.MIXED;case"D":return en.DIGIT;case"B":return en.BINARY;default:return en.UPPER}}static getCharacter(t,i){switch(t){case en.UPPER:return Et.UPPER_TABLE[i];case en.LOWER:return Et.LOWER_TABLE[i];case en.MIXED:return Et.MIXED_TABLE[i];case en.PUNCT:return Et.PUNCT_TABLE[i];case en.DIGIT:return Et.DIGIT_TABLE[i];default:throw new Ut("Bad table")}}correctBits(t){let i,r;this.ddata.getNbLayers()<=2?(r=6,i=$e.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(r=8,i=$e.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(r=10,i=$e.AZTEC_DATA_10):(r=12,i=$e.AZTEC_DATA_12);let l=this.ddata.getNbDatablocks(),s=t.length/r;if(s<l)throw new P;let c=t.length%r,f=new Int32Array(s);for(let O=0;O<s;O++,c+=r)f[O]=Et.readCode(t,c,r);try{new Ui(i).decode(f,s-l)}catch(O){throw new P(O)}let x=(1<<r)-1,y=0;for(let O=0;O<l;O++){let L=f[O];if(L===0||L===x)throw new P;(L===1||L===x-1)&&y++}let A=new Array(l*r-y),T=0;for(let O=0;O<l;O++){let L=f[O];if(L===1||L===x-1)A.fill(L>1,T,T+r-1),T+=r-1;else for(let k=r-1;k>=0;--k)A[T++]=(L&1<<k)!==0}return A}extractBits(t){let i=this.ddata.isCompact(),r=this.ddata.getNbLayers(),l=(i?11:14)+r*4,s=new Int32Array(l),c=new Array(this.totalBitsInLayer(r,i));if(i)for(let f=0;f<s.length;f++)s[f]=f;else{let f=l+1+2*ae.truncDivision(ae.truncDivision(l,2)-1,15),x=l/2,y=ae.truncDivision(f,2);for(let A=0;A<x;A++){let T=A+ae.truncDivision(A,15);s[x-A-1]=y-T-1,s[x+A]=y+T+1}}for(let f=0,x=0;f<r;f++){let y=(r-f)*4+(i?9:12),A=f*2,T=l-1-A;for(let O=0;O<y;O++){let L=O*2;for(let k=0;k<2;k++)c[x+L+k]=t.get(s[A+k],s[A+O]),c[x+2*y+L+k]=t.get(s[A+O],s[T-k]),c[x+4*y+L+k]=t.get(s[T-k],s[T-O]),c[x+6*y+L+k]=t.get(s[T-O],s[A+k])}x+=y*8}return c}static readCode(t,i,r){let l=0;for(let s=i;s<i+r;s++)l<<=1,t[s]&&(l|=1);return l}static readByte(t,i){let r=t.length-i;return r>=8?Et.readCode(t,i,8):Et.readCode(t,i,r)<<8-r}static convertBoolArrayToByteArray(t){let i=new Uint8Array((t.length+7)/8);for(let r=0;r<i.length;r++)i[r]=Et.readByte(t,8*r);return i}totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}Et.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Et.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Et.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Et.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Et.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ct{constructor(){}static round(t){return t===NaN?0:t<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:t>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:t+(t<0?-.5:.5)|0}static distance(t,i,r,l){const s=t-r,c=i-l;return Math.sqrt(s*s+c*c)}static sum(t){let i=0;for(let r=0,l=t.length;r!==l;r++){const s=t[r];i+=s}return i}}class Ie{static floatToIntBits(t){return t}}Ie.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Te{constructor(t,i){this.x=t,this.y=i}getX(){return this.x}getY(){return this.y}equals(t){if(t instanceof Te){const i=t;return this.x===i.x&&this.y===i.y}return!1}hashCode(){return 31*Ie.floatToIntBits(this.x)+Ie.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(t){const i=this.distance(t[0],t[1]),r=this.distance(t[1],t[2]),l=this.distance(t[0],t[2]);let s,c,f;if(r>=i&&r>=l?(c=t[0],s=t[1],f=t[2]):l>=r&&l>=i?(c=t[1],s=t[0],f=t[2]):(c=t[2],s=t[0],f=t[1]),this.crossProductZ(s,c,f)<0){const x=s;s=f,f=x}t[0]=s,t[1]=c,t[2]=f}static distance(t,i){return ct.distance(t.x,t.y,i.x,i.y)}static crossProductZ(t,i,r){const l=i.x,s=i.y;return(r.x-l)*(t.y-s)-(r.y-s)*(t.x-l)}}class sr{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class ya extends sr{constructor(t,i,r,l,s){super(t,i),this.compact=r,this.nbDatablocks=l,this.nbLayers=s}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Pt{constructor(t,i,r,l){this.image=t,this.height=t.getHeight(),this.width=t.getWidth(),i==null&&(i=Pt.INIT_SIZE),r==null&&(r=t.getWidth()/2|0),l==null&&(l=t.getHeight()/2|0);const s=i/2|0;if(this.leftInit=r-s,this.rightInit=r+s,this.upInit=l-s,this.downInit=l+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new re}detect(){let t=this.leftInit,i=this.rightInit,r=this.upInit,l=this.downInit,s=!1,c=!0,f=!1,x=!1,y=!1,A=!1,T=!1;const O=this.width,L=this.height;for(;c;){c=!1;let k=!0;for(;(k||!x)&&i<O;)k=this.containsBlackPoint(r,l,i,!1),k?(i++,c=!0,x=!0):x||i++;if(i>=O){s=!0;break}let F=!0;for(;(F||!y)&&l<L;)F=this.containsBlackPoint(t,i,l,!0),F?(l++,c=!0,y=!0):y||l++;if(l>=L){s=!0;break}let V=!0;for(;(V||!A)&&t>=0;)V=this.containsBlackPoint(r,l,t,!1),V?(t--,c=!0,A=!0):A||t--;if(t<0){s=!0;break}let ne=!0;for(;(ne||!T)&&r>=0;)ne=this.containsBlackPoint(t,i,r,!0),ne?(r--,c=!0,T=!0):T||r--;if(r<0){s=!0;break}c&&(f=!0)}if(!s&&f){const k=i-t;let F=null;for(let be=1;F===null&&be<k;be++)F=this.getBlackPointOnSegment(t,l-be,t+be,l);if(F==null)throw new re;let V=null;for(let be=1;V===null&&be<k;be++)V=this.getBlackPointOnSegment(t,r+be,t+be,r);if(V==null)throw new re;let ne=null;for(let be=1;ne===null&&be<k;be++)ne=this.getBlackPointOnSegment(i,r+be,i-be,r);if(ne==null)throw new re;let Ae=null;for(let be=1;Ae===null&&be<k;be++)Ae=this.getBlackPointOnSegment(i,l-be,i-be,l);if(Ae==null)throw new re;return this.centerEdges(Ae,F,ne,V)}else throw new re}getBlackPointOnSegment(t,i,r,l){const s=ct.round(ct.distance(t,i,r,l)),c=(r-t)/s,f=(l-i)/s,x=this.image;for(let y=0;y<s;y++){const A=ct.round(t+y*c),T=ct.round(i+y*f);if(x.get(A,T))return new Te(A,T)}return null}centerEdges(t,i,r,l){const s=t.getX(),c=t.getY(),f=i.getX(),x=i.getY(),y=r.getX(),A=r.getY(),T=l.getX(),O=l.getY(),L=Pt.CORR;return s<this.width/2?[new Te(T-L,O+L),new Te(f+L,x+L),new Te(y-L,A-L),new Te(s+L,c-L)]:[new Te(T+L,O+L),new Te(f+L,x-L),new Te(y-L,A+L),new Te(s-L,c-L)]}containsBlackPoint(t,i,r,l){const s=this.image;if(l){for(let c=t;c<=i;c++)if(s.get(c,r))return!0}else for(let c=t;c<=i;c++)if(s.get(r,c))return!0;return!1}}Pt.INIT_SIZE=10,Pt.CORR=1;class Br{static checkAndNudgePoints(t,i){const r=t.getWidth(),l=t.getHeight();let s=!0;for(let c=0;c<i.length&&s;c+=2){const f=Math.floor(i[c]),x=Math.floor(i[c+1]);if(f<-1||f>r||x<-1||x>l)throw new re;s=!1,f===-1?(i[c]=0,s=!0):f===r&&(i[c]=r-1,s=!0),x===-1?(i[c+1]=0,s=!0):x===l&&(i[c+1]=l-1,s=!0)}s=!0;for(let c=i.length-2;c>=0&&s;c-=2){const f=Math.floor(i[c]),x=Math.floor(i[c+1]);if(f<-1||f>r||x<-1||x>l)throw new re;s=!1,f===-1?(i[c]=0,s=!0):f===r&&(i[c]=r-1,s=!0),x===-1?(i[c+1]=0,s=!0):x===l&&(i[c+1]=l-1,s=!0)}}}class Fn{constructor(t,i,r,l,s,c,f,x,y){this.a11=t,this.a21=i,this.a31=r,this.a12=l,this.a22=s,this.a32=c,this.a13=f,this.a23=x,this.a33=y}static quadrilateralToQuadrilateral(t,i,r,l,s,c,f,x,y,A,T,O,L,k,F,V){const ne=Fn.quadrilateralToSquare(t,i,r,l,s,c,f,x);return Fn.squareToQuadrilateral(y,A,T,O,L,k,F,V).times(ne)}transformPoints(t){const i=t.length,r=this.a11,l=this.a12,s=this.a13,c=this.a21,f=this.a22,x=this.a23,y=this.a31,A=this.a32,T=this.a33;for(let O=0;O<i;O+=2){const L=t[O],k=t[O+1],F=s*L+x*k+T;t[O]=(r*L+c*k+y)/F,t[O+1]=(l*L+f*k+A)/F}}transformPointsWithValues(t,i){const r=this.a11,l=this.a12,s=this.a13,c=this.a21,f=this.a22,x=this.a23,y=this.a31,A=this.a32,T=this.a33,O=t.length;for(let L=0;L<O;L++){const k=t[L],F=i[L],V=s*k+x*F+T;t[L]=(r*k+c*F+y)/V,i[L]=(l*k+f*F+A)/V}}static squareToQuadrilateral(t,i,r,l,s,c,f,x){const y=t-r+s-f,A=i-l+c-x;if(y===0&&A===0)return new Fn(r-t,s-r,t,l-i,c-l,i,0,0,1);{const T=r-s,O=f-s,L=l-c,k=x-c,F=T*k-O*L,V=(y*k-O*A)/F,ne=(T*A-y*L)/F;return new Fn(r-t+V*r,f-t+ne*f,t,l-i+V*l,x-i+ne*x,i,V,ne,1)}}static quadrilateralToSquare(t,i,r,l,s,c,f,x){return Fn.squareToQuadrilateral(t,i,r,l,s,c,f,x).buildAdjoint()}buildAdjoint(){return new Fn(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(t){return new Fn(this.a11*t.a11+this.a21*t.a12+this.a31*t.a13,this.a11*t.a21+this.a21*t.a22+this.a31*t.a23,this.a11*t.a31+this.a21*t.a32+this.a31*t.a33,this.a12*t.a11+this.a22*t.a12+this.a32*t.a13,this.a12*t.a21+this.a22*t.a22+this.a32*t.a23,this.a12*t.a31+this.a22*t.a32+this.a32*t.a33,this.a13*t.a11+this.a23*t.a12+this.a33*t.a13,this.a13*t.a21+this.a23*t.a22+this.a33*t.a23,this.a13*t.a31+this.a23*t.a32+this.a33*t.a33)}}class Ea extends Br{sampleGrid(t,i,r,l,s,c,f,x,y,A,T,O,L,k,F,V,ne,Ae,be){const pe=Fn.quadrilateralToQuadrilateral(l,s,c,f,x,y,A,T,O,L,k,F,V,ne,Ae,be);return this.sampleGridWithTransform(t,i,r,pe)}sampleGridWithTransform(t,i,r,l){if(i<=0||r<=0)throw new re;const s=new Je(i,r),c=new Float32Array(2*i);for(let f=0;f<r;f++){const x=c.length,y=f+.5;for(let A=0;A<x;A+=2)c[A]=A/2+.5,c[A+1]=y;l.transformPoints(c),Br.checkAndNudgePoints(t,c);try{for(let A=0;A<x;A+=2)t.get(Math.floor(c[A]),Math.floor(c[A+1]))&&s.set(A/2,f)}catch{throw new re}}return s}}class Pn{static setGridSampler(t){Pn.gridSampler=t}static getInstance(){return Pn.gridSampler}}Pn.gridSampler=new Ea;class Sn{constructor(t,i){this.x=t,this.y=i}toResultPoint(){return new Te(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ba{constructor(t){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=t}detect(){return this.detectMirror(!1)}detectMirror(t){let i=this.getMatrixCenter(),r=this.getBullsEyeCorners(i);if(t){let c=r[0];r[0]=r[2],r[2]=c}this.extractParameters(r);let l=this.sampleGrid(this.image,r[this.shift%4],r[(this.shift+1)%4],r[(this.shift+2)%4],r[(this.shift+3)%4]),s=this.getMatrixCornerPoints(r);return new ya(l,s,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(t){if(!this.isValidPoint(t[0])||!this.isValidPoint(t[1])||!this.isValidPoint(t[2])||!this.isValidPoint(t[3]))throw new re;let i=2*this.nbCenterLayers,r=new Int32Array([this.sampleLine(t[0],t[1],i),this.sampleLine(t[1],t[2],i),this.sampleLine(t[2],t[3],i),this.sampleLine(t[3],t[0],i)]);this.shift=this.getRotation(r,i);let l=0;for(let c=0;c<4;c++){let f=r[(this.shift+c)%4];this.compact?(l<<=7,l+=f>>1&127):(l<<=10,l+=(f>>2&992)+(f>>1&31))}let s=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(s>>6)+1,this.nbDataBlocks=(s&63)+1):(this.nbLayers=(s>>11)+1,this.nbDataBlocks=(s&2047)+1)}getRotation(t,i){let r=0;t.forEach((l,s,c)=>{let f=(l>>i-2<<1)+(l&1);r=(r<<3)+f}),r=((r&1)<<11)+(r>>1);for(let l=0;l<4;l++)if(ae.bitCount(r^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new re}getCorrectedParameterData(t,i){let r,l;i?(r=7,l=2):(r=10,l=4);let s=r-l,c=new Int32Array(r);for(let x=r-1;x>=0;--x)c[x]=t&15,t>>=4;try{new Ui($e.AZTEC_PARAM).decode(c,s)}catch{throw new re}let f=0;for(let x=0;x<l;x++)f=(f<<4)+c[x];return f}getBullsEyeCorners(t){let i=t,r=t,l=t,s=t,c=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let T=this.getFirstDifferent(i,c,1,-1),O=this.getFirstDifferent(r,c,1,1),L=this.getFirstDifferent(l,c,-1,1),k=this.getFirstDifferent(s,c,-1,-1);if(this.nbCenterLayers>2){let F=this.distancePoint(k,T)*this.nbCenterLayers/(this.distancePoint(s,i)*(this.nbCenterLayers+2));if(F<.75||F>1.25||!this.isWhiteOrBlackRectangle(T,O,L,k))break}i=T,r=O,l=L,s=k,c=!c}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new re;this.compact=this.nbCenterLayers===5;let f=new Te(i.getX()+.5,i.getY()-.5),x=new Te(r.getX()+.5,r.getY()+.5),y=new Te(l.getX()-.5,l.getY()+.5),A=new Te(s.getX()-.5,s.getY()-.5);return this.expandSquare([f,x,y,A],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let t,i,r,l;try{let f=new Pt(this.image).detect();t=f[0],i=f[1],r=f[2],l=f[3]}catch{let x=this.image.getWidth()/2,y=this.image.getHeight()/2;t=this.getFirstDifferent(new Sn(x+7,y-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Sn(x+7,y+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Sn(x-7,y+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Sn(x-7,y-7),!1,-1,-1).toResultPoint()}let s=ct.round((t.getX()+l.getX()+i.getX()+r.getX())/4),c=ct.round((t.getY()+l.getY()+i.getY()+r.getY())/4);try{let f=new Pt(this.image,15,s,c).detect();t=f[0],i=f[1],r=f[2],l=f[3]}catch{t=this.getFirstDifferent(new Sn(s+7,c-7),!1,1,-1).toResultPoint(),i=this.getFirstDifferent(new Sn(s+7,c+7),!1,1,1).toResultPoint(),r=this.getFirstDifferent(new Sn(s-7,c+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Sn(s-7,c-7),!1,-1,-1).toResultPoint()}return s=ct.round((t.getX()+l.getX()+i.getX()+r.getX())/4),c=ct.round((t.getY()+l.getY()+i.getY()+r.getY())/4),new Sn(s,c)}getMatrixCornerPoints(t){return this.expandSquare(t,2*this.nbCenterLayers,this.getDimension())}sampleGrid(t,i,r,l,s){let c=Pn.getInstance(),f=this.getDimension(),x=f/2-this.nbCenterLayers,y=f/2+this.nbCenterLayers;return c.sampleGrid(t,f,f,x,x,y,x,y,y,x,y,i.getX(),i.getY(),r.getX(),r.getY(),l.getX(),l.getY(),s.getX(),s.getY())}sampleLine(t,i,r){let l=0,s=this.distanceResultPoint(t,i),c=s/r,f=t.getX(),x=t.getY(),y=c*(i.getX()-t.getX())/s,A=c*(i.getY()-t.getY())/s;for(let T=0;T<r;T++)this.image.get(ct.round(f+T*y),ct.round(x+T*A))&&(l|=1<<r-T-1);return l}isWhiteOrBlackRectangle(t,i,r,l){let s=3;t=new Sn(t.getX()-s,t.getY()+s),i=new Sn(i.getX()-s,i.getY()-s),r=new Sn(r.getX()+s,r.getY()-s),l=new Sn(l.getX()+s,l.getY()+s);let c=this.getColor(l,t);if(c===0)return!1;let f=this.getColor(t,i);return f!==c||(f=this.getColor(i,r),f!==c)?!1:(f=this.getColor(r,l),f===c)}getColor(t,i){let r=this.distancePoint(t,i),l=(i.getX()-t.getX())/r,s=(i.getY()-t.getY())/r,c=0,f=t.getX(),x=t.getY(),y=this.image.get(t.getX(),t.getY()),A=Math.ceil(r);for(let O=0;O<A;O++)f+=l,x+=s,this.image.get(ct.round(f),ct.round(x))!==y&&c++;let T=c/r;return T>.1&&T<.9?0:T<=.1===y?1:-1}getFirstDifferent(t,i,r,l){let s=t.getX()+r,c=t.getY()+l;for(;this.isValid(s,c)&&this.image.get(s,c)===i;)s+=r,c+=l;for(s-=r,c-=l;this.isValid(s,c)&&this.image.get(s,c)===i;)s+=r;for(s-=r;this.isValid(s,c)&&this.image.get(s,c)===i;)c+=l;return c-=l,new Sn(s,c)}expandSquare(t,i,r){let l=r/(2*i),s=t[0].getX()-t[2].getX(),c=t[0].getY()-t[2].getY(),f=(t[0].getX()+t[2].getX())/2,x=(t[0].getY()+t[2].getY())/2,y=new Te(f+l*s,x+l*c),A=new Te(f-l*s,x-l*c);s=t[1].getX()-t[3].getX(),c=t[1].getY()-t[3].getY(),f=(t[1].getX()+t[3].getX())/2,x=(t[1].getY()+t[3].getY())/2;let T=new Te(f+l*s,x+l*c),O=new Te(f-l*s,x-l*c);return[y,T,A,O]}isValid(t,i){return t>=0&&t<this.image.getWidth()&&i>0&&i<this.image.getHeight()}isValidPoint(t){let i=ct.round(t.getX()),r=ct.round(t.getY());return this.isValid(i,r)}distancePoint(t,i){return ct.distance(t.getX(),t.getY(),i.getX(),i.getY())}distanceResultPoint(t,i){return ct.distance(t.getX(),t.getY(),i.getX(),i.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(ae.truncDivision(this.nbLayers-4,8)+1)+15}}class or{decode(t,i=null){let r=null,l=new ba(t.getBlackMatrix()),s=null,c=null;try{let A=l.detectMirror(!1);s=A.getPoints(),this.reportFoundResultPoints(i,s),c=new Et().decode(A)}catch(A){r=A}if(c==null)try{let A=l.detectMirror(!0);s=A.getPoints(),this.reportFoundResultPoints(i,s),c=new Et().decode(A)}catch(A){throw r??A}let f=new me(c.getText(),c.getRawBytes(),c.getNumBits(),s,ye.AZTEC,Z.currentTimeMillis()),x=c.getByteSegments();x!=null&&f.putMetadata(tt.BYTE_SEGMENTS,x);let y=c.getECLevel();return y!=null&&f.putMetadata(tt.ERROR_CORRECTION_LEVEL,y),f}reportFoundResultPoints(t,i){if(t!=null){let r=t.get(Me.NEED_RESULT_POINT_CALLBACK);r!=null&&i.forEach((l,s,c)=>{r.foundPossibleResultPoint(l)})}}reset(){}}class Pl extends ve{constructor(t=500){super(new or,t)}}class kt{decode(t,i){try{return this.doDecode(t,i)}catch{if(i&&i.get(Me.TRY_HARDER)===!0&&t.isRotateSupported()){const s=t.rotateCounterClockwise(),c=this.doDecode(s,i),f=c.getResultMetadata();let x=270;f!==null&&f.get(tt.ORIENTATION)===!0&&(x=x+f.get(tt.ORIENTATION)%360),c.putMetadata(tt.ORIENTATION,x);const y=c.getResultPoints();if(y!==null){const A=s.getHeight();for(let T=0;T<y.length;T++)y[T]=new Te(A-y[T].getY()-1,y[T].getX())}return c}else throw new re}}reset(){}doDecode(t,i){const r=t.getWidth(),l=t.getHeight();let s=new ce(r);const c=i&&i.get(Me.TRY_HARDER)===!0,f=Math.max(1,l>>(c?8:5));let x;c?x=l:x=15;const y=Math.trunc(l/2);for(let A=0;A<x;A++){const T=Math.trunc((A+1)/2),O=(A&1)===0,L=y+f*(O?T:-T);if(L<0||L>=l)break;try{s=t.getBlackRow(L,s)}catch{continue}for(let k=0;k<2;k++){if(k===1&&(s.reverse(),i&&i.get(Me.NEED_RESULT_POINT_CALLBACK)===!0)){const F=new Map;i.forEach((V,ne)=>F.set(ne,V)),F.delete(Me.NEED_RESULT_POINT_CALLBACK),i=F}try{const F=this.decodeRow(L,s,i);if(k===1){F.putMetadata(tt.ORIENTATION,180);const V=F.getResultPoints();V!==null&&(V[0]=new Te(r-V[0].getX()-1,V[0].getY()),V[1]=new Te(r-V[1].getX()-1,V[1].getY()))}return F}catch{}}}throw new re}static recordPattern(t,i,r){const l=r.length;for(let y=0;y<l;y++)r[y]=0;const s=t.getSize();if(i>=s)throw new re;let c=!t.get(i),f=0,x=i;for(;x<s;){if(t.get(x)!==c)r[f]++;else{if(++f===l)break;r[f]=1,c=!c}x++}if(!(f===l||f===l-1&&x===s))throw new re}static recordPatternInReverse(t,i,r){let l=r.length,s=t.get(i);for(;i>0&&l>=0;)t.get(--i)!==s&&(l--,s=!s);if(l>=0)throw new re;kt.recordPattern(t,i+1,r)}static patternMatchVariance(t,i,r){const l=t.length;let s=0,c=0;for(let y=0;y<l;y++)s+=t[y],c+=i[y];if(s<c)return Number.POSITIVE_INFINITY;const f=s/c;r*=f;let x=0;for(let y=0;y<l;y++){const A=t[y],T=i[y]*f,O=A>T?A-T:T-A;if(O>r)return Number.POSITIVE_INFINITY;x+=O}return x/s}}class we extends kt{static findStartPattern(t){const i=t.getSize(),r=t.getNextSet(0);let l=0,s=Int32Array.from([0,0,0,0,0,0]),c=r,f=!1;const x=6;for(let y=r;y<i;y++)if(t.get(y)!==f)s[l]++;else{if(l===x-1){let A=we.MAX_AVG_VARIANCE,T=-1;for(let O=we.CODE_START_A;O<=we.CODE_START_C;O++){const L=kt.patternMatchVariance(s,we.CODE_PATTERNS[O],we.MAX_INDIVIDUAL_VARIANCE);L<A&&(A=L,T=O)}if(T>=0&&t.isRange(Math.max(0,c-(y-c)/2),c,!1))return Int32Array.from([c,y,T]);c+=s[0]+s[1],s=s.slice(2,s.length-1),s[l-1]=0,s[l]=0,l--}else l++;s[l]=1,f=!f}throw new re}static decodeCode(t,i,r){kt.recordPattern(t,r,i);let l=we.MAX_AVG_VARIANCE,s=-1;for(let c=0;c<we.CODE_PATTERNS.length;c++){const f=we.CODE_PATTERNS[c],x=this.patternMatchVariance(i,f,we.MAX_INDIVIDUAL_VARIANCE);x<l&&(l=x,s=c)}if(s>=0)return s;throw new re}decodeRow(t,i,r){const l=r&&r.get(Me.ASSUME_GS1)===!0,s=we.findStartPattern(i),c=s[2];let f=0;const x=new Uint8Array(20);x[f++]=c;let y;switch(c){case we.CODE_START_A:y=we.CODE_CODE_A;break;case we.CODE_START_B:y=we.CODE_CODE_B;break;case we.CODE_START_C:y=we.CODE_CODE_C;break;default:throw new P}let A=!1,T=!1,O="",L=s[0],k=s[1];const F=Int32Array.from([0,0,0,0,0,0]);let V=0,ne=0,Ae=c,be=0,pe=!0,lt=!1,Ke=!1;for(;!A;){const xr=T;switch(T=!1,V=ne,ne=we.decodeCode(i,F,k),x[f++]=ne,ne!==we.CODE_STOP&&(pe=!0),ne!==we.CODE_STOP&&(be++,Ae+=be*ne),L=k,k+=F.reduce((so,$l)=>so+$l,0),ne){case we.CODE_START_A:case we.CODE_START_B:case we.CODE_START_C:throw new P}switch(y){case we.CODE_CODE_A:if(ne<64)Ke===lt?O+=String.fromCharCode(32+ne):O+=String.fromCharCode(32+ne+128),Ke=!1;else if(ne<96)Ke===lt?O+=String.fromCharCode(ne-64):O+=String.fromCharCode(ne+64),Ke=!1;else switch(ne!==we.CODE_STOP&&(pe=!1),ne){case we.CODE_FNC_1:l&&(O.length===0?O+="]C1":O+="");break;case we.CODE_FNC_2:case we.CODE_FNC_3:break;case we.CODE_FNC_4_A:!lt&&Ke?(lt=!0,Ke=!1):lt&&Ke?(lt=!1,Ke=!1):Ke=!0;break;case we.CODE_SHIFT:T=!0,y=we.CODE_CODE_B;break;case we.CODE_CODE_B:y=we.CODE_CODE_B;break;case we.CODE_CODE_C:y=we.CODE_CODE_C;break;case we.CODE_STOP:A=!0;break}break;case we.CODE_CODE_B:if(ne<96)Ke===lt?O+=String.fromCharCode(32+ne):O+=String.fromCharCode(32+ne+128),Ke=!1;else switch(ne!==we.CODE_STOP&&(pe=!1),ne){case we.CODE_FNC_1:l&&(O.length===0?O+="]C1":O+="");break;case we.CODE_FNC_2:case we.CODE_FNC_3:break;case we.CODE_FNC_4_B:!lt&&Ke?(lt=!0,Ke=!1):lt&&Ke?(lt=!1,Ke=!1):Ke=!0;break;case we.CODE_SHIFT:T=!0,y=we.CODE_CODE_A;break;case we.CODE_CODE_A:y=we.CODE_CODE_A;break;case we.CODE_CODE_C:y=we.CODE_CODE_C;break;case we.CODE_STOP:A=!0;break}break;case we.CODE_CODE_C:if(ne<100)ne<10&&(O+="0"),O+=ne;else switch(ne!==we.CODE_STOP&&(pe=!1),ne){case we.CODE_FNC_1:l&&(O.length===0?O+="]C1":O+="");break;case we.CODE_CODE_A:y=we.CODE_CODE_A;break;case we.CODE_CODE_B:y=we.CODE_CODE_B;break;case we.CODE_STOP:A=!0;break}break}xr&&(y=y===we.CODE_CODE_A?we.CODE_CODE_B:we.CODE_CODE_A)}const sn=k-L;if(k=i.getNextUnset(k),!i.isRange(k,Math.min(i.getSize(),k+(k-L)/2),!1))throw new re;if(Ae-=be*V,Ae%103!==V)throw new $;const $n=O.length;if($n===0)throw new re;$n>0&&pe&&(y===we.CODE_CODE_C?O=O.substring(0,$n-2):O=O.substring(0,$n-1));const Mn=(s[1]+s[0])/2,Dt=L+sn/2,Rn=x.length,qn=new Uint8Array(Rn);for(let xr=0;xr<Rn;xr++)qn[xr]=x[xr];const qr=[new Te(Mn,t),new Te(Dt,t)];return new me(O,qn,0,qr,ye.CODE_128,new Date().getTime())}}we.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],we.MAX_AVG_VARIANCE=.25,we.MAX_INDIVIDUAL_VARIANCE=.7,we.CODE_SHIFT=98,we.CODE_CODE_C=99,we.CODE_CODE_B=100,we.CODE_CODE_A=101,we.CODE_FNC_1=102,we.CODE_FNC_2=97,we.CODE_FNC_3=96,we.CODE_FNC_4_A=101,we.CODE_FNC_4_B=100,we.CODE_START_A=103,we.CODE_START_B=104,we.CODE_START_C=105,we.CODE_STOP=106;class Se extends kt{constructor(t=!1,i=!1){super(),this.usingCheckDigit=t,this.extendedMode=i,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(t,i,r){let l=this.counters;l.fill(0),this.decodeRowResult="";let s=Se.findAsteriskPattern(i,l),c=i.getNextSet(s[1]),f=i.getSize(),x,y;do{Se.recordPattern(i,c,l);let F=Se.toNarrowWidePattern(l);if(F<0)throw new re;x=Se.patternToChar(F),this.decodeRowResult+=x,y=c;for(let V of l)c+=V;c=i.getNextSet(c)}while(x!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let A=0;for(let F of l)A+=F;let T=c-y-A;if(c!==f&&T*2<A)throw new re;if(this.usingCheckDigit){let F=this.decodeRowResult.length-1,V=0;for(let ne=0;ne<F;ne++)V+=Se.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(ne));if(this.decodeRowResult.charAt(F)!==Se.ALPHABET_STRING.charAt(V%43))throw new $;this.decodeRowResult=this.decodeRowResult.substring(0,F)}if(this.decodeRowResult.length===0)throw new re;let O;this.extendedMode?O=Se.decodeExtended(this.decodeRowResult):O=this.decodeRowResult;let L=(s[1]+s[0])/2,k=y+A/2;return new me(O,null,0,[new Te(L,t),new Te(k,t)],ye.CODE_39,new Date().getTime())}static findAsteriskPattern(t,i){let r=t.getSize(),l=t.getNextSet(0),s=0,c=l,f=!1,x=i.length;for(let y=l;y<r;y++)if(t.get(y)!==f)i[s]++;else{if(s===x-1){if(this.toNarrowWidePattern(i)===Se.ASTERISK_ENCODING&&t.isRange(Math.max(0,c-Math.floor((y-c)/2)),c,!1))return[c,y];c+=i[0]+i[1],i.copyWithin(0,2,2+s-1),i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,f=!f}throw new re}static toNarrowWidePattern(t){let i=t.length,r=0,l;do{let s=2147483647;for(let x of t)x<s&&x>r&&(s=x);r=s,l=0;let c=0,f=0;for(let x=0;x<i;x++){let y=t[x];y>r&&(f|=1<<i-1-x,l++,c+=y)}if(l===3){for(let x=0;x<i&&l>0;x++){let y=t[x];if(y>r&&(l--,y*2>=c))return-1}return f}}while(l>3);return-1}static patternToChar(t){for(let i=0;i<Se.CHARACTER_ENCODINGS.length;i++)if(Se.CHARACTER_ENCODINGS[i]===t)return Se.ALPHABET_STRING.charAt(i);if(t===Se.ASTERISK_ENCODING)return"*";throw new re}static decodeExtended(t){let i=t.length,r="";for(let l=0;l<i;l++){let s=t.charAt(l);if(s==="+"||s==="$"||s==="%"||s==="/"){let c=t.charAt(l+1),f="\0";switch(s){case"+":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)+32);else throw new P;break;case"$":if(c>="A"&&c<="Z")f=String.fromCharCode(c.charCodeAt(0)-64);else throw new P;break;case"%":if(c>="A"&&c<="E")f=String.fromCharCode(c.charCodeAt(0)-38);else if(c>="F"&&c<="J")f=String.fromCharCode(c.charCodeAt(0)-11);else if(c>="K"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)+16);else if(c>="P"&&c<="T")f=String.fromCharCode(c.charCodeAt(0)+43);else if(c==="U")f="\0";else if(c==="V")f="@";else if(c==="W")f="`";else if(c==="X"||c==="Y"||c==="Z")f="";else throw new P;break;case"/":if(c>="A"&&c<="O")f=String.fromCharCode(c.charCodeAt(0)-32);else if(c==="Z")f=":";else throw new P;break}r+=f,l++}else r+=s}return r}}Se.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Se.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Se.ASTERISK_ENCODING=148;class Ne extends kt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(t,i,r){let l=this.decodeStart(i),s=this.decodeEnd(i),c=new je;Ne.decodeMiddle(i,l[1],s[0],c);let f=c.toString(),x=null;r!=null&&(x=r.get(Me.ALLOWED_LENGTHS)),x==null&&(x=Ne.DEFAULT_ALLOWED_LENGTHS);let y=f.length,A=!1,T=0;for(let k of x){if(y===k){A=!0;break}k>T&&(T=k)}if(!A&&y>T&&(A=!0),!A)throw new P;const O=[new Te(l[1],t),new Te(s[0],t)];return new me(f,null,0,O,ye.ITF,new Date().getTime())}static decodeMiddle(t,i,r,l){let s=new Int32Array(10),c=new Int32Array(5),f=new Int32Array(5);for(s.fill(0),c.fill(0),f.fill(0);i<r;){kt.recordPattern(t,i,s);for(let y=0;y<5;y++){let A=2*y;c[y]=s[A],f[y]=s[A+1]}let x=Ne.decodeDigit(c);l.append(x.toString()),x=this.decodeDigit(f),l.append(x.toString()),s.forEach(function(y){i+=y})}}decodeStart(t){let i=Ne.skipWhiteSpace(t),r=Ne.findGuardPattern(t,i,Ne.START_PATTERN);return this.narrowLineWidth=(r[1]-r[0])/4,this.validateQuietZone(t,r[0]),r}validateQuietZone(t,i){let r=this.narrowLineWidth*10;r=r<i?r:i;for(let l=i-1;r>0&&l>=0&&!t.get(l);l--)r--;if(r!==0)throw new re}static skipWhiteSpace(t){const i=t.getSize(),r=t.getNextSet(0);if(r===i)throw new re;return r}decodeEnd(t){t.reverse();try{let i=Ne.skipWhiteSpace(t),r;try{r=Ne.findGuardPattern(t,i,Ne.END_PATTERN_REVERSED[0])}catch(s){s instanceof re&&(r=Ne.findGuardPattern(t,i,Ne.END_PATTERN_REVERSED[1]))}this.validateQuietZone(t,r[0]);let l=r[0];return r[0]=t.getSize()-r[1],r[1]=t.getSize()-l,r}finally{t.reverse()}}static findGuardPattern(t,i,r){let l=r.length,s=new Int32Array(l),c=t.getSize(),f=!1,x=0,y=i;s.fill(0);for(let A=i;A<c;A++)if(t.get(A)!==f)s[x]++;else{if(x===l-1){if(kt.patternMatchVariance(s,r,Ne.MAX_INDIVIDUAL_VARIANCE)<Ne.MAX_AVG_VARIANCE)return[y,A];y+=s[0]+s[1],Z.arraycopy(s,2,s,0,x-1),s[x-1]=0,s[x]=0,x--}else x++;s[x]=1,f=!f}throw new re}static decodeDigit(t){let i=Ne.MAX_AVG_VARIANCE,r=-1,l=Ne.PATTERNS.length;for(let s=0;s<l;s++){let c=Ne.PATTERNS[s],f=kt.patternMatchVariance(t,c,Ne.MAX_INDIVIDUAL_VARIANCE);f<i?(i=f,r=s):f===i&&(r=-1)}if(r>=0)return r%10;throw new re}}Ne.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Ne.MAX_AVG_VARIANCE=.38,Ne.MAX_INDIVIDUAL_VARIANCE=.5,Ne.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Ne.START_PATTERN=Int32Array.from([1,1,1,1]),Ne.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ze extends kt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(t){let i=!1,r,l=0,s=Int32Array.from([0,0,0]);for(;!i;){s=Int32Array.from([0,0,0]),r=ze.findGuardPattern(t,l,!1,this.START_END_PATTERN,s);let c=r[0];l=r[1];let f=c-(l-c);f>=0&&(i=t.isRange(f,c,!1))}return r}static checkChecksum(t){return ze.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return ze.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let l=i-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new P;r+=s}r*=3;for(let l=i-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new P;r+=s}return(1e3-r)%10}static decodeEnd(t,i){return ze.findGuardPattern(t,i,!1,ze.START_END_PATTERN,new Int32Array(ze.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(t,i,r,l){return this.findGuardPattern(t,i,r,l,new Int32Array(l.length))}static findGuardPattern(t,i,r,l,s){let c=t.getSize();i=r?t.getNextUnset(i):t.getNextSet(i);let f=0,x=i,y=l.length,A=r;for(let T=i;T<c;T++)if(t.get(T)!==A)s[f]++;else{if(f===y-1){if(kt.patternMatchVariance(s,l,ze.MAX_INDIVIDUAL_VARIANCE)<ze.MAX_AVG_VARIANCE)return Int32Array.from([x,T]);x+=s[0]+s[1];let O=s.slice(2,s.length-1);for(let L=0;L<f-1;L++)s[L]=O[L];s[f-1]=0,s[f]=0,f--}else f++;s[f]=1,A=!A}throw new re}static decodeDigit(t,i,r,l){this.recordPattern(t,r,i);let s=this.MAX_AVG_VARIANCE,c=-1,f=l.length;for(let x=0;x<f;x++){let y=l[x],A=kt.patternMatchVariance(i,y,ze.MAX_INDIVIDUAL_VARIANCE);A<s&&(s=A,c=x)}if(c>=0)return c;throw new re}}ze.MAX_AVG_VARIANCE=.48,ze.MAX_INDIVIDUAL_VARIANCE=.7,ze.START_END_PATTERN=Int32Array.from([1,1,1]),ze.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ze.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ze.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class pn{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(i,r,l),c=l.toString(),f=pn.parseExtensionString(c),x=[new Te((r[0]+r[1])/2,t),new Te(s,t)],y=new me(c,null,0,x,ye.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&y.putAllMetadata(f),y}decodeMiddle(t,i,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=i[1],f=0;for(let y=0;y<5&&c<s;y++){let A=ze.decodeDigit(t,l,c,ze.L_AND_G_PATTERNS);r+=String.fromCharCode(48+A%10);for(let T of l)c+=T;A>=10&&(f|=1<<4-y),y!==4&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(r.length!==5)throw new re;let x=this.determineCheckDigit(f);if(pn.extensionChecksum(r.toString())!==x)throw new re;return c}static extensionChecksum(t){let i=t.length,r=0;for(let l=i-2;l>=0;l-=2)r+=t.charAt(l).charCodeAt(0)-48;r*=3;for(let l=i-1;l>=0;l-=2)r+=t.charAt(l).charCodeAt(0)-48;return r*=3,r%10}determineCheckDigit(t){for(let i=0;i<10;i++)if(t===this.CHECK_DIGIT_ENCODINGS[i])return i;throw new re}static parseExtensionString(t){if(t.length!==5)return null;let i=pn.parseExtension5String(t);return i==null?null:new Map([[tt.SUGGESTED_PRICE,i]])}static parseExtension5String(t){let i;switch(t.charAt(0)){case"0":i="";break;case"5":i="$";break;case"9":switch(t){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}i="";break;default:i="";break}let r=parseInt(t.substring(1)),l=(r/100).toString(),s=r%100,c=s<10?"0"+s:s.toString();return i+l+"."+c}}class At{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(t,i,r){let l=this.decodeRowStringBuffer,s=this.decodeMiddle(i,r,l),c=l.toString(),f=At.parseExtensionString(c),x=[new Te((r[0]+r[1])/2,t),new Te(s,t)],y=new me(c,null,0,x,ye.UPC_EAN_EXTENSION,new Date().getTime());return f!=null&&y.putAllMetadata(f),y}decodeMiddle(t,i,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=i[1],f=0;for(let x=0;x<2&&c<s;x++){let y=ze.decodeDigit(t,l,c,ze.L_AND_G_PATTERNS);r+=String.fromCharCode(48+y%10);for(let A of l)c+=A;y>=10&&(f|=1<<1-x),x!==1&&(c=t.getNextSet(c),c=t.getNextUnset(c))}if(r.length!==2)throw new re;if(parseInt(r.toString())%4!==f)throw new re;return c}static parseExtensionString(t){return t.length!==2?null:new Map([[tt.ISSUE_NUMBER,parseInt(t)]])}}class wa{static decodeRow(t,i,r){let l=ze.findGuardPattern(i,r,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new pn().decodeRow(t,i,l)}catch{return new At().decodeRow(t,i,l)}}}wa.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class gt extends ze{constructor(){super(),this.decodeRowStringBuffer="",gt.L_AND_G_PATTERNS=gt.L_PATTERNS.map(t=>Int32Array.from(t));for(let t=10;t<20;t++){let i=gt.L_PATTERNS[t-10],r=new Int32Array(i.length);for(let l=0;l<i.length;l++)r[l]=i[i.length-l-1];gt.L_AND_G_PATTERNS[t]=r}}decodeRow(t,i,r){let l=gt.findStartGuardPattern(i),s=r==null?null:r.get(Me.NEED_RESULT_POINT_CALLBACK);if(s!=null){const pe=new Te((l[0]+l[1])/2,t);s.foundPossibleResultPoint(pe)}let c=this.decodeMiddle(i,l,this.decodeRowStringBuffer),f=c.rowOffset,x=c.resultString;if(s!=null){const pe=new Te(f,t);s.foundPossibleResultPoint(pe)}let y=this.decodeEnd(i,f);if(s!=null){const pe=new Te((y[0]+y[1])/2,t);s.foundPossibleResultPoint(pe)}let A=y[1],T=A+(A-y[0]);if(T>=i.getSize()||!i.isRange(A,T,!1))throw new re;let O=x.toString();if(O.length<8)throw new P;if(!gt.checkChecksum(O))throw new $;let L=(l[1]+l[0])/2,k=(y[1]+y[0])/2,F=this.getBarcodeFormat(),V=[new Te(L,t),new Te(k,t)],ne=new me(O,null,0,V,F,new Date().getTime()),Ae=0;try{let pe=wa.decodeRow(t,i,y[1]);ne.putMetadata(tt.UPC_EAN_EXTENSION,pe.getText()),ne.putAllMetadata(pe.getResultMetadata()),ne.addResultPoints(pe.getResultPoints()),Ae=pe.getText().length}catch{}let be=r==null?null:r.get(Me.ALLOWED_EAN_EXTENSIONS);if(be!=null){let pe=!1;for(let lt in be)if(Ae.toString()===lt){pe=!0;break}if(!pe)throw new re}return ne}decodeEnd(t,i){return gt.findGuardPattern(t,i,!1,gt.START_END_PATTERN,new Int32Array(gt.START_END_PATTERN.length).fill(0))}static checkChecksum(t){return gt.checkStandardUPCEANChecksum(t)}static checkStandardUPCEANChecksum(t){let i=t.length;if(i===0)return!1;let r=parseInt(t.charAt(i-1),10);return gt.getStandardUPCEANChecksum(t.substring(0,i-1))===r}static getStandardUPCEANChecksum(t){let i=t.length,r=0;for(let l=i-1;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new P;r+=s}r*=3;for(let l=i-2;l>=0;l-=2){let s=t.charAt(l).charCodeAt(0)-48;if(s<0||s>9)throw new P;r+=s}return(1e3-r)%10}}class wi extends gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){let l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=i[1],f=0;for(let y=0;y<6&&c<s;y++){let A=gt.decodeDigit(t,l,c,gt.L_AND_G_PATTERNS);r+=String.fromCharCode(48+A%10);for(let T of l)c+=T;A>=10&&(f|=1<<5-y)}r=wi.determineFirstDigit(r,f),c=gt.findGuardPattern(t,c,!0,gt.MIDDLE_PATTERN,new Int32Array(gt.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<6&&c<s;y++){let A=gt.decodeDigit(t,l,c,gt.L_PATTERNS);r+=String.fromCharCode(48+A);for(let T of l)c+=T}return{rowOffset:c,resultString:r}}getBarcodeFormat(){return ye.EAN_13}static determineFirstDigit(t,i){for(let r=0;r<10;r++)if(i===this.FIRST_DIGIT_ENCODINGS[r])return t=String.fromCharCode(48+r)+t,t;throw new re}}wi.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Wi extends gt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(t,i,r){const l=this.decodeMiddleCounters;l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c=i[1];for(let x=0;x<4&&c<s;x++){let y=gt.decodeDigit(t,l,c,gt.L_PATTERNS);r+=String.fromCharCode(48+y);for(let A of l)c+=A}c=gt.findGuardPattern(t,c,!0,gt.MIDDLE_PATTERN,new Int32Array(gt.MIDDLE_PATTERN.length).fill(0))[1];for(let x=0;x<4&&c<s;x++){let y=gt.decodeDigit(t,l,c,gt.L_PATTERNS);r+=String.fromCharCode(48+y);for(let A of l)c+=A}return{rowOffset:c,resultString:r}}getBarcodeFormat(){return ye.EAN_8}}class Aa extends gt{constructor(){super(...arguments),this.ean13Reader=new wi}getBarcodeFormat(){return ye.UPC_A}decode(t,i){return this.maybeReturnResult(this.ean13Reader.decode(t))}decodeRow(t,i,r){return this.maybeReturnResult(this.ean13Reader.decodeRow(t,i,r))}decodeMiddle(t,i,r){return this.ean13Reader.decodeMiddle(t,i,r)}maybeReturnResult(t){let i=t.getText();if(i.charAt(0)==="0"){let r=new me(i.substring(1),null,null,t.getResultPoints(),ye.UPC_A);return t.getResultMetadata()!=null&&r.putAllMetadata(t.getResultMetadata()),r}else throw new re}reset(){this.ean13Reader.reset()}}class Dn extends gt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(t,i,r){const l=this.decodeMiddleCounters.map(y=>y);l[0]=0,l[1]=0,l[2]=0,l[3]=0;const s=t.getSize();let c=i[1],f=0;for(let y=0;y<6&&c<s;y++){const A=Dn.decodeDigit(t,l,c,Dn.L_AND_G_PATTERNS);r+=String.fromCharCode(48+A%10);for(let T of l)c+=T;A>=10&&(f|=1<<5-y)}let x=Dn.determineNumSysAndCheckDigit(r,f);return{rowOffset:c,resultString:x}}decodeEnd(t,i){return Dn.findGuardPatternWithoutCounters(t,i,!0,Dn.MIDDLE_END_PATTERN)}checkChecksum(t){return gt.checkChecksum(Dn.convertUPCEtoUPCA(t))}static determineNumSysAndCheckDigit(t,i){for(let r=0;r<=1;r++)for(let l=0;l<10;l++)if(i===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[r][l]){let s=String.fromCharCode(48+r),c=String.fromCharCode(48+l);return s+t+c}throw re.getNotFoundInstance()}getBarcodeFormat(){return ye.UPC_E}static convertUPCEtoUPCA(t){const i=t.slice(1,7).split("").map(s=>s.charCodeAt(0)),r=new je;r.append(t.charAt(0));let l=i[5];switch(l){case 0:case 1:case 2:r.appendChars(i,0,2),r.append(l),r.append("0000"),r.appendChars(i,2,3);break;case 3:r.appendChars(i,0,3),r.append("00000"),r.appendChars(i,3,2);break;case 4:r.appendChars(i,0,4),r.append("00000"),r.append(i[4]);break;default:r.appendChars(i,0,5),r.append("0000"),r.append(l);break}return t.length>=8&&r.append(t.charAt(7)),r.toString()}}Dn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Dn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Gl extends kt{constructor(t){super();let i=t==null?null:t.get(Me.POSSIBLE_FORMATS),r=[];p(i)?(r.push(new wi),r.push(new Aa),r.push(new Wi),r.push(new Dn)):(i.indexOf(ye.EAN_13)>-1&&r.push(new wi),i.indexOf(ye.UPC_A)>-1&&r.push(new Aa),i.indexOf(ye.EAN_8)>-1&&r.push(new Wi),i.indexOf(ye.UPC_E)>-1&&r.push(new Dn)),this.readers=r}decodeRow(t,i,r){for(let l of this.readers)try{const s=l.decodeRow(t,i,r),c=s.getBarcodeFormat()===ye.EAN_13&&s.getText().charAt(0)==="0",f=r==null?null:r.get(Me.POSSIBLE_FORMATS),x=f==null||f.includes(ye.UPC_A);if(c&&x){const y=s.getRawBytes(),A=new me(s.getText().substring(1),y,y?y.length:null,s.getResultPoints(),ye.UPC_A);return A.putAllMetadata(s.getResultMetadata()),A}return s}catch{}throw new re}reset(){for(let t of this.readers)t.reset()}}class Cn extends kt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(t,i){for(let r=0;r<i.length;r++)if(kt.patternMatchVariance(t,i[r],Cn.MAX_INDIVIDUAL_VARIANCE)<Cn.MAX_AVG_VARIANCE)return r;throw new re}static count(t){return ct.sum(new Int32Array(t))}static increment(t,i){let r=0,l=i[0];for(let s=1;s<t.length;s++)i[s]>l&&(l=i[s],r=s);t[r]++}static decrement(t,i){let r=0,l=i[0];for(let s=1;s<t.length;s++)i[s]<l&&(l=i[s],r=s);t[r]--}static isFinderPattern(t){let i=t[0]+t[1],r=i+t[2]+t[3],l=i/r;if(l>=Cn.MIN_FINDER_PATTERN_RATIO&&l<=Cn.MAX_FINDER_PATTERN_RATIO){let s=Number.MAX_SAFE_INTEGER,c=Number.MIN_SAFE_INTEGER;for(let f of t)f>c&&(c=f),f<s&&(s=f);return c<10*s}return!1}}Cn.MAX_AVG_VARIANCE=.2,Cn.MAX_INDIVIDUAL_VARIANCE=.45,Cn.MIN_FINDER_PATTERN_RATIO=9.5/12,Cn.MAX_FINDER_PATTERN_RATIO=12.5/14;class qi{constructor(t,i){this.value=t,this.checksumPortion=i}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(t){if(!(t instanceof qi))return!1;const i=t;return this.value===i.value&&this.checksumPortion===i.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Zi{constructor(t,i,r,l,s){this.value=t,this.startEnd=i,this.value=t,this.startEnd=i,this.resultPoints=new Array,this.resultPoints.push(new Te(r,s)),this.resultPoints.push(new Te(l,s))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(t){if(!(t instanceof Zi))return!1;const i=t;return this.value===i.value}hashCode(){return this.value}}class Ai{constructor(){}static getRSSvalue(t,i,r){let l=0;for(let x of t)l+=x;let s=0,c=0,f=t.length;for(let x=0;x<f-1;x++){let y;for(y=1,c|=1<<x;y<t[x];y++,c&=~(1<<x)){let A=Ai.combins(l-y-1,f-x-2);if(r&&c===0&&l-y-(f-x-1)>=f-x-1&&(A-=Ai.combins(l-y-(f-x),f-x-2)),f-x-1>1){let T=0;for(let O=l-y-(f-x-2);O>i;O--)T+=Ai.combins(l-y-O-1,f-x-3);A-=T*(f-1-x)}else l-y>i&&A--;s+=A}l-=y}return s}static combins(t,i){let r,l;t-i>i?(l=i,r=t-i):(l=t-i,r=i);let s=1,c=1;for(let f=t;f>r;f--)s*=f,c<=l&&(s/=c,c++);for(;c<=l;)s/=c,c++;return s}}class Ws{static buildBitArray(t){let i=t.length*2-1;t[t.length-1].getRightChar()==null&&(i-=1);let r=12*i,l=new ce(r),s=0,f=t[0].getRightChar().getValue();for(let x=11;x>=0;--x)(f&1<<x)!=0&&l.set(s),s++;for(let x=1;x<t.length;++x){let y=t[x],A=y.getLeftChar().getValue();for(let T=11;T>=0;--T)(A&1<<T)!=0&&l.set(s),s++;if(y.getRightChar()!=null){let T=y.getRightChar().getValue();for(let O=11;O>=0;--O)(T&1<<O)!=0&&l.set(s),s++}}return l}}class Ki{constructor(t,i){i?this.decodedInformation=null:(this.finished=t,this.decodedInformation=i)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Ka{constructor(t){this.newPosition=t}getNewPosition(){return this.newPosition}}class _n extends Ka{constructor(t,i){super(t),this.value=i}getValue(){return this.value}isFNC1(){return this.value===_n.FNC1}}_n.FNC1="$";class ki extends Ka{constructor(t,i,r){super(t),r?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=i}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Gn extends Ka{constructor(t,i,r){if(super(t),i<0||i>10||r<0||r>10)throw new P;this.firstDigit=i,this.secondDigit=r}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Gn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Gn.FNC1}isAnyFNC1(){return this.firstDigit===Gn.FNC1||this.secondDigit===Gn.FNC1}}Gn.FNC1=10;class De{constructor(){}static parseFieldsInGeneralPurpose(t){if(!t)return null;if(t.length<2)throw new re;let i=t.substring(0,2);for(let s of De.TWO_DIGIT_DATA_LENGTH)if(s[0]===i)return s[1]===De.VARIABLE_LENGTH?De.processVariableAI(2,s[2],t):De.processFixedAI(2,s[1],t);if(t.length<3)throw new re;let r=t.substring(0,3);for(let s of De.THREE_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===De.VARIABLE_LENGTH?De.processVariableAI(3,s[2],t):De.processFixedAI(3,s[1],t);for(let s of De.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(s[0]===r)return s[1]===De.VARIABLE_LENGTH?De.processVariableAI(4,s[2],t):De.processFixedAI(4,s[1],t);if(t.length<4)throw new re;let l=t.substring(0,4);for(let s of De.FOUR_DIGIT_DATA_LENGTH)if(s[0]===l)return s[1]===De.VARIABLE_LENGTH?De.processVariableAI(4,s[2],t):De.processFixedAI(4,s[1],t);throw new re}static processFixedAI(t,i,r){if(r.length<t)throw new re;let l=r.substring(0,t);if(r.length<t+i)throw new re;let s=r.substring(t,t+i),c=r.substring(t+i),f="("+l+")"+s,x=De.parseFieldsInGeneralPurpose(c);return x==null?f:f+x}static processVariableAI(t,i,r){let l=r.substring(0,t),s;r.length<t+i?s=r.length:s=t+i;let c=r.substring(t,s),f=r.substring(s),x="("+l+")"+c,y=De.parseFieldsInGeneralPurpose(f);return y==null?x:x+y}}De.VARIABLE_LENGTH=[],De.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",De.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",De.VARIABLE_LENGTH,20],["22",De.VARIABLE_LENGTH,29],["30",De.VARIABLE_LENGTH,8],["37",De.VARIABLE_LENGTH,8],["90",De.VARIABLE_LENGTH,30],["91",De.VARIABLE_LENGTH,30],["92",De.VARIABLE_LENGTH,30],["93",De.VARIABLE_LENGTH,30],["94",De.VARIABLE_LENGTH,30],["95",De.VARIABLE_LENGTH,30],["96",De.VARIABLE_LENGTH,30],["97",De.VARIABLE_LENGTH,3],["98",De.VARIABLE_LENGTH,30],["99",De.VARIABLE_LENGTH,30]],De.THREE_DIGIT_DATA_LENGTH=[["240",De.VARIABLE_LENGTH,30],["241",De.VARIABLE_LENGTH,30],["242",De.VARIABLE_LENGTH,6],["250",De.VARIABLE_LENGTH,30],["251",De.VARIABLE_LENGTH,30],["253",De.VARIABLE_LENGTH,17],["254",De.VARIABLE_LENGTH,20],["400",De.VARIABLE_LENGTH,30],["401",De.VARIABLE_LENGTH,30],["402",17],["403",De.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",De.VARIABLE_LENGTH,20],["421",De.VARIABLE_LENGTH,15],["422",3],["423",De.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],De.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",De.VARIABLE_LENGTH,15],["391",De.VARIABLE_LENGTH,18],["392",De.VARIABLE_LENGTH,15],["393",De.VARIABLE_LENGTH,18],["703",De.VARIABLE_LENGTH,30]],De.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",De.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",De.VARIABLE_LENGTH,20],["8003",De.VARIABLE_LENGTH,30],["8004",De.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",De.VARIABLE_LENGTH,30],["8008",De.VARIABLE_LENGTH,12],["8018",18],["8020",De.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",De.VARIABLE_LENGTH,70],["8200",De.VARIABLE_LENGTH,70]];class Vn{constructor(t){this.buffer=new je,this.information=t}decodeAllCodes(t,i){let r=i,l=null;do{let s=this.decodeGeneralPurposeField(r,l),c=De.parseFieldsInGeneralPurpose(s.getNewString());if(c!=null&&t.append(c),s.isRemaining()?l=""+s.getRemainingValue():l=null,r===s.getNewPosition())break;r=s.getNewPosition()}while(!0);return t.toString()}isStillNumeric(t){if(t+7>this.information.getSize())return t+4<=this.information.getSize();for(let i=t;i<t+3;++i)if(this.information.get(i))return!0;return this.information.get(t+3)}decodeNumeric(t){if(t+7>this.information.getSize()){let s=this.extractNumericValueFromBitArray(t,4);return s===0?new Gn(this.information.getSize(),Gn.FNC1,Gn.FNC1):new Gn(this.information.getSize(),s-1,Gn.FNC1)}let i=this.extractNumericValueFromBitArray(t,7),r=(i-8)/11,l=(i-8)%11;return new Gn(t+7,r,l)}extractNumericValueFromBitArray(t,i){return Vn.extractNumericValueFromBitArray(this.information,t,i)}static extractNumericValueFromBitArray(t,i,r){let l=0;for(let s=0;s<r;++s)t.get(i+s)&&(l|=1<<r-s-1);return l}decodeGeneralPurposeField(t,i){this.buffer.setLengthToZero(),i!=null&&this.buffer.append(i),this.current.setPosition(t);let r=this.parseBlocks();return r!=null&&r.isRemaining()?new ki(this.current.getPosition(),this.buffer.toString(),r.getRemainingValue()):new ki(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let t,i;do{let r=this.current.getPosition();if(this.current.isAlpha()?(i=this.parseAlphaBlock(),t=i.isFinished()):this.current.isIsoIec646()?(i=this.parseIsoIec646Block(),t=i.isFinished()):(i=this.parseNumericBlock(),t=i.isFinished()),!(r!==this.current.getPosition())&&!t)break}while(!t);return i.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let t=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFirstDigitFNC1()){let i;return t.isSecondDigitFNC1()?i=new ki(this.current.getPosition(),this.buffer.toString()):i=new ki(this.current.getPosition(),this.buffer.toString(),t.getSecondDigit()),new Ki(!0,i)}if(this.buffer.append(t.getFirstDigit()),t.isSecondDigitFNC1()){let i=new ki(this.current.getPosition(),this.buffer.toString());return new Ki(!0,i)}this.buffer.append(t.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ki(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let t=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new ki(this.current.getPosition(),this.buffer.toString());return new Ki(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ki(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let t=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(t.getNewPosition()),t.isFNC1()){let i=new ki(this.current.getPosition(),this.buffer.toString());return new Ki(!0,i)}this.buffer.append(t.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ki(!1)}isStillIsoIec646(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+7>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<116)return!0;if(t+8>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(t,8);return l>=232&&l<253}decodeIsoIec646(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new _n(t+5,_n.FNC1);if(i>=5&&i<15)return new _n(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,7);if(r>=64&&r<90)return new _n(t+7,""+(r+1));if(r>=90&&r<116)return new _n(t+7,""+(r+7));let l=this.extractNumericValueFromBitArray(t,8),s;switch(l){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new P}return new _n(t+8,s)}isStillAlpha(t){if(t+5>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(t,5);if(i>=5&&i<16)return!0;if(t+6>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(t,6);return r>=16&&r<63}decodeAlphanumeric(t){let i=this.extractNumericValueFromBitArray(t,5);if(i===15)return new _n(t+5,_n.FNC1);if(i>=5&&i<15)return new _n(t+5,"0"+(i-5));let r=this.extractNumericValueFromBitArray(t,6);if(r>=32&&r<58)return new _n(t+6,""+(r+33));let l;switch(r){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new Ut("Decoding invalid alphanumeric value: "+r)}return new _n(t+6,l)}isAlphaTo646ToAlphaLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<5&&i+t<this.information.getSize();++i)if(i===2){if(!this.information.get(t+2))return!1}else if(this.information.get(t+i))return!1;return!0}isAlphaOr646ToNumericLatch(t){if(t+3>this.information.getSize())return!1;for(let i=t;i<t+3;++i)if(this.information.get(i))return!1;return!0}isNumericToAlphaNumericLatch(t){if(t+1>this.information.getSize())return!1;for(let i=0;i<4&&i+t<this.information.getSize();++i)if(this.information.get(t+i))return!1;return!0}}class fn{constructor(t){this.information=t,this.generalDecoder=new Vn(t)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Mt extends fn{constructor(t){super(t)}encodeCompressedGtin(t,i){t.append("(01)");let r=t.length();t.append("9"),this.encodeCompressedGtinWithoutAI(t,i,r)}encodeCompressedGtinWithoutAI(t,i,r){for(let l=0;l<4;++l){let s=this.getGeneralDecoder().extractNumericValueFromBitArray(i+10*l,10);s/100===0&&t.append("0"),s/10===0&&t.append("0"),t.append(s)}Mt.appendCheckDigit(t,r)}static appendCheckDigit(t,i){let r=0;for(let l=0;l<13;l++){let s=t.charAt(l+i).charCodeAt(0)-48;r+=(l&1)===0?3*s:s}r=10-r%10,r===10&&(r=0),t.append(r)}}Mt.GTIN_SIZE=40;class si extends Mt{constructor(t){super(t)}parseInformation(){let t=new je;t.append("(01)");let i=t.length(),r=this.getGeneralDecoder().extractNumericValueFromBitArray(si.HEADER_SIZE,4);return t.append(r),this.encodeCompressedGtinWithoutAI(t,si.HEADER_SIZE+4,i),this.getGeneralDecoder().decodeAllCodes(t,si.HEADER_SIZE+44)}}si.HEADER_SIZE=4;class Lr extends fn{constructor(t){super(t)}parseInformation(){let t=new je;return this.getGeneralDecoder().decodeAllCodes(t,Lr.HEADER_SIZE)}}Lr.HEADER_SIZE=5;class Qa extends Mt{constructor(t){super(t)}encodeCompressedWeight(t,i,r){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(i,r);this.addWeightCode(t,l);let s=this.checkWeight(l),c=1e5;for(let f=0;f<5;++f)s/c===0&&t.append("0"),c/=10;t.append(s)}}class Si extends Qa{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()!=Si.HEADER_SIZE+Qa.GTIN_SIZE+Si.WEIGHT_SIZE)throw new re;let t=new je;return this.encodeCompressedGtin(t,Si.HEADER_SIZE),this.encodeCompressedWeight(t,Si.HEADER_SIZE+Qa.GTIN_SIZE,Si.WEIGHT_SIZE),t.toString()}}Si.HEADER_SIZE=5,Si.WEIGHT_SIZE=15;class qs extends Si{constructor(t){super(t)}addWeightCode(t,i){t.append("(3103)")}checkWeight(t){return t}}class Sa extends Si{constructor(t){super(t)}addWeightCode(t,i){i<1e4?t.append("(3202)"):t.append("(3203)")}checkWeight(t){return t<1e4?t:t-1e4}}class Kn extends Mt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<Kn.HEADER_SIZE+Mt.GTIN_SIZE)throw new re;let t=new je;this.encodeCompressedGtin(t,Kn.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(Kn.HEADER_SIZE+Mt.GTIN_SIZE,Kn.LAST_DIGIT_SIZE);t.append("(392"),t.append(i),t.append(")");let r=this.getGeneralDecoder().decodeGeneralPurposeField(Kn.HEADER_SIZE+Mt.GTIN_SIZE+Kn.LAST_DIGIT_SIZE,null);return t.append(r.getNewString()),t.toString()}}Kn.HEADER_SIZE=8,Kn.LAST_DIGIT_SIZE=2;class an extends Mt{constructor(t){super(t)}parseInformation(){if(this.getInformation().getSize()<an.HEADER_SIZE+Mt.GTIN_SIZE)throw new re;let t=new je;this.encodeCompressedGtin(t,an.HEADER_SIZE);let i=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE+Mt.GTIN_SIZE,an.LAST_DIGIT_SIZE);t.append("(393"),t.append(i),t.append(")");let r=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE+Mt.GTIN_SIZE+an.LAST_DIGIT_SIZE,an.FIRST_THREE_DIGITS_SIZE);r/100==0&&t.append("0"),r/10==0&&t.append("0"),t.append(r);let l=this.getGeneralDecoder().decodeGeneralPurposeField(an.HEADER_SIZE+Mt.GTIN_SIZE+an.LAST_DIGIT_SIZE+an.FIRST_THREE_DIGITS_SIZE,null);return t.append(l.getNewString()),t.toString()}}an.HEADER_SIZE=8,an.LAST_DIGIT_SIZE=2,an.FIRST_THREE_DIGITS_SIZE=10;class Rt extends Qa{constructor(t,i,r){super(t),this.dateCode=r,this.firstAIdigits=i}parseInformation(){if(this.getInformation().getSize()!=Rt.HEADER_SIZE+Rt.GTIN_SIZE+Rt.WEIGHT_SIZE+Rt.DATE_SIZE)throw new re;let t=new je;return this.encodeCompressedGtin(t,Rt.HEADER_SIZE),this.encodeCompressedWeight(t,Rt.HEADER_SIZE+Rt.GTIN_SIZE,Rt.WEIGHT_SIZE),this.encodeCompressedDate(t,Rt.HEADER_SIZE+Rt.GTIN_SIZE+Rt.WEIGHT_SIZE),t.toString()}encodeCompressedDate(t,i){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(i,Rt.DATE_SIZE);if(r==38400)return;t.append("("),t.append(this.dateCode),t.append(")");let l=r%32;r/=32;let s=r%12+1;r/=12;let c=r;c/10==0&&t.append("0"),t.append(c),s/10==0&&t.append("0"),t.append(s),l/10==0&&t.append("0"),t.append(l)}addWeightCode(t,i){t.append("("),t.append(this.firstAIdigits),t.append(i/1e5),t.append(")")}checkWeight(t){return t%1e5}}Rt.HEADER_SIZE=8,Rt.WEIGHT_SIZE=20,Rt.DATE_SIZE=16;function Ur(v){try{if(v.get(1))return new si(v);if(!v.get(2))return new Lr(v);switch(Vn.extractNumericValueFromBitArray(v,1,4)){case 4:return new qs(v);case 5:return new Sa(v)}switch(Vn.extractNumericValueFromBitArray(v,1,5)){case 12:return new Kn(v);case 13:return new an(v)}switch(Vn.extractNumericValueFromBitArray(v,1,7)){case 56:return new Rt(v,"310","11");case 57:return new Rt(v,"320","11");case 58:return new Rt(v,"310","13");case 59:return new Rt(v,"320","13");case 60:return new Rt(v,"310","15");case 61:return new Rt(v,"320","15");case 62:return new Rt(v,"310","17");case 63:return new Rt(v,"320","17")}}catch(t){throw console.log(t),new Ut("unknown decoder: "+v)}}class Xn{constructor(t,i,r,l){this.leftchar=t,this.rightchar=i,this.finderpattern=r,this.maybeLast=l}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(t,i){return t instanceof Xn?Xn.equalsOrNull(t.leftchar,i.leftchar)&&Xn.equalsOrNull(t.rightchar,i.rightchar)&&Xn.equalsOrNull(t.finderpattern,i.finderpattern):!1}static equalsOrNull(t,i){return t===null?i===null:Xn.equals(t,i)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class ln{constructor(t,i,r){this.pairs=t,this.rowNumber=i,this.wasReversed=r}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(t){return this.checkEqualitity(this,t)}toString(){return"{ "+this.pairs+" }"}equals(t,i){return t instanceof ln?this.checkEqualitity(t,i)&&t.wasReversed===i.wasReversed:!1}checkEqualitity(t,i){if(!t||!i)return;let r;return t.forEach((l,s)=>{i.forEach(c=>{l.getLeftChar().getValue()===c.getLeftChar().getValue()&&l.getRightChar().getValue()===c.getRightChar().getValue()&&l.getFinderPatter().getValue()===c.getFinderPatter().getValue()&&(r=!0)})}),r}}class xe extends Cn{constructor(t){super(...arguments),this.pairs=new Array(xe.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=t===!0}decodeRow(t,i,r){this.pairs.length=0,this.startFromEven=!1;try{return xe.constructResult(this.decodeRow2pairs(t,i))}catch(l){this.verbose&&console.log(l)}return this.pairs.length=0,this.startFromEven=!0,xe.constructResult(this.decodeRow2pairs(t,i))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(t,i){let r=!1;for(;!r;)try{this.pairs.push(this.retrieveNextPair(i,this.pairs,t))}catch(s){if(s instanceof re){if(!this.pairs.length)throw new re;r=!0}}if(this.checkChecksum())return this.pairs;let l;if(this.rows.length?l=!0:l=!1,this.storeRow(t,!1),l){let s=this.checkRowsBoolean(!1);if(s!=null||(s=this.checkRowsBoolean(!0),s!=null))return s}throw new re}checkRowsBoolean(t){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,t&&(this.rows=this.rows.reverse());let i=null;try{i=this.checkRows(new Array,0)}catch(r){this.verbose&&console.log(r)}return t&&(this.rows=this.rows.reverse()),i}checkRows(t,i){for(let r=i;r<this.rows.length;r++){let l=this.rows[r];this.pairs.length=0;for(let c of t)this.pairs.push(c.getPairs());if(this.pairs.push(l.getPairs()),!xe.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let s=new Array(t);s.push(l);try{return this.checkRows(s,r+1)}catch(c){this.verbose&&console.log(c)}}throw new re}static isValidSequence(t){for(let i of xe.FINDER_PATTERN_SEQUENCES){if(t.length>i.length)continue;let r=!0;for(let l=0;l<t.length;l++)if(t[l].getFinderPattern().getValue()!=i[l]){r=!1;break}if(r)return!0}return!1}storeRow(t,i){let r=0,l=!1,s=!1;for(;r<this.rows.length;){let c=this.rows[r];if(c.getRowNumber()>t){s=c.isEquivalent(this.pairs);break}l=c.isEquivalent(this.pairs),r++}s||l||xe.isPartialRow(this.pairs,this.rows)||(this.rows.push(r,new ln(this.pairs,t,i)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(t,i){for(let r of i)if(r.getPairs().length!==t.length){for(let l of r.getPairs())for(let s of t)if(Xn.equals(l,s))break}}static isPartialRow(t,i){for(let r of i){let l=!0;for(let s of t){let c=!1;for(let f of r.getPairs())if(s.equals(f)){c=!0;break}if(!c){l=!1;break}}if(l)return!0}return!1}getRows(){return this.rows}static constructResult(t){let i=Ws.buildBitArray(t),l=Ur(i).parseInformation(),s=t[0].getFinderPattern().getResultPoints(),c=t[t.length-1].getFinderPattern().getResultPoints(),f=[s[0],s[1],c[0],c[1]];return new me(l,null,null,f,ye.RSS_EXPANDED,null)}checkChecksum(){let t=this.pairs.get(0),i=t.getLeftChar(),r=t.getRightChar();if(r==null)return!1;let l=r.getChecksumPortion(),s=2;for(let f=1;f<this.pairs.size();++f){let x=this.pairs.get(f);l+=x.getLeftChar().getChecksumPortion(),s++;let y=x.getRightChar();y!=null&&(l+=y.getChecksumPortion(),s++)}return l%=211,211*(s-4)+l==i.getValue()}static getNextSecondBar(t,i){let r;return t.get(i)?(r=t.getNextUnset(i),r=t.getNextSet(r)):(r=t.getNextSet(i),r=t.getNextUnset(r)),r}retrieveNextPair(t,i,r){let l=i.length%2==0;this.startFromEven&&(l=!l);let s,c=!0,f=-1;do this.findNextPair(t,i,f),s=this.parseFoundFinderPattern(t,r,l),s==null?f=xe.getNextSecondBar(t,this.startEnd[0]):c=!1;while(c);let x=this.decodeDataCharacter(t,s,l,!0);if(!this.isEmptyPair(i)&&i[i.length-1].mustBeLast())throw new re;let y;try{y=this.decodeDataCharacter(t,s,l,!1)}catch(A){y=null,this.verbose&&console.log(A)}return new Xn(x,y,s,!0)}isEmptyPair(t){return t.length===0}findNextPair(t,i,r){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let s=t.getSize(),c;r>=0?c=r:this.isEmptyPair(i)?c=0:c=i[i.length-1].getFinderPattern().getStartEnd()[1];let f=i.length%2!=0;this.startFromEven&&(f=!f);let x=!1;for(;c<s&&(x=!t.get(c),!!x);)c++;let y=0,A=c;for(let T=c;T<s;T++)if(t.get(T)!=x)l[y]++;else{if(y==3){if(f&&xe.reverseCounters(l),xe.isFinderPattern(l)){this.startEnd[0]=A,this.startEnd[1]=T;return}f&&xe.reverseCounters(l),A+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,y--}else y++;l[y]=1,x=!x}throw new re}static reverseCounters(t){let i=t.length;for(let r=0;r<i/2;++r){let l=t[r];t[r]=t[i-r-1],t[i-r-1]=l}}parseFoundFinderPattern(t,i,r){let l,s,c;if(r){let y=this.startEnd[0]-1;for(;y>=0&&!t.get(y);)y--;y++,l=this.startEnd[0]-y,s=y,c=this.startEnd[1]}else s=this.startEnd[0],c=t.getNextUnset(this.startEnd[1]+1),l=c-this.startEnd[1];let f=this.getDecodeFinderCounters();Z.arraycopy(f,0,f,1,f.length-1),f[0]=l;let x;try{x=this.parseFinderValue(f,xe.FINDER_PATTERNS)}catch{return null}return new Zi(x,[s,c],s,c,i)}decodeDataCharacter(t,i,r,l){let s=this.getDataCharacterCounters();for(let Dt=0;Dt<s.length;Dt++)s[Dt]=0;if(l)xe.recordPatternInReverse(t,i.getStartEnd()[0],s);else{xe.recordPattern(t,i.getStartEnd()[1],s);for(let Dt=0,Rn=s.length-1;Dt<Rn;Dt++,Rn--){let qn=s[Dt];s[Dt]=s[Rn],s[Rn]=qn}}let c=17,f=ct.sum(new Int32Array(s))/c,x=(i.getStartEnd()[1]-i.getStartEnd()[0])/15;if(Math.abs(f-x)/x>.3)throw new re;let y=this.getOddCounts(),A=this.getEvenCounts(),T=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let Dt=0;Dt<s.length;Dt++){let Rn=1*s[Dt]/f,qn=Rn+.5;if(qn<1){if(Rn<.3)throw new re;qn=1}else if(qn>8){if(Rn>8.7)throw new re;qn=8}let qr=Dt/2;(Dt&1)==0?(y[qr]=qn,T[qr]=Rn-qn):(A[qr]=qn,O[qr]=Rn-qn)}this.adjustOddEvenCounts(c);let L=4*i.getValue()+(r?0:2)+(l?0:1)-1,k=0,F=0;for(let Dt=y.length-1;Dt>=0;Dt--){if(xe.isNotA1left(i,r,l)){let Rn=xe.WEIGHTS[L][2*Dt];F+=y[Dt]*Rn}k+=y[Dt]}let V=0;for(let Dt=A.length-1;Dt>=0;Dt--)if(xe.isNotA1left(i,r,l)){let Rn=xe.WEIGHTS[L][2*Dt+1];V+=A[Dt]*Rn}let ne=F+V;if((k&1)!=0||k>13||k<4)throw new re;let Ae=(13-k)/2,be=xe.SYMBOL_WIDEST[Ae],pe=9-be,lt=Ai.getRSSvalue(y,be,!0),Ke=Ai.getRSSvalue(A,pe,!1),sn=xe.EVEN_TOTAL_SUBSET[Ae],$n=xe.GSUM[Ae],Mn=lt*sn+Ke+$n;return new qi(Mn,ne)}static isNotA1left(t,i,r){return!(t.getValue()==0&&i&&r)}adjustOddEvenCounts(t){let i=ct.sum(new Int32Array(this.getOddCounts())),r=ct.sum(new Int32Array(this.getEvenCounts())),l=!1,s=!1;i>13?s=!0:i<4&&(l=!0);let c=!1,f=!1;r>13?f=!0:r<4&&(c=!0);let x=i+r-t,y=(i&1)==1,A=(r&1)==0;if(x==1)if(y){if(A)throw new re;s=!0}else{if(!A)throw new re;f=!0}else if(x==-1)if(y){if(A)throw new re;l=!0}else{if(!A)throw new re;c=!0}else if(x==0){if(y){if(!A)throw new re;i<r?(l=!0,f=!0):(s=!0,c=!0)}else if(A)throw new re}else throw new re;if(l){if(s)throw new re;xe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(s&&xe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(f)throw new re;xe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}f&&xe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}xe.SYMBOL_WIDEST=[7,5,4,3,1],xe.EVEN_TOTAL_SUBSET=[4,20,52,104,204],xe.GSUM=[0,348,1388,2948,3988],xe.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],xe.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],xe.FINDER_PAT_A=0,xe.FINDER_PAT_B=1,xe.FINDER_PAT_C=2,xe.FINDER_PAT_D=3,xe.FINDER_PAT_E=4,xe.FINDER_PAT_F=5,xe.FINDER_PATTERN_SEQUENCES=[[xe.FINDER_PAT_A,xe.FINDER_PAT_A],[xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B],[xe.FINDER_PAT_A,xe.FINDER_PAT_C,xe.FINDER_PAT_B,xe.FINDER_PAT_D],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_C],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_D,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_E,xe.FINDER_PAT_B,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_D],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_E],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F],[xe.FINDER_PAT_A,xe.FINDER_PAT_A,xe.FINDER_PAT_B,xe.FINDER_PAT_B,xe.FINDER_PAT_C,xe.FINDER_PAT_D,xe.FINDER_PAT_D,xe.FINDER_PAT_E,xe.FINDER_PAT_E,xe.FINDER_PAT_F,xe.FINDER_PAT_F]],xe.MAX_PAIRS=11;class Zs extends qi{constructor(t,i,r){super(t,i),this.count=0,this.finderPattern=r}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class _t extends Cn{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(t,i,r){const l=this.decodePair(i,!1,t,r);_t.addOrTally(this.possibleLeftPairs,l),i.reverse();let s=this.decodePair(i,!0,t,r);_t.addOrTally(this.possibleRightPairs,s),i.reverse();for(let c of this.possibleLeftPairs)if(c.getCount()>1){for(let f of this.possibleRightPairs)if(f.getCount()>1&&_t.checkChecksum(c,f))return _t.constructResult(c,f)}throw new re}static addOrTally(t,i){if(i==null)return;let r=!1;for(let l of t)if(l.getValue()===i.getValue()){l.incrementCount(),r=!0;break}r||t.push(i)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(t,i){let r=4537077*t.getValue()+i.getValue(),l=new String(r).toString(),s=new je;for(let y=13-l.length;y>0;y--)s.append("0");s.append(l);let c=0;for(let y=0;y<13;y++){let A=s.charAt(y).charCodeAt(0)-48;c+=(y&1)===0?3*A:A}c=10-c%10,c===10&&(c=0),s.append(c.toString());let f=t.getFinderPattern().getResultPoints(),x=i.getFinderPattern().getResultPoints();return new me(s.toString(),null,0,[f[0],f[1],x[0],x[1]],ye.RSS_14,new Date().getTime())}static checkChecksum(t,i){let r=(t.getChecksumPortion()+16*i.getChecksumPortion())%79,l=9*t.getFinderPattern().getValue()+i.getFinderPattern().getValue();return l>72&&l--,l>8&&l--,r===l}decodePair(t,i,r,l){try{let s=this.findFinderPattern(t,i),c=this.parseFoundFinderPattern(t,r,i,s),f=l==null?null:l.get(Me.NEED_RESULT_POINT_CALLBACK);if(f!=null){let A=(s[0]+s[1])/2;i&&(A=t.getSize()-1-A),f.foundPossibleResultPoint(new Te(A,r))}let x=this.decodeDataCharacter(t,c,!0),y=this.decodeDataCharacter(t,c,!1);return new Zs(1597*x.getValue()+y.getValue(),x.getChecksumPortion()+4*y.getChecksumPortion(),c)}catch{return null}}decodeDataCharacter(t,i,r){let l=this.getDataCharacterCounters();for(let V=0;V<l.length;V++)l[V]=0;if(r)kt.recordPatternInReverse(t,i.getStartEnd()[0],l);else{kt.recordPattern(t,i.getStartEnd()[1]+1,l);for(let V=0,ne=l.length-1;V<ne;V++,ne--){let Ae=l[V];l[V]=l[ne],l[ne]=Ae}}let s=r?16:15,c=ct.sum(new Int32Array(l))/s,f=this.getOddCounts(),x=this.getEvenCounts(),y=this.getOddRoundingErrors(),A=this.getEvenRoundingErrors();for(let V=0;V<l.length;V++){let ne=l[V]/c,Ae=Math.floor(ne+.5);Ae<1?Ae=1:Ae>8&&(Ae=8);let be=Math.floor(V/2);(V&1)===0?(f[be]=Ae,y[be]=ne-Ae):(x[be]=Ae,A[be]=ne-Ae)}this.adjustOddEvenCounts(r,s);let T=0,O=0;for(let V=f.length-1;V>=0;V--)O*=9,O+=f[V],T+=f[V];let L=0,k=0;for(let V=x.length-1;V>=0;V--)L*=9,L+=x[V],k+=x[V];let F=O+3*L;if(r){if((T&1)!==0||T>12||T<4)throw new re;let V=(12-T)/2,ne=_t.OUTSIDE_ODD_WIDEST[V],Ae=9-ne,be=Ai.getRSSvalue(f,ne,!1),pe=Ai.getRSSvalue(x,Ae,!0),lt=_t.OUTSIDE_EVEN_TOTAL_SUBSET[V],Ke=_t.OUTSIDE_GSUM[V];return new qi(be*lt+pe+Ke,F)}else{if((k&1)!==0||k>10||k<4)throw new re;let V=(10-k)/2,ne=_t.INSIDE_ODD_WIDEST[V],Ae=9-ne,be=Ai.getRSSvalue(f,ne,!0),pe=Ai.getRSSvalue(x,Ae,!1),lt=_t.INSIDE_ODD_TOTAL_SUBSET[V],Ke=_t.INSIDE_GSUM[V];return new qi(pe*lt+be+Ke,F)}}findFinderPattern(t,i){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let l=t.getSize(),s=!1,c=0;for(;c<l&&(s=!t.get(c),i!==s);)c++;let f=0,x=c;for(let y=c;y<l;y++)if(t.get(y)!==s)r[f]++;else{if(f===3){if(Cn.isFinderPattern(r))return[x,y];x+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,f--}else f++;r[f]=1,s=!s}throw new re}parseFoundFinderPattern(t,i,r,l){let s=t.get(l[0]),c=l[0]-1;for(;c>=0&&s!==t.get(c);)c--;c++;const f=l[0]-c,x=this.getDecodeFinderCounters(),y=new Int32Array(x.length);Z.arraycopy(x,0,y,1,x.length-1),y[0]=f;const A=this.parseFinderValue(y,_t.FINDER_PATTERNS);let T=c,O=l[1];return r&&(T=t.getSize()-1-T,O=t.getSize()-1-O),new Zi(A,[c,l[1]],T,O,i)}adjustOddEvenCounts(t,i){let r=ct.sum(new Int32Array(this.getOddCounts())),l=ct.sum(new Int32Array(this.getEvenCounts())),s=!1,c=!1,f=!1,x=!1;t?(r>12?c=!0:r<4&&(s=!0),l>12?x=!0:l<4&&(f=!0)):(r>11?c=!0:r<5&&(s=!0),l>10?x=!0:l<4&&(f=!0));let y=r+l-i,A=(r&1)===(t?1:0),T=(l&1)===1;if(y===1)if(A){if(T)throw new re;c=!0}else{if(!T)throw new re;x=!0}else if(y===-1)if(A){if(T)throw new re;s=!0}else{if(!T)throw new re;f=!0}else if(y===0){if(A){if(!T)throw new re;r<l?(s=!0,x=!0):(c=!0,f=!0)}else if(T)throw new re}else throw new re;if(s){if(c)throw new re;Cn.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(c&&Cn.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(x)throw new re;Cn.increment(this.getEvenCounts(),this.getOddRoundingErrors())}x&&Cn.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}_t.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],_t.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],_t.OUTSIDE_GSUM=[0,161,961,2015,2715],_t.INSIDE_GSUM=[0,336,1036,1516],_t.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],_t.INSIDE_ODD_WIDEST=[2,4,6,8],_t.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class oi extends kt{constructor(t,i){super(),this.readers=[],this.verbose=i===!0;const r=t?t.get(Me.POSSIBLE_FORMATS):null,l=t&&t.get(Me.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;r?((r.includes(ye.EAN_13)||r.includes(ye.UPC_A)||r.includes(ye.EAN_8)||r.includes(ye.UPC_E))&&this.readers.push(new Gl(t)),r.includes(ye.CODE_39)&&this.readers.push(new Se(l)),r.includes(ye.CODE_128)&&this.readers.push(new we),r.includes(ye.ITF)&&this.readers.push(new Ne),r.includes(ye.RSS_14)&&this.readers.push(new _t),r.includes(ye.RSS_EXPANDED)&&this.readers.push(new xe(this.verbose))):(this.readers.push(new Gl(t)),this.readers.push(new Se),this.readers.push(new Gl(t)),this.readers.push(new we),this.readers.push(new Ne),this.readers.push(new _t),this.readers.push(new xe(this.verbose)))}decodeRow(t,i,r){for(let l=0;l<this.readers.length;l++)try{return this.readers[l].decodeRow(t,i,r)}catch{}throw new re}reset(){this.readers.forEach(t=>t.reset())}}class Mc extends ve{constructor(t=500,i){super(new oi(i),t,i)}}class wt{constructor(t,i,r){this.ecCodewords=t,this.ecBlocks=[i],r&&this.ecBlocks.push(r)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class bt{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ft{constructor(t,i,r,l,s,c){this.versionNumber=t,this.symbolSizeRows=i,this.symbolSizeColumns=r,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=s,this.ecBlocks=c;let f=0;const x=c.getECCodewords(),y=c.getECBlocks();for(let A of y)f+=A.getCount()*(A.getDataCodewords()+x);this.totalCodewords=f}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(t,i){if((t&1)!==0||(i&1)!==0)throw new P;for(let r of ft.VERSIONS)if(r.symbolSizeRows===t&&r.symbolSizeColumns===i)return r;throw new P}toString(){return""+this.versionNumber}static buildVersions(){return[new ft(1,10,10,8,8,new wt(5,new bt(1,3))),new ft(2,12,12,10,10,new wt(7,new bt(1,5))),new ft(3,14,14,12,12,new wt(10,new bt(1,8))),new ft(4,16,16,14,14,new wt(12,new bt(1,12))),new ft(5,18,18,16,16,new wt(14,new bt(1,18))),new ft(6,20,20,18,18,new wt(18,new bt(1,22))),new ft(7,22,22,20,20,new wt(20,new bt(1,30))),new ft(8,24,24,22,22,new wt(24,new bt(1,36))),new ft(9,26,26,24,24,new wt(28,new bt(1,44))),new ft(10,32,32,14,14,new wt(36,new bt(1,62))),new ft(11,36,36,16,16,new wt(42,new bt(1,86))),new ft(12,40,40,18,18,new wt(48,new bt(1,114))),new ft(13,44,44,20,20,new wt(56,new bt(1,144))),new ft(14,48,48,22,22,new wt(68,new bt(1,174))),new ft(15,52,52,24,24,new wt(42,new bt(2,102))),new ft(16,64,64,14,14,new wt(56,new bt(2,140))),new ft(17,72,72,16,16,new wt(36,new bt(4,92))),new ft(18,80,80,18,18,new wt(48,new bt(4,114))),new ft(19,88,88,20,20,new wt(56,new bt(4,144))),new ft(20,96,96,22,22,new wt(68,new bt(4,174))),new ft(21,104,104,24,24,new wt(56,new bt(6,136))),new ft(22,120,120,18,18,new wt(68,new bt(6,175))),new ft(23,132,132,20,20,new wt(62,new bt(8,163))),new ft(24,144,144,22,22,new wt(62,new bt(8,156),new bt(2,155))),new ft(25,8,18,6,16,new wt(7,new bt(1,5))),new ft(26,8,32,6,14,new wt(11,new bt(1,10))),new ft(27,12,26,10,24,new wt(14,new bt(1,16))),new ft(28,12,36,10,16,new wt(18,new bt(1,22))),new ft(29,16,36,14,16,new wt(24,new bt(1,32))),new ft(30,16,48,14,22,new wt(28,new bt(1,49)))]}}ft.VERSIONS=ft.buildVersions();class kr{constructor(t){const i=t.getHeight();if(i<8||i>144||(i&1)!==0)throw new P;this.version=kr.readVersion(t),this.mappingBitMatrix=this.extractDataRegion(t),this.readMappingMatrix=new Je(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(t){const i=t.getHeight(),r=t.getWidth();return ft.getVersionForDimensions(i,r)}readCodewords(){const t=new Int8Array(this.version.getTotalCodewords());let i=0,r=4,l=0;const s=this.mappingBitMatrix.getHeight(),c=this.mappingBitMatrix.getWidth();let f=!1,x=!1,y=!1,A=!1;do if(r===s&&l===0&&!f)t[i++]=this.readCorner1(s,c)&255,r-=2,l+=2,f=!0;else if(r===s-2&&l===0&&(c&3)!==0&&!x)t[i++]=this.readCorner2(s,c)&255,r-=2,l+=2,x=!0;else if(r===s+4&&l===2&&(c&7)===0&&!y)t[i++]=this.readCorner3(s,c)&255,r-=2,l+=2,y=!0;else if(r===s-2&&l===0&&(c&7)===4&&!A)t[i++]=this.readCorner4(s,c)&255,r-=2,l+=2,A=!0;else{do r<s&&l>=0&&!this.readMappingMatrix.get(l,r)&&(t[i++]=this.readUtah(r,l,s,c)&255),r-=2,l+=2;while(r>=0&&l<c);r+=1,l+=3;do r>=0&&l<c&&!this.readMappingMatrix.get(l,r)&&(t[i++]=this.readUtah(r,l,s,c)&255),r+=2,l-=2;while(r<s&&l>=0);r+=3,l+=1}while(r<s||l<c);if(i!==this.version.getTotalCodewords())throw new P;return t}readModule(t,i,r,l){return t<0&&(t+=r,i+=4-(r+4&7)),i<0&&(i+=l,t+=4-(l+4&7)),this.readMappingMatrix.set(i,t),this.mappingBitMatrix.get(i,t)}readUtah(t,i,r,l){let s=0;return this.readModule(t-2,i-2,r,l)&&(s|=1),s<<=1,this.readModule(t-2,i-1,r,l)&&(s|=1),s<<=1,this.readModule(t-1,i-2,r,l)&&(s|=1),s<<=1,this.readModule(t-1,i-1,r,l)&&(s|=1),s<<=1,this.readModule(t-1,i,r,l)&&(s|=1),s<<=1,this.readModule(t,i-2,r,l)&&(s|=1),s<<=1,this.readModule(t,i-1,r,l)&&(s|=1),s<<=1,this.readModule(t,i,r,l)&&(s|=1),s}readCorner1(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,1,t,i)&&(r|=1),r<<=1,this.readModule(t-1,2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}readCorner2(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-4,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner3(t,i){let r=0;return this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(0,i-3,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-3,t,i)&&(r|=1),r<<=1,this.readModule(1,i-2,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r}readCorner4(t,i){let r=0;return this.readModule(t-3,0,t,i)&&(r|=1),r<<=1,this.readModule(t-2,0,t,i)&&(r|=1),r<<=1,this.readModule(t-1,0,t,i)&&(r|=1),r<<=1,this.readModule(0,i-2,t,i)&&(r|=1),r<<=1,this.readModule(0,i-1,t,i)&&(r|=1),r<<=1,this.readModule(1,i-1,t,i)&&(r|=1),r<<=1,this.readModule(2,i-1,t,i)&&(r|=1),r<<=1,this.readModule(3,i-1,t,i)&&(r|=1),r}extractDataRegion(t){const i=this.version.getSymbolSizeRows(),r=this.version.getSymbolSizeColumns();if(t.getHeight()!==i)throw new M("Dimension of bitMatrix must match the version size");const l=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),c=i/l|0,f=r/s|0,x=c*l,y=f*s,A=new Je(y,x);for(let T=0;T<c;++T){const O=T*l;for(let L=0;L<f;++L){const k=L*s;for(let F=0;F<l;++F){const V=T*(l+2)+1+F,ne=O+F;for(let Ae=0;Ae<s;++Ae){const be=L*(s+2)+1+Ae;if(t.get(be,V)){const pe=k+Ae;A.set(pe,ne)}}}}}return A}}class zr{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i){const r=i.getECBlocks();let l=0;const s=r.getECBlocks();for(let F of s)l+=F.getCount();const c=new Array(l);let f=0;for(let F of s)for(let V=0;V<F.getCount();V++){const ne=F.getDataCodewords(),Ae=r.getECCodewords()+ne;c[f++]=new zr(ne,new Uint8Array(Ae))}const y=c[0].codewords.length-r.getECCodewords(),A=y-1;let T=0;for(let F=0;F<A;F++)for(let V=0;V<f;V++)c[V].codewords[F]=t[T++];const O=i.getVersionNumber()===24,L=O?8:f;for(let F=0;F<L;F++)c[F].codewords[y-1]=t[T++];const k=c[0].codewords.length;for(let F=y;F<k;F++)for(let V=0;V<f;V++){const ne=O?(V+8)%f:V,Ae=O&&ne>7?F-1:F;c[ne].codewords[Ae]=t[T++]}if(T!==t.length)throw new M;return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class ci{constructor(t){this.bytes=t,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(t){if(t<1||t>32||t>this.available())throw new M(""+t);let i=0,r=this.bitOffset,l=this.byteOffset;const s=this.bytes;if(r>0){const c=8-r,f=t<c?t:c,x=c-f,y=255>>8-f<<x;i=(s[l]&y)>>x,t-=f,r+=f,r===8&&(r=0,l++)}if(t>0){for(;t>=8;)i=i<<8|s[l]&255,l++,t-=8;if(t>0){const c=8-t,f=255>>c<<c;i=i<<t|(s[l]&f)>>c,r+=t}}return this.bitOffset=r,this.byteOffset=l,i}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var St;(function(v){v[v.PAD_ENCODE=0]="PAD_ENCODE",v[v.ASCII_ENCODE=1]="ASCII_ENCODE",v[v.C40_ENCODE=2]="C40_ENCODE",v[v.TEXT_ENCODE=3]="TEXT_ENCODE",v[v.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",v[v.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",v[v.BASE256_ENCODE=6]="BASE256_ENCODE"})(St||(St={}));class zi{static decode(t){const i=new ci(t),r=new je,l=new je,s=new Array;let c=St.ASCII_ENCODE;do if(c===St.ASCII_ENCODE)c=this.decodeAsciiSegment(i,r,l);else{switch(c){case St.C40_ENCODE:this.decodeC40Segment(i,r);break;case St.TEXT_ENCODE:this.decodeTextSegment(i,r);break;case St.ANSIX12_ENCODE:this.decodeAnsiX12Segment(i,r);break;case St.EDIFACT_ENCODE:this.decodeEdifactSegment(i,r);break;case St.BASE256_ENCODE:this.decodeBase256Segment(i,r,s);break;default:throw new P}c=St.ASCII_ENCODE}while(c!==St.PAD_ENCODE&&i.available()>0);return l.length()>0&&r.append(l.toString()),new Tt(t,r.toString(),s.length===0?null:s,null)}static decodeAsciiSegment(t,i,r){let l=!1;do{let s=t.readBits(8);if(s===0)throw new P;if(s<=128)return l&&(s+=128),i.append(String.fromCharCode(s-1)),St.ASCII_ENCODE;if(s===129)return St.PAD_ENCODE;if(s<=229){const c=s-130;c<10&&i.append("0"),i.append(""+c)}else switch(s){case 230:return St.C40_ENCODE;case 231:return St.BASE256_ENCODE;case 232:i.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:i.append("[)>05"),r.insert(0,"");break;case 237:i.append("[)>06"),r.insert(0,"");break;case 238:return St.ANSIX12_ENCODE;case 239:return St.TEXT_ENCODE;case 240:return St.EDIFACT_ENCODE;case 241:break;default:if(s!==254||t.available()!==0)throw new P;break}}while(t.available()>0);return St.ASCII_ENCODE}static decodeC40Segment(t,i){let r=!1;const l=[];let s=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),l);for(let f=0;f<3;f++){const x=l[f];switch(s){case 0:if(x<3)s=x+1;else if(x<this.C40_BASIC_SET_CHARS.length){const y=this.C40_BASIC_SET_CHARS[x];r?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):i.append(y)}else throw new P;break;case 1:r?(i.append(String.fromCharCode(x+128)),r=!1):i.append(String.fromCharCode(x)),s=0;break;case 2:if(x<this.C40_SHIFT2_SET_CHARS.length){const y=this.C40_SHIFT2_SET_CHARS[x];r?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):i.append(y)}else switch(x){case 27:i.append("");break;case 30:r=!0;break;default:throw new P}s=0;break;case 3:r?(i.append(String.fromCharCode(x+224)),r=!1):i.append(String.fromCharCode(x+96)),s=0;break;default:throw new P}}}while(t.available()>0)}static decodeTextSegment(t,i){let r=!1,l=[],s=0;do{if(t.available()===8)return;const c=t.readBits(8);if(c===254)return;this.parseTwoBytes(c,t.readBits(8),l);for(let f=0;f<3;f++){const x=l[f];switch(s){case 0:if(x<3)s=x+1;else if(x<this.TEXT_BASIC_SET_CHARS.length){const y=this.TEXT_BASIC_SET_CHARS[x];r?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):i.append(y)}else throw new P;break;case 1:r?(i.append(String.fromCharCode(x+128)),r=!1):i.append(String.fromCharCode(x)),s=0;break;case 2:if(x<this.TEXT_SHIFT2_SET_CHARS.length){const y=this.TEXT_SHIFT2_SET_CHARS[x];r?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):i.append(y)}else switch(x){case 27:i.append("");break;case 30:r=!0;break;default:throw new P}s=0;break;case 3:if(x<this.TEXT_SHIFT3_SET_CHARS.length){const y=this.TEXT_SHIFT3_SET_CHARS[x];r?(i.append(String.fromCharCode(y.charCodeAt(0)+128)),r=!1):i.append(y),s=0}else throw new P;break;default:throw new P}}}while(t.available()>0)}static decodeAnsiX12Segment(t,i){const r=[];do{if(t.available()===8)return;const l=t.readBits(8);if(l===254)return;this.parseTwoBytes(l,t.readBits(8),r);for(let s=0;s<3;s++){const c=r[s];switch(c){case 0:i.append("\r");break;case 1:i.append("*");break;case 2:i.append(">");break;case 3:i.append(" ");break;default:if(c<14)i.append(String.fromCharCode(c+44));else if(c<40)i.append(String.fromCharCode(c+51));else throw new P;break}}}while(t.available()>0)}static parseTwoBytes(t,i,r){let l=(t<<8)+i-1,s=Math.floor(l/1600);r[0]=s,l-=s*1600,s=Math.floor(l/40),r[1]=s,r[2]=l-s*40}static decodeEdifactSegment(t,i){do{if(t.available()<=16)return;for(let r=0;r<4;r++){let l=t.readBits(6);if(l===31){const s=8-t.getBitOffset();s!==8&&t.readBits(s);return}(l&32)===0&&(l|=64),i.append(String.fromCharCode(l))}}while(t.available()>0)}static decodeBase256Segment(t,i,r){let l=1+t.getByteOffset();const s=this.unrandomize255State(t.readBits(8),l++);let c;if(s===0?c=t.available()/8|0:s<250?c=s:c=250*(s-249)+this.unrandomize255State(t.readBits(8),l++),c<0)throw new P;const f=new Uint8Array(c);for(let x=0;x<c;x++){if(t.available()<8)throw new P;f[x]=this.unrandomize255State(t.readBits(8),l++)}r.push(f);try{i.append(Ge.decode(f,Ce.ISO88591))}catch(x){throw new Ut("Platform does not support required encoding: "+x.message)}}static unrandomize255State(t,i){const r=149*i%255+1,l=t-r;return l>=0?l:l+256}}zi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],zi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],zi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],zi.TEXT_SHIFT2_SET_CHARS=zi.C40_SHIFT2_SET_CHARS,zi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Bc{constructor(){this.rsDecoder=new Ui($e.DATA_MATRIX_FIELD_256)}decode(t){const i=new kr(t),r=i.getVersion(),l=i.readCodewords(),s=zr.getDataBlocks(l,r);let c=0;for(let y of s)c+=y.getNumDataCodewords();const f=new Uint8Array(c),x=s.length;for(let y=0;y<x;y++){const A=s[y],T=A.getCodewords(),O=A.getNumDataCodewords();this.correctErrors(T,O);for(let L=0;L<O;L++)f[L*x+y]=T[L]}return zi.decode(f)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new $}for(let l=0;l<i;l++)t[l]=r[l]}}class Wt{constructor(t){this.image=t,this.rectangleDetector=new Pt(this.image)}detect(){const t=this.rectangleDetector.detect();let i=this.detectSolid1(t);if(i=this.detectSolid2(i),i[3]=this.correctTopRight(i),!i[3])throw new re;i=this.shiftToModuleCenter(i);const r=i[0],l=i[1],s=i[2],c=i[3];let f=this.transitionsBetween(r,c)+1,x=this.transitionsBetween(s,c)+1;(f&1)===1&&(f+=1),(x&1)===1&&(x+=1),4*f<7*x&&4*x<7*f&&(f=x=Math.max(f,x));let y=Wt.sampleGrid(this.image,r,l,s,c,f,x);return new sr(y,[r,l,s,c])}static shiftPoint(t,i,r){let l=(i.getX()-t.getX())/(r+1),s=(i.getY()-t.getY())/(r+1);return new Te(t.getX()+l,t.getY()+s)}static moveAway(t,i,r){let l=t.getX(),s=t.getY();return l<i?l-=1:l+=1,s<r?s-=1:s+=1,new Te(l,s)}detectSolid1(t){let i=t[0],r=t[1],l=t[3],s=t[2],c=this.transitionsBetween(i,r),f=this.transitionsBetween(r,l),x=this.transitionsBetween(l,s),y=this.transitionsBetween(s,i),A=c,T=[s,i,r,l];return A>f&&(A=f,T[0]=i,T[1]=r,T[2]=l,T[3]=s),A>x&&(A=x,T[0]=r,T[1]=l,T[2]=s,T[3]=i),A>y&&(T[0]=l,T[1]=s,T[2]=i,T[3]=r),T}detectSolid2(t){let i=t[0],r=t[1],l=t[2],s=t[3],c=this.transitionsBetween(i,s),f=Wt.shiftPoint(r,l,(c+1)*4),x=Wt.shiftPoint(l,r,(c+1)*4),y=this.transitionsBetween(f,i),A=this.transitionsBetween(x,s);return y<A?(t[0]=i,t[1]=r,t[2]=l,t[3]=s):(t[0]=r,t[1]=l,t[2]=s,t[3]=i),t}correctTopRight(t){let i=t[0],r=t[1],l=t[2],s=t[3],c=this.transitionsBetween(i,s),f=this.transitionsBetween(r,s),x=Wt.shiftPoint(i,r,(f+1)*4),y=Wt.shiftPoint(l,r,(c+1)*4);c=this.transitionsBetween(x,s),f=this.transitionsBetween(y,s);let A=new Te(s.getX()+(l.getX()-r.getX())/(c+1),s.getY()+(l.getY()-r.getY())/(c+1)),T=new Te(s.getX()+(i.getX()-r.getX())/(f+1),s.getY()+(i.getY()-r.getY())/(f+1));if(!this.isValid(A))return this.isValid(T)?T:null;if(!this.isValid(T))return A;let O=this.transitionsBetween(x,A)+this.transitionsBetween(y,A),L=this.transitionsBetween(x,T)+this.transitionsBetween(y,T);return O>L?A:T}shiftToModuleCenter(t){let i=t[0],r=t[1],l=t[2],s=t[3],c=this.transitionsBetween(i,s)+1,f=this.transitionsBetween(l,s)+1,x=Wt.shiftPoint(i,r,f*4),y=Wt.shiftPoint(l,r,c*4);c=this.transitionsBetween(x,s)+1,f=this.transitionsBetween(y,s)+1,(c&1)===1&&(c+=1),(f&1)===1&&(f+=1);let A=(i.getX()+r.getX()+l.getX()+s.getX())/4,T=(i.getY()+r.getY()+l.getY()+s.getY())/4;i=Wt.moveAway(i,A,T),r=Wt.moveAway(r,A,T),l=Wt.moveAway(l,A,T),s=Wt.moveAway(s,A,T);let O,L;return x=Wt.shiftPoint(i,r,f*4),x=Wt.shiftPoint(x,s,c*4),O=Wt.shiftPoint(r,i,f*4),O=Wt.shiftPoint(O,l,c*4),y=Wt.shiftPoint(l,s,f*4),y=Wt.shiftPoint(y,r,c*4),L=Wt.shiftPoint(s,l,f*4),L=Wt.shiftPoint(L,i,c*4),[x,O,y,L]}isValid(t){return t.getX()>=0&&t.getX()<this.image.getWidth()&&t.getY()>0&&t.getY()<this.image.getHeight()}static sampleGrid(t,i,r,l,s,c,f){return Pn.getInstance().sampleGrid(t,c,f,.5,.5,c-.5,.5,c-.5,f-.5,.5,f-.5,i.getX(),i.getY(),s.getX(),s.getY(),l.getX(),l.getY(),r.getX(),r.getY())}transitionsBetween(t,i){let r=Math.trunc(t.getX()),l=Math.trunc(t.getY()),s=Math.trunc(i.getX()),c=Math.trunc(i.getY()),f=Math.abs(c-l)>Math.abs(s-r);if(f){let F=r;r=l,l=F,F=s,s=c,c=F}let x=Math.abs(s-r),y=Math.abs(c-l),A=-x/2,T=l<c?1:-1,O=r<s?1:-1,L=0,k=this.image.get(f?l:r,f?r:l);for(let F=r,V=l;F!==s;F+=O){let ne=this.image.get(f?V:F,f?F:V);if(ne!==k&&(L++,k=ne),A+=y,A>0){if(V===c)break;V+=T,A-=x}}return L}}class Fi{constructor(){this.decoder=new Bc}decode(t,i=null){let r,l;if(i!=null&&i.has(Me.PURE_BARCODE)){const y=Fi.extractPureBits(t.getBlackMatrix());r=this.decoder.decode(y),l=Fi.NO_POINTS}else{const y=new Wt(t.getBlackMatrix()).detect();r=this.decoder.decode(y.getBits()),l=y.getPoints()}const s=r.getRawBytes(),c=new me(r.getText(),s,8*s.length,l,ye.DATA_MATRIX,Z.currentTimeMillis()),f=r.getByteSegments();f!=null&&c.putMetadata(tt.BYTE_SEGMENTS,f);const x=r.getECLevel();return x!=null&&c.putMetadata(tt.ERROR_CORRECTION_LEVEL,x),c}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i==null||r==null)throw new re;const l=this.moduleSize(i,t);let s=i[1];const c=r[1];let f=i[0];const y=(r[0]-f+1)/l,A=(c-s+1)/l;if(y<=0||A<=0)throw new re;const T=l/2;s+=T,f+=T;const O=new Je(y,A);for(let L=0;L<A;L++){const k=s+L*l;for(let F=0;F<y;F++)t.get(f+F*l,k)&&O.set(F,L)}return O}static moduleSize(t,i){const r=i.getWidth();let l=t[0];const s=t[1];for(;l<r&&i.get(l,s);)l++;if(l===r)throw new re;const c=l-t[0];if(c===0)throw new re;return c}}Fi.NO_POINTS=[];class Ja extends ve{constructor(t=500){super(new Fi,t)}}var Fr;(function(v){v[v.L=0]="L",v[v.M=1]="M",v[v.Q=2]="Q",v[v.H=3]="H"})(Fr||(Fr={}));class ut{constructor(t,i,r){this.value=t,this.stringValue=i,this.bits=r,ut.FOR_BITS.set(r,this),ut.FOR_VALUE.set(t,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(t){switch(t){case"L":return ut.L;case"M":return ut.M;case"Q":return ut.Q;case"H":return ut.H;default:throw new D(t+"not available")}}toString(){return this.stringValue}equals(t){if(!(t instanceof ut))return!1;const i=t;return this.value===i.value}static forBits(t){if(t<0||t>=ut.FOR_BITS.size)throw new M;return ut.FOR_BITS.get(t)}}ut.FOR_BITS=new Map,ut.FOR_VALUE=new Map,ut.L=new ut(Fr.L,"L",1),ut.M=new ut(Fr.M,"M",0),ut.Q=new ut(Fr.Q,"Q",3),ut.H=new ut(Fr.H,"H",2);class mn{constructor(t){this.errorCorrectionLevel=ut.forBits(t>>3&3),this.dataMask=t&7}static numBitsDiffering(t,i){return ae.bitCount(t^i)}static decodeFormatInformation(t,i){const r=mn.doDecodeFormatInformation(t,i);return r!==null?r:mn.doDecodeFormatInformation(t^mn.FORMAT_INFO_MASK_QR,i^mn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(t,i){let r=Number.MAX_SAFE_INTEGER,l=0;for(const s of mn.FORMAT_INFO_DECODE_LOOKUP){const c=s[0];if(c===t||c===i)return new mn(s[1]);let f=mn.numBitsDiffering(t,c);f<r&&(l=s[1],r=f),t!==i&&(f=mn.numBitsDiffering(i,c),f<r&&(l=s[1],r=f))}return r<=3?new mn(l):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(t){if(!(t instanceof mn))return!1;const i=t;return this.errorCorrectionLevel===i.errorCorrectionLevel&&this.dataMask===i.dataMask}}mn.FORMAT_INFO_MASK_QR=21522,mn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Y{constructor(t,...i){this.ecCodewordsPerBlock=t,this.ecBlocks=i}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let t=0;const i=this.ecBlocks;for(const r of i)t+=r.getCount();return t}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class B{constructor(t,i){this.count=t,this.dataCodewords=i}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ue{constructor(t,i,...r){this.versionNumber=t,this.alignmentPatternCenters=i,this.ecBlocks=r;let l=0;const s=r[0].getECCodewordsPerBlock(),c=r[0].getECBlocks();for(const f of c)l+=f.getCount()*(f.getDataCodewords()+s);this.totalCodewords=l}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(t){return this.ecBlocks[t.getValue()]}static getProvisionalVersionForDimension(t){if(t%4!==1)throw new P;try{return this.getVersionForNumber((t-17)/4)}catch{throw new P}}static getVersionForNumber(t){if(t<1||t>40)throw new M;return Ue.VERSIONS[t-1]}static decodeVersionInformation(t){let i=Number.MAX_SAFE_INTEGER,r=0;for(let l=0;l<Ue.VERSION_DECODE_INFO.length;l++){const s=Ue.VERSION_DECODE_INFO[l];if(s===t)return Ue.getVersionForNumber(l+7);const c=mn.numBitsDiffering(t,s);c<i&&(r=l+7,i=c)}return i<=3?Ue.getVersionForNumber(r):null}buildFunctionPattern(){const t=this.getDimensionForVersion(),i=new Je(t);i.setRegion(0,0,9,9),i.setRegion(t-8,0,8,9),i.setRegion(0,t-8,9,8);const r=this.alignmentPatternCenters.length;for(let l=0;l<r;l++){const s=this.alignmentPatternCenters[l]-2;for(let c=0;c<r;c++)l===0&&(c===0||c===r-1)||l===r-1&&c===0||i.setRegion(this.alignmentPatternCenters[c]-2,s,5,5)}return i.setRegion(6,9,1,t-17),i.setRegion(9,6,t-17,1),this.versionNumber>6&&(i.setRegion(t-11,0,3,6),i.setRegion(0,t-11,6,3)),i}toString(){return""+this.versionNumber}}Ue.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ue.VERSIONS=[new Ue(1,new Int32Array(0),new Y(7,new B(1,19)),new Y(10,new B(1,16)),new Y(13,new B(1,13)),new Y(17,new B(1,9))),new Ue(2,Int32Array.from([6,18]),new Y(10,new B(1,34)),new Y(16,new B(1,28)),new Y(22,new B(1,22)),new Y(28,new B(1,16))),new Ue(3,Int32Array.from([6,22]),new Y(15,new B(1,55)),new Y(26,new B(1,44)),new Y(18,new B(2,17)),new Y(22,new B(2,13))),new Ue(4,Int32Array.from([6,26]),new Y(20,new B(1,80)),new Y(18,new B(2,32)),new Y(26,new B(2,24)),new Y(16,new B(4,9))),new Ue(5,Int32Array.from([6,30]),new Y(26,new B(1,108)),new Y(24,new B(2,43)),new Y(18,new B(2,15),new B(2,16)),new Y(22,new B(2,11),new B(2,12))),new Ue(6,Int32Array.from([6,34]),new Y(18,new B(2,68)),new Y(16,new B(4,27)),new Y(24,new B(4,19)),new Y(28,new B(4,15))),new Ue(7,Int32Array.from([6,22,38]),new Y(20,new B(2,78)),new Y(18,new B(4,31)),new Y(18,new B(2,14),new B(4,15)),new Y(26,new B(4,13),new B(1,14))),new Ue(8,Int32Array.from([6,24,42]),new Y(24,new B(2,97)),new Y(22,new B(2,38),new B(2,39)),new Y(22,new B(4,18),new B(2,19)),new Y(26,new B(4,14),new B(2,15))),new Ue(9,Int32Array.from([6,26,46]),new Y(30,new B(2,116)),new Y(22,new B(3,36),new B(2,37)),new Y(20,new B(4,16),new B(4,17)),new Y(24,new B(4,12),new B(4,13))),new Ue(10,Int32Array.from([6,28,50]),new Y(18,new B(2,68),new B(2,69)),new Y(26,new B(4,43),new B(1,44)),new Y(24,new B(6,19),new B(2,20)),new Y(28,new B(6,15),new B(2,16))),new Ue(11,Int32Array.from([6,30,54]),new Y(20,new B(4,81)),new Y(30,new B(1,50),new B(4,51)),new Y(28,new B(4,22),new B(4,23)),new Y(24,new B(3,12),new B(8,13))),new Ue(12,Int32Array.from([6,32,58]),new Y(24,new B(2,92),new B(2,93)),new Y(22,new B(6,36),new B(2,37)),new Y(26,new B(4,20),new B(6,21)),new Y(28,new B(7,14),new B(4,15))),new Ue(13,Int32Array.from([6,34,62]),new Y(26,new B(4,107)),new Y(22,new B(8,37),new B(1,38)),new Y(24,new B(8,20),new B(4,21)),new Y(22,new B(12,11),new B(4,12))),new Ue(14,Int32Array.from([6,26,46,66]),new Y(30,new B(3,115),new B(1,116)),new Y(24,new B(4,40),new B(5,41)),new Y(20,new B(11,16),new B(5,17)),new Y(24,new B(11,12),new B(5,13))),new Ue(15,Int32Array.from([6,26,48,70]),new Y(22,new B(5,87),new B(1,88)),new Y(24,new B(5,41),new B(5,42)),new Y(30,new B(5,24),new B(7,25)),new Y(24,new B(11,12),new B(7,13))),new Ue(16,Int32Array.from([6,26,50,74]),new Y(24,new B(5,98),new B(1,99)),new Y(28,new B(7,45),new B(3,46)),new Y(24,new B(15,19),new B(2,20)),new Y(30,new B(3,15),new B(13,16))),new Ue(17,Int32Array.from([6,30,54,78]),new Y(28,new B(1,107),new B(5,108)),new Y(28,new B(10,46),new B(1,47)),new Y(28,new B(1,22),new B(15,23)),new Y(28,new B(2,14),new B(17,15))),new Ue(18,Int32Array.from([6,30,56,82]),new Y(30,new B(5,120),new B(1,121)),new Y(26,new B(9,43),new B(4,44)),new Y(28,new B(17,22),new B(1,23)),new Y(28,new B(2,14),new B(19,15))),new Ue(19,Int32Array.from([6,30,58,86]),new Y(28,new B(3,113),new B(4,114)),new Y(26,new B(3,44),new B(11,45)),new Y(26,new B(17,21),new B(4,22)),new Y(26,new B(9,13),new B(16,14))),new Ue(20,Int32Array.from([6,34,62,90]),new Y(28,new B(3,107),new B(5,108)),new Y(26,new B(3,41),new B(13,42)),new Y(30,new B(15,24),new B(5,25)),new Y(28,new B(15,15),new B(10,16))),new Ue(21,Int32Array.from([6,28,50,72,94]),new Y(28,new B(4,116),new B(4,117)),new Y(26,new B(17,42)),new Y(28,new B(17,22),new B(6,23)),new Y(30,new B(19,16),new B(6,17))),new Ue(22,Int32Array.from([6,26,50,74,98]),new Y(28,new B(2,111),new B(7,112)),new Y(28,new B(17,46)),new Y(30,new B(7,24),new B(16,25)),new Y(24,new B(34,13))),new Ue(23,Int32Array.from([6,30,54,78,102]),new Y(30,new B(4,121),new B(5,122)),new Y(28,new B(4,47),new B(14,48)),new Y(30,new B(11,24),new B(14,25)),new Y(30,new B(16,15),new B(14,16))),new Ue(24,Int32Array.from([6,28,54,80,106]),new Y(30,new B(6,117),new B(4,118)),new Y(28,new B(6,45),new B(14,46)),new Y(30,new B(11,24),new B(16,25)),new Y(30,new B(30,16),new B(2,17))),new Ue(25,Int32Array.from([6,32,58,84,110]),new Y(26,new B(8,106),new B(4,107)),new Y(28,new B(8,47),new B(13,48)),new Y(30,new B(7,24),new B(22,25)),new Y(30,new B(22,15),new B(13,16))),new Ue(26,Int32Array.from([6,30,58,86,114]),new Y(28,new B(10,114),new B(2,115)),new Y(28,new B(19,46),new B(4,47)),new Y(28,new B(28,22),new B(6,23)),new Y(30,new B(33,16),new B(4,17))),new Ue(27,Int32Array.from([6,34,62,90,118]),new Y(30,new B(8,122),new B(4,123)),new Y(28,new B(22,45),new B(3,46)),new Y(30,new B(8,23),new B(26,24)),new Y(30,new B(12,15),new B(28,16))),new Ue(28,Int32Array.from([6,26,50,74,98,122]),new Y(30,new B(3,117),new B(10,118)),new Y(28,new B(3,45),new B(23,46)),new Y(30,new B(4,24),new B(31,25)),new Y(30,new B(11,15),new B(31,16))),new Ue(29,Int32Array.from([6,30,54,78,102,126]),new Y(30,new B(7,116),new B(7,117)),new Y(28,new B(21,45),new B(7,46)),new Y(30,new B(1,23),new B(37,24)),new Y(30,new B(19,15),new B(26,16))),new Ue(30,Int32Array.from([6,26,52,78,104,130]),new Y(30,new B(5,115),new B(10,116)),new Y(28,new B(19,47),new B(10,48)),new Y(30,new B(15,24),new B(25,25)),new Y(30,new B(23,15),new B(25,16))),new Ue(31,Int32Array.from([6,30,56,82,108,134]),new Y(30,new B(13,115),new B(3,116)),new Y(28,new B(2,46),new B(29,47)),new Y(30,new B(42,24),new B(1,25)),new Y(30,new B(23,15),new B(28,16))),new Ue(32,Int32Array.from([6,34,60,86,112,138]),new Y(30,new B(17,115)),new Y(28,new B(10,46),new B(23,47)),new Y(30,new B(10,24),new B(35,25)),new Y(30,new B(19,15),new B(35,16))),new Ue(33,Int32Array.from([6,30,58,86,114,142]),new Y(30,new B(17,115),new B(1,116)),new Y(28,new B(14,46),new B(21,47)),new Y(30,new B(29,24),new B(19,25)),new Y(30,new B(11,15),new B(46,16))),new Ue(34,Int32Array.from([6,34,62,90,118,146]),new Y(30,new B(13,115),new B(6,116)),new Y(28,new B(14,46),new B(23,47)),new Y(30,new B(44,24),new B(7,25)),new Y(30,new B(59,16),new B(1,17))),new Ue(35,Int32Array.from([6,30,54,78,102,126,150]),new Y(30,new B(12,121),new B(7,122)),new Y(28,new B(12,47),new B(26,48)),new Y(30,new B(39,24),new B(14,25)),new Y(30,new B(22,15),new B(41,16))),new Ue(36,Int32Array.from([6,24,50,76,102,128,154]),new Y(30,new B(6,121),new B(14,122)),new Y(28,new B(6,47),new B(34,48)),new Y(30,new B(46,24),new B(10,25)),new Y(30,new B(2,15),new B(64,16))),new Ue(37,Int32Array.from([6,28,54,80,106,132,158]),new Y(30,new B(17,122),new B(4,123)),new Y(28,new B(29,46),new B(14,47)),new Y(30,new B(49,24),new B(10,25)),new Y(30,new B(24,15),new B(46,16))),new Ue(38,Int32Array.from([6,32,58,84,110,136,162]),new Y(30,new B(4,122),new B(18,123)),new Y(28,new B(13,46),new B(32,47)),new Y(30,new B(48,24),new B(14,25)),new Y(30,new B(42,15),new B(32,16))),new Ue(39,Int32Array.from([6,26,54,82,110,138,166]),new Y(30,new B(20,117),new B(4,118)),new Y(28,new B(40,47),new B(7,48)),new Y(30,new B(43,24),new B(22,25)),new Y(30,new B(10,15),new B(67,16))),new Ue(40,Int32Array.from([6,30,58,86,114,142,170]),new Y(30,new B(19,118),new B(6,119)),new Y(28,new B(18,47),new B(31,48)),new Y(30,new B(34,24),new B(34,25)),new Y(30,new B(20,15),new B(61,16)))];var dn;(function(v){v[v.DATA_MASK_000=0]="DATA_MASK_000",v[v.DATA_MASK_001=1]="DATA_MASK_001",v[v.DATA_MASK_010=2]="DATA_MASK_010",v[v.DATA_MASK_011=3]="DATA_MASK_011",v[v.DATA_MASK_100=4]="DATA_MASK_100",v[v.DATA_MASK_101=5]="DATA_MASK_101",v[v.DATA_MASK_110=6]="DATA_MASK_110",v[v.DATA_MASK_111=7]="DATA_MASK_111"})(dn||(dn={}));class Yn{constructor(t,i){this.value=t,this.isMasked=i}unmaskBitMatrix(t,i){for(let r=0;r<i;r++)for(let l=0;l<i;l++)this.isMasked(r,l)&&t.flip(l,r)}}Yn.values=new Map([[dn.DATA_MASK_000,new Yn(dn.DATA_MASK_000,(v,t)=>(v+t&1)===0)],[dn.DATA_MASK_001,new Yn(dn.DATA_MASK_001,(v,t)=>(v&1)===0)],[dn.DATA_MASK_010,new Yn(dn.DATA_MASK_010,(v,t)=>t%3===0)],[dn.DATA_MASK_011,new Yn(dn.DATA_MASK_011,(v,t)=>(v+t)%3===0)],[dn.DATA_MASK_100,new Yn(dn.DATA_MASK_100,(v,t)=>(Math.floor(v/2)+Math.floor(t/3)&1)===0)],[dn.DATA_MASK_101,new Yn(dn.DATA_MASK_101,(v,t)=>v*t%6===0)],[dn.DATA_MASK_110,new Yn(dn.DATA_MASK_110,(v,t)=>v*t%6<3)],[dn.DATA_MASK_111,new Yn(dn.DATA_MASK_111,(v,t)=>(v+t+v*t%3&1)===0)]]);class jr{constructor(t){const i=t.getHeight();if(i<21||(i&3)!==1)throw new P;this.bitMatrix=t}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let t=0;for(let s=0;s<6;s++)t=this.copyBit(s,8,t);t=this.copyBit(7,8,t),t=this.copyBit(8,8,t),t=this.copyBit(8,7,t);for(let s=5;s>=0;s--)t=this.copyBit(8,s,t);const i=this.bitMatrix.getHeight();let r=0;const l=i-7;for(let s=i-1;s>=l;s--)r=this.copyBit(8,s,r);for(let s=i-8;s<i;s++)r=this.copyBit(s,8,r);if(this.parsedFormatInfo=mn.decodeFormatInformation(t,r),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new P}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const t=this.bitMatrix.getHeight(),i=Math.floor((t-17)/4);if(i<=6)return Ue.getVersionForNumber(i);let r=0;const l=t-11;for(let c=5;c>=0;c--)for(let f=t-9;f>=l;f--)r=this.copyBit(f,c,r);let s=Ue.decodeVersionInformation(r);if(s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;r=0;for(let c=5;c>=0;c--)for(let f=t-9;f>=l;f--)r=this.copyBit(c,f,r);if(s=Ue.decodeVersionInformation(r),s!==null&&s.getDimensionForVersion()===t)return this.parsedVersion=s,s;throw new P}copyBit(t,i,r){return(this.isMirror?this.bitMatrix.get(i,t):this.bitMatrix.get(t,i))?r<<1|1:r<<1}readCodewords(){const t=this.readFormatInformation(),i=this.readVersion(),r=Yn.values.get(t.getDataMask()),l=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,l);const s=i.buildFunctionPattern();let c=!0;const f=new Uint8Array(i.getTotalCodewords());let x=0,y=0,A=0;for(let T=l-1;T>0;T-=2){T===6&&T--;for(let O=0;O<l;O++){const L=c?l-1-O:O;for(let k=0;k<2;k++)s.get(T-k,L)||(A++,y<<=1,this.bitMatrix.get(T-k,L)&&(y|=1),A===8&&(f[x++]=y,A=0,y=0))}c=!c}if(x!==i.getTotalCodewords())throw new P;return f}remask(){if(this.parsedFormatInfo===null)return;const t=Yn.values[this.parsedFormatInfo.getDataMask()],i=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,i)}setMirror(t){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=t}mirror(){const t=this.bitMatrix;for(let i=0,r=t.getWidth();i<r;i++)for(let l=i+1,s=t.getHeight();l<s;l++)t.get(i,l)!==t.get(l,i)&&(t.flip(l,i),t.flip(i,l))}}class Vl{constructor(t,i){this.numDataCodewords=t,this.codewords=i}static getDataBlocks(t,i,r){if(t.length!==i.getTotalCodewords())throw new M;const l=i.getECBlocksForLevel(r);let s=0;const c=l.getECBlocks();for(const k of c)s+=k.getCount();const f=new Array(s);let x=0;for(const k of c)for(let F=0;F<k.getCount();F++){const V=k.getDataCodewords(),ne=l.getECCodewordsPerBlock()+V;f[x++]=new Vl(V,new Uint8Array(ne))}const y=f[0].codewords.length;let A=f.length-1;for(;A>=0&&f[A].codewords.length!==y;)A--;A++;const T=y-l.getECCodewordsPerBlock();let O=0;for(let k=0;k<T;k++)for(let F=0;F<x;F++)f[F].codewords[k]=t[O++];for(let k=A;k<x;k++)f[k].codewords[T]=t[O++];const L=f[0].codewords.length;for(let k=T;k<L;k++)for(let F=0;F<x;F++){const V=F<A?k:k+1;f[F].codewords[V]=t[O++]}return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Wn;(function(v){v[v.TERMINATOR=0]="TERMINATOR",v[v.NUMERIC=1]="NUMERIC",v[v.ALPHANUMERIC=2]="ALPHANUMERIC",v[v.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",v[v.BYTE=4]="BYTE",v[v.ECI=5]="ECI",v[v.KANJI=6]="KANJI",v[v.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",v[v.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",v[v.HANZI=9]="HANZI"})(Wn||(Wn={}));class He{constructor(t,i,r,l){this.value=t,this.stringValue=i,this.characterCountBitsForVersions=r,this.bits=l,He.FOR_BITS.set(l,this),He.FOR_VALUE.set(t,this)}static forBits(t){const i=He.FOR_BITS.get(t);if(i===void 0)throw new M;return i}getCharacterCountBits(t){const i=t.getVersionNumber();let r;return i<=9?r=0:i<=26?r=1:r=2,this.characterCountBitsForVersions[r]}getValue(){return this.value}getBits(){return this.bits}equals(t){if(!(t instanceof He))return!1;const i=t;return this.value===i.value}toString(){return this.stringValue}}He.FOR_BITS=new Map,He.FOR_VALUE=new Map,He.TERMINATOR=new He(Wn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),He.NUMERIC=new He(Wn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),He.ALPHANUMERIC=new He(Wn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),He.STRUCTURED_APPEND=new He(Wn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),He.BYTE=new He(Wn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),He.ECI=new He(Wn.ECI,"ECI",Int32Array.from([0,0,0]),7),He.KANJI=new He(Wn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),He.FNC1_FIRST_POSITION=new He(Wn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),He.FNC1_SECOND_POSITION=new He(Wn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),He.HANZI=new He(Wn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Gt{static decode(t,i,r,l){const s=new ci(t);let c=new je;const f=new Array;let x=-1,y=-1;try{let A=null,T=!1,O;do{if(s.available()<4)O=He.TERMINATOR;else{const L=s.readBits(4);O=He.forBits(L)}switch(O){case He.TERMINATOR:break;case He.FNC1_FIRST_POSITION:case He.FNC1_SECOND_POSITION:T=!0;break;case He.STRUCTURED_APPEND:if(s.available()<16)throw new P;x=s.readBits(8),y=s.readBits(8);break;case He.ECI:const L=Gt.parseECIValue(s);if(A=X.getCharacterSetECIByValue(L),A===null)throw new P;break;case He.HANZI:const k=s.readBits(4),F=s.readBits(O.getCharacterCountBits(i));k===Gt.GB2312_SUBSET&&Gt.decodeHanziSegment(s,c,F);break;default:const V=s.readBits(O.getCharacterCountBits(i));switch(O){case He.NUMERIC:Gt.decodeNumericSegment(s,c,V);break;case He.ALPHANUMERIC:Gt.decodeAlphanumericSegment(s,c,V,T);break;case He.BYTE:Gt.decodeByteSegment(s,c,V,A,f,l);break;case He.KANJI:Gt.decodeKanjiSegment(s,c,V);break;default:throw new P}break}}while(O!==He.TERMINATOR)}catch{throw new P}return new Tt(t,c.toString(),f.length===0?null:f,r===null?null:r.toString(),x,y)}static decodeHanziSegment(t,i,r){if(r*13>t.available())throw new P;const l=new Uint8Array(2*r);let s=0;for(;r>0;){const c=t.readBits(13);let f=c/96<<8&4294967295|c%96;f<959?f+=41377:f+=42657,l[s]=f>>8&255,l[s+1]=f&255,s+=2,r--}try{i.append(Ge.decode(l,Ce.GB2312))}catch(c){throw new P(c)}}static decodeKanjiSegment(t,i,r){if(r*13>t.available())throw new P;const l=new Uint8Array(2*r);let s=0;for(;r>0;){const c=t.readBits(13);let f=c/192<<8&4294967295|c%192;f<7936?f+=33088:f+=49472,l[s]=f>>8,l[s+1]=f,s+=2,r--}try{i.append(Ge.decode(l,Ce.SHIFT_JIS))}catch(c){throw new P(c)}}static decodeByteSegment(t,i,r,l,s,c){if(8*r>t.available())throw new P;const f=new Uint8Array(r);for(let y=0;y<r;y++)f[y]=t.readBits(8);let x;l===null?x=Ce.guessEncoding(f,c):x=l.getName();try{i.append(Ge.decode(f,x))}catch(y){throw new P(y)}s.push(f)}static toAlphaNumericChar(t){if(t>=Gt.ALPHANUMERIC_CHARS.length)throw new P;return Gt.ALPHANUMERIC_CHARS[t]}static decodeAlphanumericSegment(t,i,r,l){const s=i.length();for(;r>1;){if(t.available()<11)throw new P;const c=t.readBits(11);i.append(Gt.toAlphaNumericChar(Math.floor(c/45))),i.append(Gt.toAlphaNumericChar(c%45)),r-=2}if(r===1){if(t.available()<6)throw new P;i.append(Gt.toAlphaNumericChar(t.readBits(6)))}if(l)for(let c=s;c<i.length();c++)i.charAt(c)==="%"&&(c<i.length()-1&&i.charAt(c+1)==="%"?i.deleteCharAt(c+1):i.setCharAt(c,""))}static decodeNumericSegment(t,i,r){for(;r>=3;){if(t.available()<10)throw new P;const l=t.readBits(10);if(l>=1e3)throw new P;i.append(Gt.toAlphaNumericChar(Math.floor(l/100))),i.append(Gt.toAlphaNumericChar(Math.floor(l/10)%10)),i.append(Gt.toAlphaNumericChar(l%10)),r-=3}if(r===2){if(t.available()<7)throw new P;const l=t.readBits(7);if(l>=100)throw new P;i.append(Gt.toAlphaNumericChar(Math.floor(l/10))),i.append(Gt.toAlphaNumericChar(l%10))}else if(r===1){if(t.available()<4)throw new P;const l=t.readBits(4);if(l>=10)throw new P;i.append(Gt.toAlphaNumericChar(l))}}static parseECIValue(t){const i=t.readBits(8);if((i&128)===0)return i&127;if((i&192)===128){const r=t.readBits(8);return(i&63)<<8&4294967295|r}if((i&224)===192){const r=t.readBits(16);return(i&31)<<16&4294967295|r}throw new P}}Gt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Gt.GB2312_SUBSET=1;class Ks{constructor(t){this.mirrored=t}isMirrored(){return this.mirrored}applyMirroredCorrection(t){if(!this.mirrored||t===null||t.length<3)return;const i=t[0];t[0]=t[2],t[2]=i}}class Lc{constructor(){this.rsDecoder=new Ui($e.QR_CODE_FIELD_256)}decodeBooleanArray(t,i){return this.decodeBitMatrix(Je.parseFromBooleanArray(t),i)}decodeBitMatrix(t,i){const r=new jr(t);let l=null;try{return this.decodeBitMatrixParser(r,i)}catch(s){l=s}try{r.remask(),r.setMirror(!0),r.readVersion(),r.readFormatInformation(),r.mirror();const s=this.decodeBitMatrixParser(r,i);return s.setOther(new Ks(!0)),s}catch(s){throw l!==null?l:s}}decodeBitMatrixParser(t,i){const r=t.readVersion(),l=t.readFormatInformation().getErrorCorrectionLevel(),s=t.readCodewords(),c=Vl.getDataBlocks(s,r,l);let f=0;for(const A of c)f+=A.getNumDataCodewords();const x=new Uint8Array(f);let y=0;for(const A of c){const T=A.getCodewords(),O=A.getNumDataCodewords();this.correctErrors(T,O);for(let L=0;L<O;L++)x[y++]=T[L]}return Gt.decode(x,r,l,i)}correctErrors(t,i){const r=new Int32Array(t);try{this.rsDecoder.decode(r,t.length-i)}catch{throw new $}for(let l=0;l<i;l++)t[l]=r[l]}}class Hr extends Te{constructor(t,i,r){super(t,i),this.estimatedModuleSize=r}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const l=(this.getX()+i)/2,s=(this.getY()+t)/2,c=(this.estimatedModuleSize+r)/2;return new Hr(l,s,c)}}class Qn{constructor(t,i,r,l,s,c,f){this.image=t,this.startX=i,this.startY=r,this.width=l,this.height=s,this.moduleSize=c,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const t=this.startX,i=this.height,r=this.width,l=t+r,s=this.startY+i/2,c=new Int32Array(3),f=this.image;for(let x=0;x<i;x++){const y=s+((x&1)===0?Math.floor((x+1)/2):-Math.floor((x+1)/2));c[0]=0,c[1]=0,c[2]=0;let A=t;for(;A<l&&!f.get(A,y);)A++;let T=0;for(;A<l;){if(f.get(A,y))if(T===1)c[1]++;else if(T===2){if(this.foundPatternCross(c)){const O=this.handlePossibleCenter(c,y,A);if(O!==null)return O}c[0]=c[2],c[1]=1,c[2]=0,T=1}else c[++T]++;else T===1&&T++,c[T]++;A++}if(this.foundPatternCross(c)){const O=this.handlePossibleCenter(c,y,l);if(O!==null)return O}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new re}static centerFromEnd(t,i){return i-t[2]-t[1]/2}foundPatternCross(t){const i=this.moduleSize,r=i/2;for(let l=0;l<3;l++)if(Math.abs(i-t[l])>=r)return!1;return!0}crossCheckVertical(t,i,r,l){const s=this.image,c=s.getHeight(),f=this.crossCheckStateCount;f[0]=0,f[1]=0,f[2]=0;let x=t;for(;x>=0&&s.get(i,x)&&f[1]<=r;)f[1]++,x--;if(x<0||f[1]>r)return NaN;for(;x>=0&&!s.get(i,x)&&f[0]<=r;)f[0]++,x--;if(f[0]>r)return NaN;for(x=t+1;x<c&&s.get(i,x)&&f[1]<=r;)f[1]++,x++;if(x===c||f[1]>r)return NaN;for(;x<c&&!s.get(i,x)&&f[2]<=r;)f[2]++,x++;if(f[2]>r)return NaN;const y=f[0]+f[1]+f[2];return 5*Math.abs(y-l)>=2*l?NaN:this.foundPatternCross(f)?Qn.centerFromEnd(f,x):NaN}handlePossibleCenter(t,i,r){const l=t[0]+t[1]+t[2],s=Qn.centerFromEnd(t,r),c=this.crossCheckVertical(i,s,2*t[1],l);if(!isNaN(c)){const f=(t[0]+t[1]+t[2])/3;for(const y of this.possibleCenters)if(y.aboutEquals(f,c,s))return y.combineEstimate(c,s,f);const x=new Hr(s,c,f);this.possibleCenters.push(x),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(x)}return null}}class Ca extends Te{constructor(t,i,r,l){super(t,i),this.estimatedModuleSize=r,this.count=l,l===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(t,i,r){if(Math.abs(i-this.getY())<=t&&Math.abs(r-this.getX())<=t){const l=Math.abs(t-this.estimatedModuleSize);return l<=1||l<=this.estimatedModuleSize}return!1}combineEstimate(t,i,r){const l=this.count+1,s=(this.count*this.getX()+i)/l,c=(this.count*this.getY()+t)/l,f=(this.count*this.estimatedModuleSize+r)/l;return new Ca(s,c,f,l)}}class Xl{constructor(t){this.bottomLeft=t[0],this.topLeft=t[1],this.topRight=t[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class qt{constructor(t,i){this.image=t,this.resultPointCallback=i,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=i}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(t){const i=t!=null&&t.get(Me.TRY_HARDER)!==void 0,r=t!=null&&t.get(Me.PURE_BARCODE)!==void 0,l=this.image,s=l.getHeight(),c=l.getWidth();let f=Math.floor(3*s/(4*qt.MAX_MODULES));(f<qt.MIN_SKIP||i)&&(f=qt.MIN_SKIP);let x=!1;const y=new Int32Array(5);for(let T=f-1;T<s&&!x;T+=f){y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0;let O=0;for(let L=0;L<c;L++)if(l.get(L,T))(O&1)===1&&O++,y[O]++;else if((O&1)===0)if(O===4)if(qt.foundPatternCross(y)){if(this.handlePossibleCenter(y,T,L,r)===!0)if(f=2,this.hasSkipped===!0)x=this.haveMultiplyConfirmedCenters();else{const F=this.findRowSkip();F>y[2]&&(T+=F-y[2]-f,L=c-1)}else{y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,O=3;continue}O=0,y[0]=0,y[1]=0,y[2]=0,y[3]=0,y[4]=0}else y[0]=y[2],y[1]=y[3],y[2]=y[4],y[3]=1,y[4]=0,O=3;else y[++O]++;else y[O]++;qt.foundPatternCross(y)&&this.handlePossibleCenter(y,T,c,r)===!0&&(f=y[0],this.hasSkipped&&(x=this.haveMultiplyConfirmedCenters()))}const A=this.selectBestPatterns();return Te.orderBestPatterns(A),new Xl(A)}static centerFromEnd(t,i){return i-t[4]-t[3]-t[2]/2}static foundPatternCross(t){let i=0;for(let s=0;s<5;s++){const c=t[s];if(c===0)return!1;i+=c}if(i<7)return!1;const r=i/7,l=r/2;return Math.abs(r-t[0])<l&&Math.abs(r-t[1])<l&&Math.abs(3*r-t[2])<3*l&&Math.abs(r-t[3])<l&&Math.abs(r-t[4])<l}getCrossCheckStateCount(){const t=this.crossCheckStateCount;return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t}crossCheckDiagonal(t,i,r,l){const s=this.getCrossCheckStateCount();let c=0;const f=this.image;for(;t>=c&&i>=c&&f.get(i-c,t-c);)s[2]++,c++;if(t<c||i<c)return!1;for(;t>=c&&i>=c&&!f.get(i-c,t-c)&&s[1]<=r;)s[1]++,c++;if(t<c||i<c||s[1]>r)return!1;for(;t>=c&&i>=c&&f.get(i-c,t-c)&&s[0]<=r;)s[0]++,c++;if(s[0]>r)return!1;const x=f.getHeight(),y=f.getWidth();for(c=1;t+c<x&&i+c<y&&f.get(i+c,t+c);)s[2]++,c++;if(t+c>=x||i+c>=y)return!1;for(;t+c<x&&i+c<y&&!f.get(i+c,t+c)&&s[3]<r;)s[3]++,c++;if(t+c>=x||i+c>=y||s[3]>=r)return!1;for(;t+c<x&&i+c<y&&f.get(i+c,t+c)&&s[4]<r;)s[4]++,c++;if(s[4]>=r)return!1;const A=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(A-l)<2*l&&qt.foundPatternCross(s)}crossCheckVertical(t,i,r,l){const s=this.image,c=s.getHeight(),f=this.getCrossCheckStateCount();let x=t;for(;x>=0&&s.get(i,x);)f[2]++,x--;if(x<0)return NaN;for(;x>=0&&!s.get(i,x)&&f[1]<=r;)f[1]++,x--;if(x<0||f[1]>r)return NaN;for(;x>=0&&s.get(i,x)&&f[0]<=r;)f[0]++,x--;if(f[0]>r)return NaN;for(x=t+1;x<c&&s.get(i,x);)f[2]++,x++;if(x===c)return NaN;for(;x<c&&!s.get(i,x)&&f[3]<r;)f[3]++,x++;if(x===c||f[3]>=r)return NaN;for(;x<c&&s.get(i,x)&&f[4]<r;)f[4]++,x++;if(f[4]>=r)return NaN;const y=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(y-l)>=2*l?NaN:qt.foundPatternCross(f)?qt.centerFromEnd(f,x):NaN}crossCheckHorizontal(t,i,r,l){const s=this.image,c=s.getWidth(),f=this.getCrossCheckStateCount();let x=t;for(;x>=0&&s.get(x,i);)f[2]++,x--;if(x<0)return NaN;for(;x>=0&&!s.get(x,i)&&f[1]<=r;)f[1]++,x--;if(x<0||f[1]>r)return NaN;for(;x>=0&&s.get(x,i)&&f[0]<=r;)f[0]++,x--;if(f[0]>r)return NaN;for(x=t+1;x<c&&s.get(x,i);)f[2]++,x++;if(x===c)return NaN;for(;x<c&&!s.get(x,i)&&f[3]<r;)f[3]++,x++;if(x===c||f[3]>=r)return NaN;for(;x<c&&s.get(x,i)&&f[4]<r;)f[4]++,x++;if(f[4]>=r)return NaN;const y=f[0]+f[1]+f[2]+f[3]+f[4];return 5*Math.abs(y-l)>=l?NaN:qt.foundPatternCross(f)?qt.centerFromEnd(f,x):NaN}handlePossibleCenter(t,i,r,l){const s=t[0]+t[1]+t[2]+t[3]+t[4];let c=qt.centerFromEnd(t,r),f=this.crossCheckVertical(i,Math.floor(c),t[2],s);if(!isNaN(f)&&(c=this.crossCheckHorizontal(Math.floor(c),Math.floor(f),t[2],s),!isNaN(c)&&(!l||this.crossCheckDiagonal(Math.floor(f),Math.floor(c),t[2],s)))){const x=s/7;let y=!1;const A=this.possibleCenters;for(let T=0,O=A.length;T<O;T++){const L=A[T];if(L.aboutEquals(x,f,c)){A[T]=L.combineEstimate(f,c,x),y=!0;break}}if(!y){const T=new Ca(c,f,x);A.push(T),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(T)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let i=null;for(const r of this.possibleCenters)if(r.getCount()>=qt.CENTER_QUORUM)if(i==null)i=r;else return this.hasSkipped=!0,Math.floor((Math.abs(i.getX()-r.getX())-Math.abs(i.getY()-r.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let t=0,i=0;const r=this.possibleCenters.length;for(const c of this.possibleCenters)c.getCount()>=qt.CENTER_QUORUM&&(t++,i+=c.getEstimatedModuleSize());if(t<3)return!1;const l=i/r;let s=0;for(const c of this.possibleCenters)s+=Math.abs(c.getEstimatedModuleSize()-l);return s<=.05*i}selectBestPatterns(){const t=this.possibleCenters.length;if(t<3)throw new re;const i=this.possibleCenters;let r;if(t>3){let l=0,s=0;for(const x of this.possibleCenters){const y=x.getEstimatedModuleSize();l+=y,s+=y*y}r=l/t;let c=Math.sqrt(s/t-r*r);i.sort((x,y)=>{const A=Math.abs(y.getEstimatedModuleSize()-r),T=Math.abs(x.getEstimatedModuleSize()-r);return A<T?-1:A>T?1:0});const f=Math.max(.2*r,c);for(let x=0;x<i.length&&i.length>3;x++){const y=i[x];Math.abs(y.getEstimatedModuleSize()-r)>f&&(i.splice(x,1),x--)}}if(i.length>3){let l=0;for(const s of i)l+=s.getEstimatedModuleSize();r=l/i.length,i.sort((s,c)=>{if(c.getCount()===s.getCount()){const f=Math.abs(c.getEstimatedModuleSize()-r),x=Math.abs(s.getEstimatedModuleSize()-r);return f<x?1:f>x?-1:0}else return c.getCount()-s.getCount()}),i.splice(3)}return[i[0],i[1],i[2]]}}qt.CENTER_QUORUM=2,qt.MIN_SKIP=3,qt.MAX_MODULES=57;class Ci{constructor(t){this.image=t}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(t){this.resultPointCallback=t==null?null:t.get(Me.NEED_RESULT_POINT_CALLBACK);const r=new qt(this.image,this.resultPointCallback).find(t);return this.processFinderPatternInfo(r)}processFinderPatternInfo(t){const i=t.getTopLeft(),r=t.getTopRight(),l=t.getBottomLeft(),s=this.calculateModuleSize(i,r,l);if(s<1)throw new re("No pattern found in proccess finder.");const c=Ci.computeDimension(i,r,l,s),f=Ue.getProvisionalVersionForDimension(c),x=f.getDimensionForVersion()-7;let y=null;if(f.getAlignmentPatternCenters().length>0){const L=r.getX()-i.getX()+l.getX(),k=r.getY()-i.getY()+l.getY(),F=1-3/x,V=Math.floor(i.getX()+F*(L-i.getX())),ne=Math.floor(i.getY()+F*(k-i.getY()));for(let Ae=4;Ae<=16;Ae<<=1)try{y=this.findAlignmentInRegion(s,V,ne,Ae);break}catch(be){if(!(be instanceof re))throw be}}const A=Ci.createTransform(i,r,l,y,c),T=Ci.sampleGrid(this.image,A,c);let O;return y===null?O=[l,i,r]:O=[l,i,r,y],new sr(T,O)}static createTransform(t,i,r,l,s){const c=s-3.5;let f,x,y,A;return l!==null?(f=l.getX(),x=l.getY(),y=c-3,A=y):(f=i.getX()-t.getX()+r.getX(),x=i.getY()-t.getY()+r.getY(),y=c,A=c),Fn.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,y,A,3.5,c,t.getX(),t.getY(),i.getX(),i.getY(),f,x,r.getX(),r.getY())}static sampleGrid(t,i,r){return Pn.getInstance().sampleGridWithTransform(t,r,r,i)}static computeDimension(t,i,r,l){const s=ct.round(Te.distance(t,i)/l),c=ct.round(Te.distance(t,r)/l);let f=Math.floor((s+c)/2)+7;switch(f&3){case 0:f++;break;case 2:f--;break;case 3:throw new re("Dimensions could be not found.")}return f}calculateModuleSize(t,i,r){return(this.calculateModuleSizeOneWay(t,i)+this.calculateModuleSizeOneWay(t,r))/2}calculateModuleSizeOneWay(t,i){const r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(i.getX()),Math.floor(i.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(t.getX()),Math.floor(t.getY()));return isNaN(r)?l/7:isNaN(l)?r/7:(r+l)/14}sizeOfBlackWhiteBlackRunBothWays(t,i,r,l){let s=this.sizeOfBlackWhiteBlackRun(t,i,r,l),c=1,f=t-(r-t);f<0?(c=t/(t-f),f=0):f>=this.image.getWidth()&&(c=(this.image.getWidth()-1-t)/(f-t),f=this.image.getWidth()-1);let x=Math.floor(i-(l-i)*c);return c=1,x<0?(c=i/(i-x),x=0):x>=this.image.getHeight()&&(c=(this.image.getHeight()-1-i)/(x-i),x=this.image.getHeight()-1),f=Math.floor(t+(f-t)*c),s+=this.sizeOfBlackWhiteBlackRun(t,i,f,x),s-1}sizeOfBlackWhiteBlackRun(t,i,r,l){const s=Math.abs(l-i)>Math.abs(r-t);if(s){let L=t;t=i,i=L,L=r,r=l,l=L}const c=Math.abs(r-t),f=Math.abs(l-i);let x=-c/2;const y=t<r?1:-1,A=i<l?1:-1;let T=0;const O=r+y;for(let L=t,k=i;L!==O;L+=y){const F=s?k:L,V=s?L:k;if(T===1===this.image.get(F,V)){if(T===2)return ct.distance(L,k,t,i);T++}if(x+=f,x>0){if(k===l)break;k+=A,x-=c}}return T===2?ct.distance(r+y,l,t,i):NaN}findAlignmentInRegion(t,i,r,l){const s=Math.floor(l*t),c=Math.max(0,i-s),f=Math.min(this.image.getWidth()-1,i+s);if(f-c<t*3)throw new re("Alignment top exceeds estimated module size.");const x=Math.max(0,r-s),y=Math.min(this.image.getHeight()-1,r+s);if(y-x<t*3)throw new re("Alignment bottom exceeds estimated module size.");return new Qn(this.image,c,x,f-c,y-x,t,this.resultPointCallback).find()}}class ji{constructor(){this.decoder=new Lc}getDecoder(){return this.decoder}decode(t,i){let r,l;if(i!=null&&i.get(Me.PURE_BARCODE)!==void 0){const x=ji.extractPureBits(t.getBlackMatrix());r=this.decoder.decodeBitMatrix(x,i),l=ji.NO_POINTS}else{const x=new Ci(t.getBlackMatrix()).detect(i);r=this.decoder.decodeBitMatrix(x.getBits(),i),l=x.getPoints()}r.getOther()instanceof Ks&&r.getOther().applyMirroredCorrection(l);const s=new me(r.getText(),r.getRawBytes(),void 0,l,ye.QR_CODE,void 0),c=r.getByteSegments();c!==null&&s.putMetadata(tt.BYTE_SEGMENTS,c);const f=r.getECLevel();return f!==null&&s.putMetadata(tt.ERROR_CORRECTION_LEVEL,f),r.hasStructuredAppend()&&(s.putMetadata(tt.STRUCTURED_APPEND_SEQUENCE,r.getStructuredAppendSequenceNumber()),s.putMetadata(tt.STRUCTURED_APPEND_PARITY,r.getStructuredAppendParity())),s}reset(){}static extractPureBits(t){const i=t.getTopLeftOnBit(),r=t.getBottomRightOnBit();if(i===null||r===null)throw new re;const l=this.moduleSize(i,t);let s=i[1],c=r[1],f=i[0],x=r[0];if(f>=x||s>=c)throw new re;if(c-s!==x-f&&(x=f+(c-s),x>=t.getWidth()))throw new re;const y=Math.round((x-f+1)/l),A=Math.round((c-s+1)/l);if(y<=0||A<=0)throw new re;if(A!==y)throw new re;const T=Math.floor(l/2);s+=T,f+=T;const O=f+Math.floor((y-1)*l)-x;if(O>0){if(O>T)throw new re;f-=O}const L=s+Math.floor((A-1)*l)-c;if(L>0){if(L>T)throw new re;s-=L}const k=new Je(y,A);for(let F=0;F<A;F++){const V=s+Math.floor(F*l);for(let ne=0;ne<y;ne++)t.get(f+Math.floor(ne*l),V)&&k.set(ne,F)}return k}static moduleSize(t,i){const r=i.getHeight(),l=i.getWidth();let s=t[0],c=t[1],f=!0,x=0;for(;s<l&&c<r;){if(f!==i.get(s,c)){if(++x===5)break;f=!f}s++,c++}if(s===l||c===r)throw new re;return(s-t[0])/7}}ji.NO_POINTS=new Array;class Ve{PDF417Common(){}static getBitCountSum(t){return ct.sum(t)}static toIntArray(t){if(t==null||!t.length)return Ve.EMPTY_INT_ARRAY;const i=new Int32Array(t.length);let r=0;for(const l of t)i[r++]=l;return i}static getCodeword(t){const i=de.binarySearch(Ve.SYMBOL_TABLE,t&262143);return i<0?-1:(Ve.CODEWORD_TABLE[i]-1)%Ve.NUMBER_OF_CODEWORDS}}Ve.NUMBER_OF_CODEWORDS=929,Ve.MAX_CODEWORDS_IN_BARCODE=Ve.NUMBER_OF_CODEWORDS-1,Ve.MIN_ROWS_IN_BARCODE=3,Ve.MAX_ROWS_IN_BARCODE=90,Ve.MODULES_IN_CODEWORD=17,Ve.MODULES_IN_STOP_PATTERN=18,Ve.BARS_IN_MODULE=8,Ve.EMPTY_INT_ARRAY=new Int32Array([]),Ve.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ve.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Qs{constructor(t,i){this.bits=t,this.points=i}getBits(){return this.bits}getPoints(){return this.points}}class Ze{static detectMultiple(t,i,r){let l=t.getBlackMatrix(),s=Ze.detect(r,l);return s.length||(l=l.clone(),l.rotate180(),s=Ze.detect(r,l)),new Qs(l,s)}static detect(t,i){const r=new Array;let l=0,s=0,c=!1;for(;l<i.getHeight();){const f=Ze.findVertices(i,l,s);if(f[0]==null&&f[3]==null){if(!c)break;c=!1,s=0;for(const x of r)x[1]!=null&&(l=Math.trunc(Math.max(l,x[1].getY()))),x[3]!=null&&(l=Math.max(l,Math.trunc(x[3].getY())));l+=Ze.ROW_STEP;continue}if(c=!0,r.push(f),!t)break;f[2]!=null?(s=Math.trunc(f[2].getX()),l=Math.trunc(f[2].getY())):(s=Math.trunc(f[4].getX()),l=Math.trunc(f[4].getY()))}return r}static findVertices(t,i,r){const l=t.getHeight(),s=t.getWidth(),c=new Array(8);return Ze.copyToResult(c,Ze.findRowsWithPattern(t,l,s,i,r,Ze.START_PATTERN),Ze.INDEXES_START_PATTERN),c[4]!=null&&(r=Math.trunc(c[4].getX()),i=Math.trunc(c[4].getY())),Ze.copyToResult(c,Ze.findRowsWithPattern(t,l,s,i,r,Ze.STOP_PATTERN),Ze.INDEXES_STOP_PATTERN),c}static copyToResult(t,i,r){for(let l=0;l<r.length;l++)t[r[l]]=i[l]}static findRowsWithPattern(t,i,r,l,s,c){const f=new Array(4);let x=!1;const y=new Int32Array(c.length);for(;l<i;l+=Ze.ROW_STEP){let T=Ze.findGuardPattern(t,s,l,r,!1,c,y);if(T!=null){for(;l>0;){const O=Ze.findGuardPattern(t,s,--l,r,!1,c,y);if(O!=null)T=O;else{l++;break}}f[0]=new Te(T[0],l),f[1]=new Te(T[1],l),x=!0;break}}let A=l+1;if(x){let T=0,O=Int32Array.from([Math.trunc(f[0].getX()),Math.trunc(f[1].getX())]);for(;A<i;A++){const L=Ze.findGuardPattern(t,O[0],A,r,!1,c,y);if(L!=null&&Math.abs(O[0]-L[0])<Ze.MAX_PATTERN_DRIFT&&Math.abs(O[1]-L[1])<Ze.MAX_PATTERN_DRIFT)O=L,T=0;else{if(T>Ze.SKIPPED_ROW_COUNT_MAX)break;T++}}A-=T+1,f[2]=new Te(O[0],A),f[3]=new Te(O[1],A)}return A-l<Ze.BARCODE_MIN_HEIGHT&&de.fill(f,null),f}static findGuardPattern(t,i,r,l,s,c,f){de.fillWithin(f,0,f.length,0);let x=i,y=0;for(;t.get(x,r)&&x>0&&y++<Ze.MAX_PIXEL_DRIFT;)x--;let A=x,T=0,O=c.length;for(let L=s;A<l;A++)if(t.get(A,r)!==L)f[T]++;else{if(T===O-1){if(Ze.patternMatchVariance(f,c,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return new Int32Array([x,A]);x+=f[0]+f[1],Z.arraycopy(f,2,f,0,T-1),f[T-1]=0,f[T]=0,T--}else T++;f[T]=1,L=!L}return T===O-1&&Ze.patternMatchVariance(f,c,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE?new Int32Array([x,A-1]):null}static patternMatchVariance(t,i,r){let l=t.length,s=0,c=0;for(let y=0;y<l;y++)s+=t[y],c+=i[y];if(s<c)return 1/0;let f=s/c;r*=f;let x=0;for(let y=0;y<l;y++){let A=t[y],T=i[y]*f,O=A>T?A-T:T-A;if(O>r)return 1/0;x+=O}return x/s}}Ze.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ze.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ze.MAX_AVG_VARIANCE=.42,Ze.MAX_INDIVIDUAL_VARIANCE=.8,Ze.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ze.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ze.MAX_PIXEL_DRIFT=3,Ze.MAX_PATTERN_DRIFT=5,Ze.SKIPPED_ROW_COUNT_MAX=25,Ze.ROW_STEP=5,Ze.BARCODE_MIN_HEIGHT=10;class Vt{constructor(t,i){if(i.length===0)throw new M;this.field=t;let r=i.length;if(r>1&&i[0]===0){let l=1;for(;l<r&&i[l]===0;)l++;l===r?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(r-l),Z.arraycopy(i,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=i}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(t){return this.coefficients[this.coefficients.length-1-t]}evaluateAt(t){if(t===0)return this.getCoefficient(0);if(t===1){let l=0;for(let s of this.coefficients)l=this.field.add(l,s);return l}let i=this.coefficients[0],r=this.coefficients.length;for(let l=1;l<r;l++)i=this.field.add(this.field.multiply(t,i),this.coefficients[l]);return i}add(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero())return t;if(t.isZero())return this;let i=this.coefficients,r=t.coefficients;if(i.length>r.length){let c=i;i=r,r=c}let l=new Int32Array(r.length),s=r.length-i.length;Z.arraycopy(r,0,l,0,s);for(let c=s;c<r.length;c++)l[c]=this.field.add(i[c-s],r[c]);return new Vt(this.field,l)}subtract(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");return t.isZero()?this:this.add(t.negative())}multiply(t){return t instanceof Vt?this.multiplyOther(t):this.multiplyScalar(t)}multiplyOther(t){if(!this.field.equals(t.field))throw new M("ModulusPolys do not have same ModulusGF field");if(this.isZero()||t.isZero())return new Vt(this.field,new Int32Array([0]));let i=this.coefficients,r=i.length,l=t.coefficients,s=l.length,c=new Int32Array(r+s-1);for(let f=0;f<r;f++){let x=i[f];for(let y=0;y<s;y++)c[f+y]=this.field.add(c[f+y],this.field.multiply(x,l[y]))}return new Vt(this.field,c)}negative(){let t=this.coefficients.length,i=new Int32Array(t);for(let r=0;r<t;r++)i[r]=this.field.subtract(0,this.coefficients[r]);return new Vt(this.field,i)}multiplyScalar(t){if(t===0)return new Vt(this.field,new Int32Array([0]));if(t===1)return this;let i=this.coefficients.length,r=new Int32Array(i);for(let l=0;l<i;l++)r[l]=this.field.multiply(this.coefficients[l],t);return new Vt(this.field,r)}multiplyByMonomial(t,i){if(t<0)throw new M;if(i===0)return new Vt(this.field,new Int32Array([0]));let r=this.coefficients.length,l=new Int32Array(r+t);for(let s=0;s<r;s++)l[s]=this.field.multiply(this.coefficients[s],i);return new Vt(this.field,l)}toString(){let t=new je;for(let i=this.getDegree();i>=0;i--){let r=this.getCoefficient(i);r!==0&&(r<0?(t.append(" - "),r=-r):t.length()>0&&t.append(" + "),(i===0||r!==1)&&t.append(r),i!==0&&(i===1?t.append("x"):(t.append("x^"),t.append(i))))}return t.toString()}}class Yl{add(t,i){return(t+i)%this.modulus}subtract(t,i){return(this.modulus+t-i)%this.modulus}exp(t){return this.expTable[t]}log(t){if(t===0)throw new M;return this.logTable[t]}inverse(t){if(t===0)throw new Li;return this.expTable[this.modulus-this.logTable[t]-1]}multiply(t,i){return t===0||i===0?0:this.expTable[(this.logTable[t]+this.logTable[i])%(this.modulus-1)]}getSize(){return this.modulus}equals(t){return t===this}}class cr extends Yl{constructor(t,i){super(),this.modulus=t,this.expTable=new Int32Array(t),this.logTable=new Int32Array(t);let r=1;for(let l=0;l<t;l++)this.expTable[l]=r,r=r*i%t;for(let l=0;l<t-1;l++)this.logTable[this.expTable[l]]=l;this.zero=new Vt(this,new Int32Array([0])),this.one=new Vt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(t,i){if(t<0)throw new M;if(i===0)return this.zero;let r=new Int32Array(t+1);return r[0]=i,new Vt(this,r)}}cr.PDF417_GF=new cr(Ve.NUMBER_OF_CODEWORDS,3);class Hi{constructor(){this.field=cr.PDF417_GF}decode(t,i,r){let l=new Vt(this.field,t),s=new Int32Array(i),c=!1;for(let k=i;k>0;k--){let F=l.evaluateAt(this.field.exp(k));s[i-k]=F,F!==0&&(c=!0)}if(!c)return 0;let f=this.field.getOne();if(r!=null)for(const k of r){let F=this.field.exp(t.length-1-k),V=new Vt(this.field,new Int32Array([this.field.subtract(0,F),1]));f=f.multiply(V)}let x=new Vt(this.field,s),y=this.runEuclideanAlgorithm(this.field.buildMonomial(i,1),x,i),A=y[0],T=y[1],O=this.findErrorLocations(A),L=this.findErrorMagnitudes(T,A,O);for(let k=0;k<O.length;k++){let F=t.length-1-this.field.log(O[k]);if(F<0)throw $.getChecksumInstance();t[F]=this.field.subtract(t[F],L[k])}return O.length}runEuclideanAlgorithm(t,i,r){if(t.getDegree()<i.getDegree()){let O=t;t=i,i=O}let l=t,s=i,c=this.field.getZero(),f=this.field.getOne();for(;s.getDegree()>=Math.round(r/2);){let O=l,L=c;if(l=s,c=f,l.isZero())throw $.getChecksumInstance();s=O;let k=this.field.getZero(),F=l.getCoefficient(l.getDegree()),V=this.field.inverse(F);for(;s.getDegree()>=l.getDegree()&&!s.isZero();){let ne=s.getDegree()-l.getDegree(),Ae=this.field.multiply(s.getCoefficient(s.getDegree()),V);k=k.add(this.field.buildMonomial(ne,Ae)),s=s.subtract(l.multiplyByMonomial(ne,Ae))}f=k.multiply(c).subtract(L).negative()}let x=f.getCoefficient(0);if(x===0)throw $.getChecksumInstance();let y=this.field.inverse(x),A=f.multiply(y),T=s.multiply(y);return[A,T]}findErrorLocations(t){let i=t.getDegree(),r=new Int32Array(i),l=0;for(let s=1;s<this.field.getSize()&&l<i;s++)t.evaluateAt(s)===0&&(r[l]=this.field.inverse(s),l++);if(l!==i)throw $.getChecksumInstance();return r}findErrorMagnitudes(t,i,r){let l=i.getDegree(),s=new Int32Array(l);for(let y=1;y<=l;y++)s[l-y]=this.field.multiply(y,i.getCoefficient(y));let c=new Vt(this.field,s),f=r.length,x=new Int32Array(f);for(let y=0;y<f;y++){let A=this.field.inverse(r[y]),T=this.field.subtract(0,t.evaluateAt(A)),O=this.field.inverse(c.evaluateAt(A));x[y]=this.field.multiply(T,O)}return x}}class Pi{constructor(t,i,r,l,s){t instanceof Pi?this.constructor_2(t):this.constructor_1(t,i,r,l,s)}constructor_1(t,i,r,l,s){const c=i==null||r==null,f=l==null||s==null;if(c&&f)throw new re;c?(i=new Te(0,l.getY()),r=new Te(0,s.getY())):f&&(l=new Te(t.getWidth()-1,i.getY()),s=new Te(t.getWidth()-1,r.getY())),this.image=t,this.topLeft=i,this.bottomLeft=r,this.topRight=l,this.bottomRight=s,this.minX=Math.trunc(Math.min(i.getX(),r.getX())),this.maxX=Math.trunc(Math.max(l.getX(),s.getX())),this.minY=Math.trunc(Math.min(i.getY(),l.getY())),this.maxY=Math.trunc(Math.max(r.getY(),s.getY()))}constructor_2(t){this.image=t.image,this.topLeft=t.getTopLeft(),this.bottomLeft=t.getBottomLeft(),this.topRight=t.getTopRight(),this.bottomRight=t.getBottomRight(),this.minX=t.getMinX(),this.maxX=t.getMaxX(),this.minY=t.getMinY(),this.maxY=t.getMaxY()}static merge(t,i){return t==null?i:i==null?t:new Pi(t.image,t.topLeft,t.bottomLeft,i.topRight,i.bottomRight)}addMissingRows(t,i,r){let l=this.topLeft,s=this.bottomLeft,c=this.topRight,f=this.bottomRight;if(t>0){let x=r?this.topLeft:this.topRight,y=Math.trunc(x.getY()-t);y<0&&(y=0);let A=new Te(x.getX(),y);r?l=A:c=A}if(i>0){let x=r?this.bottomLeft:this.bottomRight,y=Math.trunc(x.getY()+i);y>=this.image.getHeight()&&(y=this.image.getHeight()-1);let A=new Te(x.getX(),y);r?s=A:f=A}return new Pi(this.image,l,s,c,f)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class $a{constructor(t,i,r,l){this.columnCount=t,this.errorCorrectionLevel=l,this.rowCountUpperPart=i,this.rowCountLowerPart=r,this.rowCount=i+r}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Pr{constructor(){this.buffer=""}static form(t,i){let r=-1;function l(c,f,x,y,A,T){if(c==="%%")return"%";if(i[++r]===void 0)return;c=y?parseInt(y.substr(1)):void 0;let O=A?parseInt(A.substr(1)):void 0,L;switch(T){case"s":L=i[r];break;case"c":L=i[r][0];break;case"f":L=parseFloat(i[r]).toFixed(c);break;case"p":L=parseFloat(i[r]).toPrecision(c);break;case"e":L=parseFloat(i[r]).toExponential(c);break;case"x":L=parseInt(i[r]).toString(O||16);break;case"d":L=parseFloat(parseInt(i[r],O||10).toPrecision(c)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(O);let k=parseInt(x),F=x&&x[0]+""=="0"?"0":" ";for(;L.length<k;)L=f!==void 0?L+F:F+L;return L}let s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return t.replace(s,l)}format(t,...i){this.buffer+=Pr.form(t,i)}toString(){return this.buffer}}class Qi{constructor(t){this.boundingBox=new Pi(t),this.codewords=new Array(t.getMaxY()-t.getMinY()+1)}getCodewordNearby(t){let i=this.getCodeword(t);if(i!=null)return i;for(let r=1;r<Qi.MAX_NEARBY_DISTANCE;r++){let l=this.imageRowToCodewordIndex(t)-r;if(l>=0&&(i=this.codewords[l],i!=null)||(l=this.imageRowToCodewordIndex(t)+r,l<this.codewords.length&&(i=this.codewords[l],i!=null)))return i}return null}imageRowToCodewordIndex(t){return t-this.boundingBox.getMinY()}setCodeword(t,i){this.codewords[this.imageRowToCodewordIndex(t)]=i}getCodeword(t){return this.codewords[this.imageRowToCodewordIndex(t)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const t=new Pr;let i=0;for(const r of this.codewords){if(r==null){t.format("%3d:    |   %n",i++);continue}t.format("%3d: %3d|%3d%n",i++,r.getRowNumber(),r.getValue())}return t.toString()}}Qi.MAX_NEARBY_DISTANCE=5;class Ji{constructor(){this.values=new Map}setValue(t){t=Math.trunc(t);let i=this.values.get(t);i==null&&(i=0),i++,this.values.set(t,i)}getValue(){let t=-1,i=new Array;for(const[r,l]of this.values.entries()){const s={getKey:()=>r,getValue:()=>l};s.getValue()>t?(t=s.getValue(),i=[],i.push(s.getKey())):s.getValue()===t&&i.push(s.getKey())}return Ve.toIntArray(i)}getConfidence(t){return this.values.get(t)}}class Wl extends Qi{constructor(t,i){super(t),this._isLeft=i}setRowNumbers(){for(let t of this.getCodewords())t?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(t){let i=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(i,t);let r=this.getBoundingBox(),l=this._isLeft?r.getTopLeft():r.getTopRight(),s=this._isLeft?r.getBottomLeft():r.getBottomRight(),c=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(s.getY())),x=-1,y=1,A=0;for(let T=c;T<f;T++){if(i[T]==null)continue;let O=i[T],L=O.getRowNumber()-x;if(L===0)A++;else if(L===1)y=Math.max(y,A),A=1,x=O.getRowNumber();else if(L<0||O.getRowNumber()>=t.getRowCount()||L>T)i[T]=null;else{let k;y>2?k=(y-2)*L:k=L;let F=k>=T;for(let V=1;V<=k&&!F;V++)F=i[T-V]!=null;F?i[T]=null:(x=O.getRowNumber(),A=1)}}}getRowHeights(){let t=this.getBarcodeMetadata();if(t==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(t);let i=new Int32Array(t.getRowCount());for(let r of this.getCodewords())if(r!=null){let l=r.getRowNumber();if(l>=i.length)continue;i[l]++}return i}adjustIncompleteIndicatorColumnRowNumbers(t){let i=this.getBoundingBox(),r=this._isLeft?i.getTopLeft():i.getTopRight(),l=this._isLeft?i.getBottomLeft():i.getBottomRight(),s=this.imageRowToCodewordIndex(Math.trunc(r.getY())),c=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.getCodewords(),x=-1;for(let y=s;y<c;y++){if(f[y]==null)continue;let A=f[y];A.setRowNumberAsRowIndicatorColumn();let T=A.getRowNumber()-x;T===0||(T===1?x=A.getRowNumber():A.getRowNumber()>=t.getRowCount()?f[y]=null:x=A.getRowNumber())}}getBarcodeMetadata(){let t=this.getCodewords(),i=new Ji,r=new Ji,l=new Ji,s=new Ji;for(let f of t){if(f==null)continue;f.setRowNumberAsRowIndicatorColumn();let x=f.getValue()%30,y=f.getRowNumber();switch(this._isLeft||(y+=2),y%3){case 0:r.setValue(x*3+1);break;case 1:s.setValue(x/3),l.setValue(x%3);break;case 2:i.setValue(x+1);break}}if(i.getValue().length===0||r.getValue().length===0||l.getValue().length===0||s.getValue().length===0||i.getValue()[0]<1||r.getValue()[0]+l.getValue()[0]<Ve.MIN_ROWS_IN_BARCODE||r.getValue()[0]+l.getValue()[0]>Ve.MAX_ROWS_IN_BARCODE)return null;let c=new $a(i.getValue()[0],r.getValue()[0],l.getValue()[0],s.getValue()[0]);return this.removeIncorrectCodewords(t,c),c}removeIncorrectCodewords(t,i){for(let r=0;r<t.length;r++){let l=t[r];if(t[r]==null)continue;let s=l.getValue()%30,c=l.getRowNumber();if(c>i.getRowCount()){t[r]=null;continue}switch(this._isLeft||(c+=2),c%3){case 0:s*3+1!==i.getRowCountUpperPart()&&(t[r]=null);break;case 1:(Math.trunc(s/3)!==i.getErrorCorrectionLevel()||s%3!==i.getRowCountLowerPart())&&(t[r]=null);break;case 2:s+1!==i.getColumnCount()&&(t[r]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class yn{constructor(t,i){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=t,this.barcodeColumnCount=t.getColumnCount(),this.boundingBox=i,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let t=Ve.MAX_CODEWORDS_IN_BARCODE,i;do i=t,t=this.adjustRowNumbersAndGetCount();while(t>0&&t<i);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(t){t?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let t=this.adjustRowNumbersByRow();if(t===0)return 0;for(let i=1;i<this.barcodeColumnCount+1;i++){let r=this.detectionResultColumns[i].getCodewords();for(let l=0;l<r.length;l++)r[l]!=null&&(r[l].hasValidRowNumber()||this.adjustRowNumbers(i,l,r))}return t}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let t=this.detectionResultColumns[0].getCodewords(),i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<t.length;r++)if(t[r]!=null&&i[r]!=null&&t[r].getRowNumber()===i[r].getRowNumber())for(let l=1;l<=this.barcodeColumnCount;l++){let s=this.detectionResultColumns[l].getCodewords()[r];s!=null&&(s.setRowNumber(t[r].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[r]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let t=0,i=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let l=i[r].getRowNumber(),s=0;for(let c=this.barcodeColumnCount+1;c>0&&s<this.ADJUST_ROW_NUMBER_SKIP;c--){let f=this.detectionResultColumns[c].getCodewords()[r];f!=null&&(s=yn.adjustRowNumberIfValid(l,s,f),f.hasValidRowNumber()||t++)}}return t}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let t=0,i=this.detectionResultColumns[0].getCodewords();for(let r=0;r<i.length;r++){if(i[r]==null)continue;let l=i[r].getRowNumber(),s=0;for(let c=1;c<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;c++){let f=this.detectionResultColumns[c].getCodewords()[r];f!=null&&(s=yn.adjustRowNumberIfValid(l,s,f),f.hasValidRowNumber()||t++)}}return t}static adjustRowNumberIfValid(t,i,r){return r==null||r.hasValidRowNumber()||(r.isValidRowNumber(t)?(r.setRowNumber(t),i=0):++i),i}adjustRowNumbers(t,i,r){if(!this.detectionResultColumns[t-1])return;let l=r[i],s=this.detectionResultColumns[t-1].getCodewords(),c=s;this.detectionResultColumns[t+1]!=null&&(c=this.detectionResultColumns[t+1].getCodewords());let f=new Array(14);f[2]=s[i],f[3]=c[i],i>0&&(f[0]=r[i-1],f[4]=s[i-1],f[5]=c[i-1]),i>1&&(f[8]=r[i-2],f[10]=s[i-2],f[11]=c[i-2]),i<r.length-1&&(f[1]=r[i+1],f[6]=s[i+1],f[7]=c[i+1]),i<r.length-2&&(f[9]=r[i+2],f[12]=s[i+2],f[13]=c[i+2]);for(let x of f)if(yn.adjustRowNumber(l,x))return}static adjustRowNumber(t,i){return i==null?!1:i.hasValidRowNumber()&&i.getBucket()===t.getBucket()?(t.setRowNumber(i.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(t){this.boundingBox=t}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(t,i){this.detectionResultColumns[t]=i}getDetectionResultColumn(t){return this.detectionResultColumns[t]}toString(){let t=this.detectionResultColumns[0];t==null&&(t=this.detectionResultColumns[this.barcodeColumnCount+1]);let i=new Pr;for(let r=0;r<t.getCodewords().length;r++){i.format("CW %3d:",r);for(let l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){i.format("    |   ");continue}let s=this.detectionResultColumns[l].getCodewords()[r];if(s==null){i.format("    |   ");continue}i.format(" %3d|%3d",s.getRowNumber(),s.getValue())}i.format("%n")}return i.toString()}}class ui{constructor(t,i,r,l){this.rowNumber=ui.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(t),this.endX=Math.trunc(i),this.bucket=Math.trunc(r),this.value=Math.trunc(l)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(t){return t!==ui.BARCODE_ROW_UNKNOWN&&this.bucket===t%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(t){this.rowNumber=t}toString(){return this.rowNumber+"|"+this.value}}ui.BARCODE_ROW_UNKNOWN=-1;class vn{static initialize(){for(let t=0;t<Ve.SYMBOL_TABLE.length;t++){let i=Ve.SYMBOL_TABLE[t],r=i&1;for(let l=0;l<Ve.BARS_IN_MODULE;l++){let s=0;for(;(i&1)===r;)s+=1,i>>=1;r=i&1,vn.RATIOS_TABLE[t]||(vn.RATIOS_TABLE[t]=new Array(Ve.BARS_IN_MODULE)),vn.RATIOS_TABLE[t][Ve.BARS_IN_MODULE-l-1]=Math.fround(s/Ve.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(t){let i=vn.getDecodedCodewordValue(vn.sampleBitCounts(t));return i!==-1?i:vn.getClosestDecodedValue(t)}static sampleBitCounts(t){let i=ct.sum(t),r=new Int32Array(Ve.BARS_IN_MODULE),l=0,s=0;for(let c=0;c<Ve.MODULES_IN_CODEWORD;c++){let f=i/(2*Ve.MODULES_IN_CODEWORD)+c*i/Ve.MODULES_IN_CODEWORD;s+t[l]<=f&&(s+=t[l],l++),r[l]++}return r}static getDecodedCodewordValue(t){let i=vn.getBitValue(t);return Ve.getCodeword(i)===-1?-1:i}static getBitValue(t){let i=0;for(let r=0;r<t.length;r++)for(let l=0;l<t[r];l++)i=i<<1|(r%2===0?1:0);return Math.trunc(i)}static getClosestDecodedValue(t){let i=ct.sum(t),r=new Array(Ve.BARS_IN_MODULE);if(i>1)for(let c=0;c<r.length;c++)r[c]=Math.fround(t[c]/i);let l=Ie.MAX_VALUE,s=-1;this.bSymbolTableReady||vn.initialize();for(let c=0;c<vn.RATIOS_TABLE.length;c++){let f=0,x=vn.RATIOS_TABLE[c];for(let y=0;y<Ve.BARS_IN_MODULE;y++){let A=Math.fround(x[y]-r[y]);if(f+=Math.fround(A*A),f>=l)break}f<l&&(l=f,s=Ve.SYMBOL_TABLE[c])}return s}}vn.bSymbolTableReady=!1,vn.RATIOS_TABLE=new Array(Ve.SYMBOL_TABLE.length).map(v=>new Array(Ve.BARS_IN_MODULE));class Gr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(t){this.segmentIndex=t}getFileId(){return this.fileId}setFileId(t){this.fileId=t}getOptionalData(){return this.optionalData}setOptionalData(t){this.optionalData=t}isLastSegment(){return this.lastSegment}setLastSegment(t){this.lastSegment=t}getSegmentCount(){return this.segmentCount}setSegmentCount(t){this.segmentCount=t}getSender(){return this.sender||null}setSender(t){this.sender=t}getAddressee(){return this.addressee||null}setAddressee(t){this.addressee=t}getFileName(){return this.fileName}setFileName(t){this.fileName=t}getFileSize(){return this.fileSize}setFileSize(t){this.fileSize=t}getChecksum(){return this.checksum}setChecksum(t){this.checksum=t}getTimestamp(){return this.timestamp}setTimestamp(t){this.timestamp=t}}class Js{static parseLong(t,i=void 0){return parseInt(t,i)}}class el extends w{}el.kind="NullPointerException";class ql{writeBytes(t){this.writeBytesOffset(t,0,t.length)}writeBytesOffset(t,i,r){if(t==null)throw new el;if(i<0||i>t.length||r<0||i+r>t.length||i+r<0)throw new K;if(r===0)return;for(let l=0;l<r;l++)this.write(t[i+l])}flush(){}close(){}}class va extends w{}class tl extends ql{constructor(t=32){if(super(),this.count=0,t<0)throw new M("Negative initial size: "+t);this.buf=new Uint8Array(t)}ensureCapacity(t){t-this.buf.length>0&&this.grow(t)}grow(t){let r=this.buf.length<<1;if(r-t<0&&(r=t),r<0){if(t<0)throw new va;r=ae.MAX_VALUE}this.buf=de.copyOfUint8Array(this.buf,r)}write(t){this.ensureCapacity(this.count+1),this.buf[this.count]=t,this.count+=1}writeBytesOffset(t,i,r){if(i<0||i>t.length||r<0||i+r-t.length>0)throw new K;this.ensureCapacity(this.count+r),Z.arraycopy(t,i,this.buf,this.count,r),this.count+=r}writeTo(t){t.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return de.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(t){return t?typeof t=="string"?this.toString_string(t):this.toString_number(t):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(t){return new String(this.buf).toString()}toString_number(t){return new String(this.buf).toString()}close(){}}var Nt;(function(v){v[v.ALPHA=0]="ALPHA",v[v.LOWER=1]="LOWER",v[v.MIXED=2]="MIXED",v[v.PUNCT=3]="PUNCT",v[v.ALPHA_SHIFT=4]="ALPHA_SHIFT",v[v.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Nt||(Nt={}));function $s(){if(typeof window<"u")return window.BigInt||null;if(typeof fc<"u")return fc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let nl;function $i(v){if(typeof nl>"u"&&(nl=$s()),nl===null)throw new Error("BigInt is not supported!");return nl(v)}function Zl(){let v=[];v[0]=$i(1);let t=$i(900);v[1]=t;for(let i=2;i<16;i++)v[i]=v[i-1]*t;return v}class ie{static decode(t,i){let r=new je(""),l=X.ISO8859_1;r.enableDecoding(l);let s=1,c=t[s++],f=new Gr;for(;s<t[0];){switch(c){case ie.TEXT_COMPACTION_MODE_LATCH:s=ie.textCompaction(t,s,r);break;case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:s=ie.byteCompaction(c,t,l,s,r);break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[s++]);break;case ie.NUMERIC_COMPACTION_MODE_LATCH:s=ie.numericCompaction(t,s,r);break;case ie.ECI_CHARSET:X.getCharacterSetECIByValue(t[s++]);break;case ie.ECI_GENERAL_PURPOSE:s+=2;break;case ie.ECI_USER_DEFINED:s++;break;case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=ie.decodeMacroBlock(t,s,f);break;case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:throw new P;default:s--,s=ie.textCompaction(t,s,r);break}if(s<t.length)c=t[s++];else throw P.getFormatInstance()}if(r.length()===0)throw P.getFormatInstance();let x=new Tt(null,r.toString(),null,i);return x.setOther(f),x}static decodeMacroBlock(t,i,r){if(i+ie.NUMBER_OF_SEQUENCE_CODEWORDS>t[0])throw P.getFormatInstance();let l=new Int32Array(ie.NUMBER_OF_SEQUENCE_CODEWORDS);for(let f=0;f<ie.NUMBER_OF_SEQUENCE_CODEWORDS;f++,i++)l[f]=t[i];r.setSegmentIndex(ae.parseInt(ie.decodeBase900toBase10(l,ie.NUMBER_OF_SEQUENCE_CODEWORDS)));let s=new je;i=ie.textCompaction(t,i,s),r.setFileId(s.toString());let c=-1;for(t[i]===ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(c=i+1);i<t[0];)switch(t[i]){case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(i++,t[i]){case ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let f=new je;i=ie.textCompaction(t,i+1,f),r.setFileName(f.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let x=new je;i=ie.textCompaction(t,i+1,x),r.setSender(x.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let y=new je;i=ie.textCompaction(t,i+1,y),r.setAddressee(y.toString());break;case ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let A=new je;i=ie.numericCompaction(t,i+1,A),r.setSegmentCount(ae.parseInt(A.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let T=new je;i=ie.numericCompaction(t,i+1,T),r.setTimestamp(Js.parseLong(T.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let O=new je;i=ie.numericCompaction(t,i+1,O),r.setChecksum(ae.parseInt(O.toString()));break;case ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new je;i=ie.numericCompaction(t,i+1,L),r.setFileSize(Js.parseLong(L.toString()));break;default:throw P.getFormatInstance()}break;case ie.MACRO_PDF417_TERMINATOR:i++,r.setLastSegment(!0);break;default:throw P.getFormatInstance()}if(c!==-1){let f=i-c;r.isLastSegment()&&f--,r.setOptionalData(de.copyOfRange(t,c,c+f))}return i}static textCompaction(t,i,r){let l=new Int32Array((t[0]-i)*2),s=new Int32Array((t[0]-i)*2),c=0,f=!1;for(;i<t[0]&&!f;){let x=t[i++];if(x<ie.TEXT_COMPACTION_MODE_LATCH)l[c]=x/30,l[c+1]=x%30,c+=2;else switch(x){case ie.TEXT_COMPACTION_MODE_LATCH:l[c++]=ie.TEXT_COMPACTION_MODE_LATCH;break;case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:i--,f=!0;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[c]=ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,x=t[i++],s[c]=x,c++;break}}return ie.decodeTextCompaction(l,s,c,r),i}static decodeTextCompaction(t,i,r,l){let s=Nt.ALPHA,c=Nt.ALPHA,f=0;for(;f<r;){let x=t[f],y="";switch(s){case Nt.ALPHA:if(x<26)y=String.fromCharCode(65+x);else switch(x){case 26:y=" ";break;case ie.LL:s=Nt.LOWER;break;case ie.ML:s=Nt.MIXED;break;case ie.PS:c=s,s=Nt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[f]);break;case ie.TEXT_COMPACTION_MODE_LATCH:s=Nt.ALPHA;break}break;case Nt.LOWER:if(x<26)y=String.fromCharCode(97+x);else switch(x){case 26:y=" ";break;case ie.AS:c=s,s=Nt.ALPHA_SHIFT;break;case ie.ML:s=Nt.MIXED;break;case ie.PS:c=s,s=Nt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[f]);break;case ie.TEXT_COMPACTION_MODE_LATCH:s=Nt.ALPHA;break}break;case Nt.MIXED:if(x<ie.PL)y=ie.MIXED_CHARS[x];else switch(x){case ie.PL:s=Nt.PUNCT;break;case 26:y=" ";break;case ie.LL:s=Nt.LOWER;break;case ie.AL:s=Nt.ALPHA;break;case ie.PS:c=s,s=Nt.PUNCT_SHIFT;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[f]);break;case ie.TEXT_COMPACTION_MODE_LATCH:s=Nt.ALPHA;break}break;case Nt.PUNCT:if(x<ie.PAL)y=ie.PUNCT_CHARS[x];else switch(x){case ie.PAL:s=Nt.ALPHA;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[f]);break;case ie.TEXT_COMPACTION_MODE_LATCH:s=Nt.ALPHA;break}break;case Nt.ALPHA_SHIFT:if(s=c,x<26)y=String.fromCharCode(65+x);else switch(x){case 26:y=" ";break;case ie.TEXT_COMPACTION_MODE_LATCH:s=Nt.ALPHA;break}break;case Nt.PUNCT_SHIFT:if(s=c,x<ie.PAL)y=ie.PUNCT_CHARS[x];else switch(x){case ie.PAL:s=Nt.ALPHA;break;case ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[f]);break;case ie.TEXT_COMPACTION_MODE_LATCH:s=Nt.ALPHA;break}break}y!==""&&l.append(y),f++}}static byteCompaction(t,i,r,l,s){let c=new tl,f=0,x=0,y=!1;switch(t){case ie.BYTE_COMPACTION_MODE_LATCH:let A=new Int32Array(6),T=i[l++];for(;l<i[0]&&!y;)switch(A[f++]=T,x=900*x+T,T=i[l++],T){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:l--,y=!0;break;default:if(f%5===0&&f>0){for(let O=0;O<6;++O)c.write(Number($i(x)>>$i(8*(5-O))));x=0,f=0}break}l===i[0]&&T<ie.TEXT_COMPACTION_MODE_LATCH&&(A[f++]=T);for(let O=0;O<f;O++)c.write(A[O]);break;case ie.BYTE_COMPACTION_MODE_LATCH_6:for(;l<i[0]&&!y;){let O=i[l++];if(O<ie.TEXT_COMPACTION_MODE_LATCH)f++,x=900*x+O;else switch(O){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.NUMERIC_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:l--,y=!0;break}if(f%5===0&&f>0){for(let L=0;L<6;++L)c.write(Number($i(x)>>$i(8*(5-L))));x=0,f=0}}break}return s.append(Ge.decode(c.toByteArray(),r)),l}static numericCompaction(t,i,r){let l=0,s=!1,c=new Int32Array(ie.MAX_NUMERIC_CODEWORDS);for(;i<t[0]&&!s;){let f=t[i++];if(i===t[0]&&(s=!0),f<ie.TEXT_COMPACTION_MODE_LATCH)c[l]=f,l++;else switch(f){case ie.TEXT_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH:case ie.BYTE_COMPACTION_MODE_LATCH_6:case ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ie.MACRO_PDF417_TERMINATOR:i--,s=!0;break}(l%ie.MAX_NUMERIC_CODEWORDS===0||f===ie.NUMERIC_COMPACTION_MODE_LATCH||s)&&l>0&&(r.append(ie.decodeBase900toBase10(c,l)),l=0)}return i}static decodeBase900toBase10(t,i){let r=$i(0);for(let s=0;s<i;s++)r+=ie.EXP900[i-s-1]*$i(t[s]);let l=r.toString();if(l.charAt(0)!=="1")throw new P;return l.substring(1)}}ie.TEXT_COMPACTION_MODE_LATCH=900,ie.BYTE_COMPACTION_MODE_LATCH=901,ie.NUMERIC_COMPACTION_MODE_LATCH=902,ie.BYTE_COMPACTION_MODE_LATCH_6=924,ie.ECI_USER_DEFINED=925,ie.ECI_GENERAL_PURPOSE=926,ie.ECI_CHARSET=927,ie.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ie.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ie.MACRO_PDF417_TERMINATOR=922,ie.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ie.MAX_NUMERIC_CODEWORDS=15,ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ie.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ie.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ie.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ie.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ie.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ie.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ie.PL=25,ie.LL=27,ie.AS=27,ie.ML=28,ie.AL=28,ie.PS=29,ie.PAL=29,ie.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ie.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ie.EXP900=$s()?Zl():[],ie.NUMBER_OF_SEQUENCE_CODEWORDS=2;class rt{constructor(){}static decode(t,i,r,l,s,c,f){let x=new Pi(t,i,r,l,s),y=null,A=null,T;for(let k=!0;;k=!1){if(i!=null&&(y=rt.getRowIndicatorColumn(t,x,i,!0,c,f)),l!=null&&(A=rt.getRowIndicatorColumn(t,x,l,!1,c,f)),T=rt.merge(y,A),T==null)throw re.getNotFoundInstance();let F=T.getBoundingBox();if(k&&F!=null&&(F.getMinY()<x.getMinY()||F.getMaxY()>x.getMaxY()))x=F;else break}T.setBoundingBox(x);let O=T.getBarcodeColumnCount()+1;T.setDetectionResultColumn(0,y),T.setDetectionResultColumn(O,A);let L=y!=null;for(let k=1;k<=O;k++){let F=L?k:O-k;if(T.getDetectionResultColumn(F)!==void 0)continue;let V;F===0||F===O?V=new Wl(x,F===0):V=new Qi(x),T.setDetectionResultColumn(F,V);let ne=-1,Ae=ne;for(let be=x.getMinY();be<=x.getMaxY();be++){if(ne=rt.getStartColumn(T,F,be,L),ne<0||ne>x.getMaxX()){if(Ae===-1)continue;ne=Ae}let pe=rt.detectCodeword(t,x.getMinX(),x.getMaxX(),L,ne,be,c,f);pe!=null&&(V.setCodeword(be,pe),Ae=ne,c=Math.min(c,pe.getWidth()),f=Math.max(f,pe.getWidth()))}}return rt.createDecoderResult(T)}static merge(t,i){if(t==null&&i==null)return null;let r=rt.getBarcodeMetadata(t,i);if(r==null)return null;let l=Pi.merge(rt.adjustBoundingBox(t),rt.adjustBoundingBox(i));return new yn(r,l)}static adjustBoundingBox(t){if(t==null)return null;let i=t.getRowHeights();if(i==null)return null;let r=rt.getMax(i),l=0;for(let f of i)if(l+=r-f,f>0)break;let s=t.getCodewords();for(let f=0;l>0&&s[f]==null;f++)l--;let c=0;for(let f=i.length-1;f>=0&&(c+=r-i[f],!(i[f]>0));f--);for(let f=s.length-1;c>0&&s[f]==null;f--)c--;return t.getBoundingBox().addMissingRows(l,c,t.isLeft())}static getMax(t){let i=-1;for(let r of t)i=Math.max(i,r);return i}static getBarcodeMetadata(t,i){let r;if(t==null||(r=t.getBarcodeMetadata())==null)return i==null?null:i.getBarcodeMetadata();let l;return i==null||(l=i.getBarcodeMetadata())==null?r:r.getColumnCount()!==l.getColumnCount()&&r.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&r.getRowCount()!==l.getRowCount()?null:r}static getRowIndicatorColumn(t,i,r,l,s,c){let f=new Wl(i,l);for(let x=0;x<2;x++){let y=x===0?1:-1,A=Math.trunc(Math.trunc(r.getX()));for(let T=Math.trunc(Math.trunc(r.getY()));T<=i.getMaxY()&&T>=i.getMinY();T+=y){let O=rt.detectCodeword(t,0,t.getWidth(),l,A,T,s,c);O!=null&&(f.setCodeword(T,O),l?A=O.getStartX():A=O.getEndX())}}return f}static adjustCodewordCount(t,i){let r=i[0][1],l=r.getValue(),s=t.getBarcodeColumnCount()*t.getBarcodeRowCount()-rt.getNumberOfECCodeWords(t.getBarcodeECLevel());if(l.length===0){if(s<1||s>Ve.MAX_CODEWORDS_IN_BARCODE)throw re.getNotFoundInstance();r.setValue(s)}else l[0]!==s&&r.setValue(s)}static createDecoderResult(t){let i=rt.createBarcodeMatrix(t);rt.adjustCodewordCount(t,i);let r=new Array,l=new Int32Array(t.getBarcodeRowCount()*t.getBarcodeColumnCount()),s=[],c=new Array;for(let x=0;x<t.getBarcodeRowCount();x++)for(let y=0;y<t.getBarcodeColumnCount();y++){let A=i[x][y+1].getValue(),T=x*t.getBarcodeColumnCount()+y;A.length===0?r.push(T):A.length===1?l[T]=A[0]:(c.push(T),s.push(A))}let f=new Array(s.length);for(let x=0;x<f.length;x++)f[x]=s[x];return rt.createDecoderResultFromAmbiguousValues(t.getBarcodeECLevel(),l,Ve.toIntArray(r),Ve.toIntArray(c),f)}static createDecoderResultFromAmbiguousValues(t,i,r,l,s){let c=new Int32Array(l.length),f=100;for(;f-- >0;){for(let x=0;x<c.length;x++)i[l[x]]=s[x][c[x]];try{return rt.decodeCodewords(i,t,r)}catch(x){if(!(x instanceof $))throw x}if(c.length===0)throw $.getChecksumInstance();for(let x=0;x<c.length;x++)if(c[x]<s[x].length-1){c[x]++;break}else if(c[x]=0,x===c.length-1)throw $.getChecksumInstance()}throw $.getChecksumInstance()}static createBarcodeMatrix(t){let i=Array.from({length:t.getBarcodeRowCount()},()=>new Array(t.getBarcodeColumnCount()+2));for(let l=0;l<i.length;l++)for(let s=0;s<i[l].length;s++)i[l][s]=new Ji;let r=0;for(let l of t.getDetectionResultColumns()){if(l!=null){for(let s of l.getCodewords())if(s!=null){let c=s.getRowNumber();if(c>=0){if(c>=i.length)continue;i[c][r].setValue(s.getValue())}}}r++}return i}static isValidBarcodeColumn(t,i){return i>=0&&i<=t.getBarcodeColumnCount()+1}static getStartColumn(t,i,r,l){let s=l?1:-1,c=null;if(rt.isValidBarcodeColumn(t,i-s)&&(c=t.getDetectionResultColumn(i-s).getCodeword(r)),c!=null)return l?c.getEndX():c.getStartX();if(c=t.getDetectionResultColumn(i).getCodewordNearby(r),c!=null)return l?c.getStartX():c.getEndX();if(rt.isValidBarcodeColumn(t,i-s)&&(c=t.getDetectionResultColumn(i-s).getCodewordNearby(r)),c!=null)return l?c.getEndX():c.getStartX();let f=0;for(;rt.isValidBarcodeColumn(t,i-s);){i-=s;for(let x of t.getDetectionResultColumn(i).getCodewords())if(x!=null)return(l?x.getEndX():x.getStartX())+s*f*(x.getEndX()-x.getStartX());f++}return l?t.getBoundingBox().getMinX():t.getBoundingBox().getMaxX()}static detectCodeword(t,i,r,l,s,c,f,x){s=rt.adjustCodewordStartColumn(t,i,r,l,s,c);let y=rt.getModuleBitCount(t,i,r,l,s,c);if(y==null)return null;let A,T=ct.sum(y);if(l)A=s+T;else{for(let k=0;k<y.length/2;k++){let F=y[k];y[k]=y[y.length-1-k],y[y.length-1-k]=F}A=s,s=A-T}if(!rt.checkCodewordSkew(T,f,x))return null;let O=vn.getDecodedValue(y),L=Ve.getCodeword(O);return L===-1?null:new ui(s,A,rt.getCodewordBucketNumber(O),L)}static getModuleBitCount(t,i,r,l,s,c){let f=s,x=new Int32Array(8),y=0,A=l?1:-1,T=l;for(;(l?f<r:f>=i)&&y<x.length;)t.get(f,c)===T?(x[y]++,f+=A):(y++,T=!T);return y===x.length||f===(l?r:i)&&y===x.length-1?x:null}static getNumberOfECCodeWords(t){return 2<<t}static adjustCodewordStartColumn(t,i,r,l,s,c){let f=s,x=l?-1:1;for(let y=0;y<2;y++){for(;(l?f>=i:f<r)&&l===t.get(f,c);){if(Math.abs(s-f)>rt.CODEWORD_SKEW_SIZE)return s;f+=x}x=-x,l=!l}return f}static checkCodewordSkew(t,i,r){return i-rt.CODEWORD_SKEW_SIZE<=t&&t<=r+rt.CODEWORD_SKEW_SIZE}static decodeCodewords(t,i,r){if(t.length===0)throw P.getFormatInstance();let l=1<<i+1,s=rt.correctErrors(t,r,l);rt.verifyCodewordCount(t,l);let c=ie.decode(t,""+i);return c.setErrorsCorrected(s),c.setErasures(r.length),c}static correctErrors(t,i,r){if(i!=null&&i.length>r/2+rt.MAX_ERRORS||r<0||r>rt.MAX_EC_CODEWORDS)throw $.getChecksumInstance();return rt.errorCorrection.decode(t,r,i)}static verifyCodewordCount(t,i){if(t.length<4)throw P.getFormatInstance();let r=t[0];if(r>t.length)throw P.getFormatInstance();if(r===0)if(i<t.length)t[0]=t.length-i;else throw P.getFormatInstance()}static getBitCountForCodeword(t){let i=new Int32Array(8),r=0,l=i.length-1;for(;!((t&1)!==r&&(r=t&1,l--,l<0));)i[l]++,t>>=1;return i}static getCodewordBucketNumber(t){return t instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(t):this.getCodewordBucketNumber_number(t)}static getCodewordBucketNumber_number(t){return rt.getCodewordBucketNumber(rt.getBitCountForCodeword(t))}static getCodewordBucketNumber_Int32Array(t){return(t[0]-t[2]+t[4]-t[6]+9)%9}static toString(t){let i=new Pr;for(let r=0;r<t.length;r++){i.format("Row %2d: ",r);for(let l=0;l<t[r].length;l++){let s=t[r][l];s.getValue().length===0?i.format("        ",null):i.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}i.format("%n")}return i.toString()}}rt.CODEWORD_SKEW_SIZE=2,rt.MAX_ERRORS=3,rt.MAX_EC_CODEWORDS=512,rt.errorCorrection=new Hi;class Tn{decode(t,i=null){let r=Tn.decode(t,i,!1);if(r==null||r.length===0||r[0]==null)throw re.getNotFoundInstance();return r[0]}decodeMultiple(t,i=null){try{return Tn.decode(t,i,!0)}catch(r){throw r instanceof P||r instanceof $?re.getNotFoundInstance():r}}static decode(t,i,r){const l=new Array,s=Ze.detectMultiple(t,i,r);for(const c of s.getPoints()){const f=rt.decode(s.getBits(),c[4],c[5],c[6],c[7],Tn.getMinCodewordWidth(c),Tn.getMaxCodewordWidth(c)),x=new me(f.getText(),f.getRawBytes(),void 0,c,ye.PDF_417);x.putMetadata(tt.ERROR_CORRECTION_LEVEL,f.getECLevel());const y=f.getOther();y!=null&&x.putMetadata(tt.PDF417_EXTRA_METADATA,y),l.push(x)}return l.map(c=>c)}static getMaxWidth(t,i){return t==null||i==null?0:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMinWidth(t,i){return t==null||i==null?ae.MAX_VALUE:Math.trunc(Math.abs(t.getX()-i.getX()))}static getMaxCodewordWidth(t){return Math.floor(Math.max(Math.max(Tn.getMaxWidth(t[0],t[4]),Tn.getMaxWidth(t[6],t[2])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN),Math.max(Tn.getMaxWidth(t[1],t[5]),Tn.getMaxWidth(t[7],t[3])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(t){return Math.floor(Math.min(Math.min(Tn.getMinWidth(t[0],t[4]),Tn.getMinWidth(t[6],t[2])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN),Math.min(Tn.getMinWidth(t[1],t[5]),Tn.getMinWidth(t[7],t[3])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN)))}reset(){}}class il extends w{}il.kind="ReaderException";class eo{constructor(t,i){this.verbose=t===!0,i&&this.setHints(i)}decode(t,i){return i&&this.setHints(i),this.decodeInternal(t)}decodeWithState(t){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(t)}setHints(t){this.hints=t;const i=!p(t)&&t.get(Me.TRY_HARDER)===!0,r=p(t)?null:t.get(Me.POSSIBLE_FORMATS),l=new Array;if(!p(r)){const s=r.some(c=>c===ye.UPC_A||c===ye.UPC_E||c===ye.EAN_13||c===ye.EAN_8||c===ye.CODABAR||c===ye.CODE_39||c===ye.CODE_93||c===ye.CODE_128||c===ye.ITF||c===ye.RSS_14||c===ye.RSS_EXPANDED);s&&!i&&l.push(new oi(t,this.verbose)),r.includes(ye.QR_CODE)&&l.push(new ji),r.includes(ye.DATA_MATRIX)&&l.push(new Fi),r.includes(ye.AZTEC)&&l.push(new or),r.includes(ye.PDF_417)&&l.push(new Tn),s&&i&&l.push(new oi(t,this.verbose))}l.length===0&&(i||l.push(new oi(t,this.verbose)),l.push(new ji),l.push(new Fi),l.push(new or),l.push(new Tn),i&&l.push(new oi(t,this.verbose))),this.readers=l}reset(){if(this.readers!==null)for(const t of this.readers)t.reset()}decodeInternal(t){if(this.readers===null)throw new il("No readers where selected, nothing can be read.");for(const i of this.readers)try{return i.decode(t,this.hints)}catch(r){if(r instanceof il)continue}throw new re("No MultiFormat Readers were able to detect the code.")}}class to extends ve{constructor(t=null,i=500){const r=new eo;r.setHints(t),super(r,i)}decodeBitmap(t){return this.reader.decodeWithState(t)}}class Uc extends ve{constructor(t=500){super(new Tn,t)}}class kc extends ve{constructor(t=500){super(new ji,t)}}var Kl;(function(v){v[v.ERROR_CORRECTION=0]="ERROR_CORRECTION",v[v.CHARACTER_SET=1]="CHARACTER_SET",v[v.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",v[v.MIN_SIZE=3]="MIN_SIZE",v[v.MAX_SIZE=4]="MAX_SIZE",v[v.MARGIN=5]="MARGIN",v[v.PDF417_COMPACT=6]="PDF417_COMPACT",v[v.PDF417_COMPACTION=7]="PDF417_COMPACTION",v[v.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",v[v.AZTEC_LAYERS=9]="AZTEC_LAYERS",v[v.QR_VERSION=10]="QR_VERSION"})(Kl||(Kl={}));var hn=Kl;class Ta{constructor(t){this.field=t,this.cachedGenerators=[],this.cachedGenerators.push(new rn(t,Int32Array.from([1])))}buildGenerator(t){const i=this.cachedGenerators;if(t>=i.length){let r=i[i.length-1];const l=this.field;for(let s=i.length;s<=t;s++){const c=r.multiply(new rn(l,Int32Array.from([1,l.exp(s-1+l.getGeneratorBase())])));i.push(c),r=c}}return i[t]}encode(t,i){if(i===0)throw new M("No error correction bytes");const r=t.length-i;if(r<=0)throw new M("No data bytes provided");const l=this.buildGenerator(i),s=new Int32Array(r);Z.arraycopy(t,0,s,0,r);let c=new rn(this.field,s);c=c.multiplyByMonomial(i,1);const x=c.divide(l)[1].getCoefficients(),y=i-x.length;for(let A=0;A<y;A++)t[r+A]=0;Z.arraycopy(x,0,t,r+y,x.length)}}class Qt{constructor(){}static applyMaskPenaltyRule1(t){return Qt.applyMaskPenaltyRule1Internal(t,!0)+Qt.applyMaskPenaltyRule1Internal(t,!1)}static applyMaskPenaltyRule2(t){let i=0;const r=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let c=0;c<s-1;c++){const f=r[c];for(let x=0;x<l-1;x++){const y=f[x];y===f[x+1]&&y===r[c+1][x]&&y===r[c+1][x+1]&&i++}}return Qt.N2*i}static applyMaskPenaltyRule3(t){let i=0;const r=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let c=0;c<s;c++)for(let f=0;f<l;f++){const x=r[c];f+6<l&&x[f]===1&&x[f+1]===0&&x[f+2]===1&&x[f+3]===1&&x[f+4]===1&&x[f+5]===0&&x[f+6]===1&&(Qt.isWhiteHorizontal(x,f-4,f)||Qt.isWhiteHorizontal(x,f+7,f+11))&&i++,c+6<s&&r[c][f]===1&&r[c+1][f]===0&&r[c+2][f]===1&&r[c+3][f]===1&&r[c+4][f]===1&&r[c+5][f]===0&&r[c+6][f]===1&&(Qt.isWhiteVertical(r,f,c-4,c)||Qt.isWhiteVertical(r,f,c+7,c+11))&&i++}return i*Qt.N3}static isWhiteHorizontal(t,i,r){i=Math.max(i,0),r=Math.min(r,t.length);for(let l=i;l<r;l++)if(t[l]===1)return!1;return!0}static isWhiteVertical(t,i,r,l){r=Math.max(r,0),l=Math.min(l,t.length);for(let s=r;s<l;s++)if(t[s][i]===1)return!1;return!0}static applyMaskPenaltyRule4(t){let i=0;const r=t.getArray(),l=t.getWidth(),s=t.getHeight();for(let x=0;x<s;x++){const y=r[x];for(let A=0;A<l;A++)y[A]===1&&i++}const c=t.getHeight()*t.getWidth();return Math.floor(Math.abs(i*2-c)*10/c)*Qt.N4}static getDataMaskBit(t,i,r){let l,s;switch(t){case 0:l=r+i&1;break;case 1:l=r&1;break;case 2:l=i%3;break;case 3:l=(r+i)%3;break;case 4:l=Math.floor(r/2)+Math.floor(i/3)&1;break;case 5:s=r*i,l=(s&1)+s%3;break;case 6:s=r*i,l=(s&1)+s%3&1;break;case 7:s=r*i,l=s%3+(r+i&1)&1;break;default:throw new M("Invalid mask pattern: "+t)}return l===0}static applyMaskPenaltyRule1Internal(t,i){let r=0;const l=i?t.getHeight():t.getWidth(),s=i?t.getWidth():t.getHeight(),c=t.getArray();for(let f=0;f<l;f++){let x=0,y=-1;for(let A=0;A<s;A++){const T=i?c[f][A]:c[A][f];T===y?x++:(x>=5&&(r+=Qt.N1+(x-5)),x=1,y=T)}x>=5&&(r+=Qt.N1+(x-5))}return r}}Qt.N1=3,Qt.N2=3,Qt.N3=40,Qt.N4=10;class rl{constructor(t,i){this.width=t,this.height=i;const r=new Array(i);for(let l=0;l!==i;l++)r[l]=new Uint8Array(t);this.bytes=r}getHeight(){return this.height}getWidth(){return this.width}get(t,i){return this.bytes[i][t]}getArray(){return this.bytes}setNumber(t,i,r){this.bytes[i][t]=r}setBoolean(t,i,r){this.bytes[i][t]=r?1:0}clear(t){for(const i of this.bytes)de.fill(i,t)}equals(t){if(!(t instanceof rl))return!1;const i=t;if(this.width!==i.width||this.height!==i.height)return!1;for(let r=0,l=this.height;r<l;++r){const s=this.bytes[r],c=i.bytes[r];for(let f=0,x=this.width;f<x;++f)if(s[f]!==c[f])return!1}return!0}toString(){const t=new je;for(let i=0,r=this.height;i<r;++i){const l=this.bytes[i];for(let s=0,c=this.width;s<c;++s)switch(l[s]){case 0:t.append(" 0");break;case 1:t.append(" 1");break;default:t.append("  ");break}t.append(`
`)}return t.toString()}}class ur{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const t=new je;return t.append(`<<
`),t.append(" mode: "),t.append(this.mode?this.mode.toString():"null"),t.append(`
 ecLevel: `),t.append(this.ecLevel?this.ecLevel.toString():"null"),t.append(`
 version: `),t.append(this.version?this.version.toString():"null"),t.append(`
 maskPattern: `),t.append(this.maskPattern.toString()),this.matrix?(t.append(`
 matrix:
`),t.append(this.matrix.toString())):t.append(`
 matrix: null
`),t.append(`>>
`),t.toString()}setMode(t){this.mode=t}setECLevel(t){this.ecLevel=t}setVersion(t){this.version=t}setMaskPattern(t){this.maskPattern=t}setMatrix(t){this.matrix=t}static isValidMaskPattern(t){return t>=0&&t<ur.NUM_MASK_PATTERNS}}ur.NUM_MASK_PATTERNS=8;class It extends w{}It.kind="WriterException";class Xe{constructor(){}static clearMatrix(t){t.clear(255)}static buildMatrix(t,i,r,l,s){Xe.clearMatrix(s),Xe.embedBasicPatterns(r,s),Xe.embedTypeInfo(i,l,s),Xe.maybeEmbedVersionInfo(r,s),Xe.embedDataBits(t,l,s)}static embedBasicPatterns(t,i){Xe.embedPositionDetectionPatternsAndSeparators(i),Xe.embedDarkDotAtLeftBottomCorner(i),Xe.maybeEmbedPositionAdjustmentPatterns(t,i),Xe.embedTimingPatterns(i)}static embedTypeInfo(t,i,r){const l=new ce;Xe.makeTypeInfoBits(t,i,l);for(let s=0,c=l.getSize();s<c;++s){const f=l.get(l.getSize()-1-s),x=Xe.TYPE_INFO_COORDINATES[s],y=x[0],A=x[1];if(r.setBoolean(y,A,f),s<8){const T=r.getWidth()-s-1;r.setBoolean(T,8,f)}else{const O=r.getHeight()-7+(s-8);r.setBoolean(8,O,f)}}}static maybeEmbedVersionInfo(t,i){if(t.getVersionNumber()<7)return;const r=new ce;Xe.makeVersionInfoBits(t,r);let l=17;for(let s=0;s<6;++s)for(let c=0;c<3;++c){const f=r.get(l);l--,i.setBoolean(s,i.getHeight()-11+c,f),i.setBoolean(i.getHeight()-11+c,s,f)}}static embedDataBits(t,i,r){let l=0,s=-1,c=r.getWidth()-1,f=r.getHeight()-1;for(;c>0;){for(c===6&&(c-=1);f>=0&&f<r.getHeight();){for(let x=0;x<2;++x){const y=c-x;if(!Xe.isEmpty(r.get(y,f)))continue;let A;l<t.getSize()?(A=t.get(l),++l):A=!1,i!==255&&Qt.getDataMaskBit(i,y,f)&&(A=!A),r.setBoolean(y,f,A)}f+=s}s=-s,f+=s,c-=2}if(l!==t.getSize())throw new It("Not all bits consumed: "+l+"/"+t.getSize())}static findMSBSet(t){return 32-ae.numberOfLeadingZeros(t)}static calculateBCHCode(t,i){if(i===0)throw new M("0 polynomial");const r=Xe.findMSBSet(i);for(t<<=r-1;Xe.findMSBSet(t)>=r;)t^=i<<Xe.findMSBSet(t)-r;return t}static makeTypeInfoBits(t,i,r){if(!ur.isValidMaskPattern(i))throw new It("Invalid mask pattern");const l=t.getBits()<<3|i;r.appendBits(l,5);const s=Xe.calculateBCHCode(l,Xe.TYPE_INFO_POLY);r.appendBits(s,10);const c=new ce;if(c.appendBits(Xe.TYPE_INFO_MASK_PATTERN,15),r.xor(c),r.getSize()!==15)throw new It("should not happen but we got: "+r.getSize())}static makeVersionInfoBits(t,i){i.appendBits(t.getVersionNumber(),6);const r=Xe.calculateBCHCode(t.getVersionNumber(),Xe.VERSION_INFO_POLY);if(i.appendBits(r,12),i.getSize()!==18)throw new It("should not happen but we got: "+i.getSize())}static isEmpty(t){return t===255}static embedTimingPatterns(t){for(let i=8;i<t.getWidth()-8;++i){const r=(i+1)%2;Xe.isEmpty(t.get(i,6))&&t.setNumber(i,6,r),Xe.isEmpty(t.get(6,i))&&t.setNumber(6,i,r)}}static embedDarkDotAtLeftBottomCorner(t){if(t.get(8,t.getHeight()-8)===0)throw new It;t.setNumber(8,t.getHeight()-8,1)}static embedHorizontalSeparationPattern(t,i,r){for(let l=0;l<8;++l){if(!Xe.isEmpty(r.get(t+l,i)))throw new It;r.setNumber(t+l,i,0)}}static embedVerticalSeparationPattern(t,i,r){for(let l=0;l<7;++l){if(!Xe.isEmpty(r.get(t,i+l)))throw new It;r.setNumber(t,i+l,0)}}static embedPositionAdjustmentPattern(t,i,r){for(let l=0;l<5;++l){const s=Xe.POSITION_ADJUSTMENT_PATTERN[l];for(let c=0;c<5;++c)r.setNumber(t+c,i+l,s[c])}}static embedPositionDetectionPattern(t,i,r){for(let l=0;l<7;++l){const s=Xe.POSITION_DETECTION_PATTERN[l];for(let c=0;c<7;++c)r.setNumber(t+c,i+l,s[c])}}static embedPositionDetectionPatternsAndSeparators(t){const i=Xe.POSITION_DETECTION_PATTERN[0].length;Xe.embedPositionDetectionPattern(0,0,t),Xe.embedPositionDetectionPattern(t.getWidth()-i,0,t),Xe.embedPositionDetectionPattern(0,t.getWidth()-i,t);const r=8;Xe.embedHorizontalSeparationPattern(0,r-1,t),Xe.embedHorizontalSeparationPattern(t.getWidth()-r,r-1,t),Xe.embedHorizontalSeparationPattern(0,t.getWidth()-r,t);const l=7;Xe.embedVerticalSeparationPattern(l,0,t),Xe.embedVerticalSeparationPattern(t.getHeight()-l-1,0,t),Xe.embedVerticalSeparationPattern(l,t.getHeight()-l,t)}static maybeEmbedPositionAdjustmentPatterns(t,i){if(t.getVersionNumber()<2)return;const r=t.getVersionNumber()-1,l=Xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[r];for(let s=0,c=l.length;s!==c;s++){const f=l[s];if(f>=0)for(let x=0;x!==c;x++){const y=l[x];y>=0&&Xe.isEmpty(i.get(y,f))&&Xe.embedPositionAdjustmentPattern(y-2,f-2,i)}}}}Xe.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Xe.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Xe.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Xe.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Xe.VERSION_INFO_POLY=7973,Xe.TYPE_INFO_POLY=1335,Xe.TYPE_INFO_MASK_PATTERN=21522;class zc{constructor(t,i){this.dataBytes=t,this.errorCorrectionBytes=i}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Xt{constructor(){}static calculateMaskPenalty(t){return Qt.applyMaskPenaltyRule1(t)+Qt.applyMaskPenaltyRule2(t)+Qt.applyMaskPenaltyRule3(t)+Qt.applyMaskPenaltyRule4(t)}static encode(t,i,r=null){let l=Xt.DEFAULT_BYTE_MODE_ENCODING;const s=r!==null&&r.get(hn.CHARACTER_SET)!==void 0;s&&(l=r.get(hn.CHARACTER_SET).toString());const c=this.chooseMode(t,l),f=new ce;if(c===He.BYTE&&(s||Xt.DEFAULT_BYTE_MODE_ENCODING!==l)){const be=X.getCharacterSetECIByName(l);be!==void 0&&this.appendECI(be,f)}this.appendModeInfo(c,f);const x=new ce;this.appendBytes(t,c,x,l);let y;if(r!==null&&r.get(hn.QR_VERSION)!==void 0){const be=Number.parseInt(r.get(hn.QR_VERSION).toString(),10);y=Ue.getVersionForNumber(be);const pe=this.calculateBitsNeeded(c,f,x,y);if(!this.willFit(pe,y,i))throw new It("Data too big for requested version")}else y=this.recommendVersion(i,c,f,x);const A=new ce;A.appendBitArray(f);const T=c===He.BYTE?x.getSizeInBytes():t.length;this.appendLengthInfo(T,y,c,A),A.appendBitArray(x);const O=y.getECBlocksForLevel(i),L=y.getTotalCodewords()-O.getTotalECCodewords();this.terminateBits(L,A);const k=this.interleaveWithECBytes(A,y.getTotalCodewords(),L,O.getNumBlocks()),F=new ur;F.setECLevel(i),F.setMode(c),F.setVersion(y);const V=y.getDimensionForVersion(),ne=new rl(V,V),Ae=this.chooseMaskPattern(k,i,y,ne);return F.setMaskPattern(Ae),Xe.buildMatrix(k,i,y,Ae,ne),F.setMatrix(ne),F}static recommendVersion(t,i,r,l){const s=this.calculateBitsNeeded(i,r,l,Ue.getVersionForNumber(1)),c=this.chooseVersion(s,t),f=this.calculateBitsNeeded(i,r,l,c);return this.chooseVersion(f,t)}static calculateBitsNeeded(t,i,r,l){return i.getSize()+t.getCharacterCountBits(l)+r.getSize()}static getAlphanumericCode(t){return t<Xt.ALPHANUMERIC_TABLE.length?Xt.ALPHANUMERIC_TABLE[t]:-1}static chooseMode(t,i=null){if(X.SJIS.getName()===i&&this.isOnlyDoubleByteKanji(t))return He.KANJI;let r=!1,l=!1;for(let s=0,c=t.length;s<c;++s){const f=t.charAt(s);if(Xt.isDigit(f))r=!0;else if(this.getAlphanumericCode(f.charCodeAt(0))!==-1)l=!0;else return He.BYTE}return l?He.ALPHANUMERIC:r?He.NUMERIC:He.BYTE}static isOnlyDoubleByteKanji(t){let i;try{i=Ge.encode(t,X.SJIS)}catch{return!1}const r=i.length;if(r%2!==0)return!1;for(let l=0;l<r;l+=2){const s=i[l]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0}static chooseMaskPattern(t,i,r,l){let s=Number.MAX_SAFE_INTEGER,c=-1;for(let f=0;f<ur.NUM_MASK_PATTERNS;f++){Xe.buildMatrix(t,i,r,f,l);let x=this.calculateMaskPenalty(l);x<s&&(s=x,c=f)}return c}static chooseVersion(t,i){for(let r=1;r<=40;r++){const l=Ue.getVersionForNumber(r);if(Xt.willFit(t,l,i))return l}throw new It("Data too big")}static willFit(t,i,r){const l=i.getTotalCodewords(),c=i.getECBlocksForLevel(r).getTotalECCodewords(),f=l-c,x=(t+7)/8;return f>=x}static terminateBits(t,i){const r=t*8;if(i.getSize()>r)throw new It("data bits cannot fit in the QR Code"+i.getSize()+" > "+r);for(let c=0;c<4&&i.getSize()<r;++c)i.appendBit(!1);const l=i.getSize()&7;if(l>0)for(let c=l;c<8;c++)i.appendBit(!1);const s=t-i.getSizeInBytes();for(let c=0;c<s;++c)i.appendBits((c&1)===0?236:17,8);if(i.getSize()!==r)throw new It("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(t,i,r,l,s,c){if(l>=r)throw new It("Block ID too large");const f=t%r,x=r-f,y=Math.floor(t/r),A=y+1,T=Math.floor(i/r),O=T+1,L=y-T,k=A-O;if(L!==k)throw new It("EC bytes mismatch");if(r!==x+f)throw new It("RS blocks mismatch");if(t!==(T+L)*x+(O+k)*f)throw new It("Total bytes mismatch");l<x?(s[0]=T,c[0]=L):(s[0]=O,c[0]=k)}static interleaveWithECBytes(t,i,r,l){if(t.getSizeInBytes()!==r)throw new It("Number of bits and data bytes does not match");let s=0,c=0,f=0;const x=new Array;for(let A=0;A<l;++A){const T=new Int32Array(1),O=new Int32Array(1);Xt.getNumDataBytesAndNumECBytesForBlockID(i,r,l,A,T,O);const L=T[0],k=new Uint8Array(L);t.toBytes(8*s,k,0,L);const F=Xt.generateECBytes(k,O[0]);x.push(new zc(k,F)),c=Math.max(c,L),f=Math.max(f,F.length),s+=T[0]}if(r!==s)throw new It("Data bytes does not match offset");const y=new ce;for(let A=0;A<c;++A)for(const T of x){const O=T.getDataBytes();A<O.length&&y.appendBits(O[A],8)}for(let A=0;A<f;++A)for(const T of x){const O=T.getErrorCorrectionBytes();A<O.length&&y.appendBits(O[A],8)}if(i!==y.getSizeInBytes())throw new It("Interleaving error: "+i+" and "+y.getSizeInBytes()+" differ.");return y}static generateECBytes(t,i){const r=t.length,l=new Int32Array(r+i);for(let c=0;c<r;c++)l[c]=t[c]&255;new Ta($e.QR_CODE_FIELD_256).encode(l,i);const s=new Uint8Array(i);for(let c=0;c<i;c++)s[c]=l[r+c];return s}static appendModeInfo(t,i){i.appendBits(t.getBits(),4)}static appendLengthInfo(t,i,r,l){const s=r.getCharacterCountBits(i);if(t>=1<<s)throw new It(t+" is bigger than "+((1<<s)-1));l.appendBits(t,s)}static appendBytes(t,i,r,l){switch(i){case He.NUMERIC:Xt.appendNumericBytes(t,r);break;case He.ALPHANUMERIC:Xt.appendAlphanumericBytes(t,r);break;case He.BYTE:Xt.append8BitBytes(t,r,l);break;case He.KANJI:Xt.appendKanjiBytes(t,r);break;default:throw new It("Invalid mode: "+i)}}static getDigit(t){return t.charCodeAt(0)-48}static isDigit(t){const i=Xt.getDigit(t);return i>=0&&i<=9}static appendNumericBytes(t,i){const r=t.length;let l=0;for(;l<r;){const s=Xt.getDigit(t.charAt(l));if(l+2<r){const c=Xt.getDigit(t.charAt(l+1)),f=Xt.getDigit(t.charAt(l+2));i.appendBits(s*100+c*10+f,10),l+=3}else if(l+1<r){const c=Xt.getDigit(t.charAt(l+1));i.appendBits(s*10+c,7),l+=2}else i.appendBits(s,4),l++}}static appendAlphanumericBytes(t,i){const r=t.length;let l=0;for(;l<r;){const s=Xt.getAlphanumericCode(t.charCodeAt(l));if(s===-1)throw new It;if(l+1<r){const c=Xt.getAlphanumericCode(t.charCodeAt(l+1));if(c===-1)throw new It;i.appendBits(s*45+c,11),l+=2}else i.appendBits(s,6),l++}}static append8BitBytes(t,i,r){let l;try{l=Ge.encode(t,r)}catch(s){throw new It(s)}for(let s=0,c=l.length;s!==c;s++){const f=l[s];i.appendBits(f,8)}}static appendKanjiBytes(t,i){let r;try{r=Ge.encode(t,X.SJIS)}catch(s){throw new It(s)}const l=r.length;for(let s=0;s<l;s+=2){const c=r[s]&255,f=r[s+1]&255,x=c<<8&4294967295|f;let y=-1;if(x>=33088&&x<=40956?y=x-33088:x>=57408&&x<=60351&&(y=x-49472),y===-1)throw new It("Invalid byte sequence");const A=(y>>8)*192+(y&255);i.appendBits(A,13)}}static appendECI(t,i){i.appendBits(He.ECI.getBits(),4),i.appendBits(t.getValue(),8)}}Xt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Xt.DEFAULT_BYTE_MODE_ENCODING=X.UTF8.getName();class fr{write(t,i,r,l=null){if(t.length===0)throw new M("Found empty contents");if(i<0||r<0)throw new M("Requested dimensions are too small: "+i+"x"+r);let s=ut.L,c=fr.QUIET_ZONE_SIZE;l!==null&&(l.get(hn.ERROR_CORRECTION)!==void 0&&(s=ut.fromString(l.get(hn.ERROR_CORRECTION).toString())),l.get(hn.MARGIN)!==void 0&&(c=Number.parseInt(l.get(hn.MARGIN).toString(),10)));const f=Xt.encode(t,s,l);return this.renderResult(f,i,r,c)}writeToDom(t,i,r,l,s=null){typeof t=="string"&&(t=document.querySelector(t));const c=this.write(i,r,l,s);t&&t.appendChild(c)}renderResult(t,i,r,l){const s=t.getMatrix();if(s===null)throw new Ut;const c=s.getWidth(),f=s.getHeight(),x=c+l*2,y=f+l*2,A=Math.max(i,x),T=Math.max(r,y),O=Math.min(Math.floor(A/x),Math.floor(T/y)),L=Math.floor((A-c*O)/2),k=Math.floor((T-f*O)/2),F=this.createSVGElement(A,T);for(let V=0,ne=k;V<f;V++,ne+=O)for(let Ae=0,be=L;Ae<c;Ae++,be+=O)if(s.get(Ae,V)===1){const pe=this.createSvgRectElement(be,ne,O,O);F.appendChild(pe)}return F}createSVGElement(t,i){const r=document.createElementNS(fr.SVG_NS,"svg");return r.setAttributeNS(null,"height",t.toString()),r.setAttributeNS(null,"width",i.toString()),r}createSvgRectElement(t,i,r,l){const s=document.createElementNS(fr.SVG_NS,"rect");return s.setAttributeNS(null,"x",t.toString()),s.setAttributeNS(null,"y",i.toString()),s.setAttributeNS(null,"height",r.toString()),s.setAttributeNS(null,"width",l.toString()),s.setAttributeNS(null,"fill","#000000"),s}}fr.QUIET_ZONE_SIZE=4,fr.SVG_NS="http://www.w3.org/2000/svg";class Vr{encode(t,i,r,l,s){if(t.length===0)throw new M("Found empty contents");if(i!==ye.QR_CODE)throw new M("Can only encode QR_CODE, but got "+i);if(r<0||l<0)throw new M(`Requested dimensions are too small: ${r}x${l}`);let c=ut.L,f=Vr.QUIET_ZONE_SIZE;s!==null&&(s.get(hn.ERROR_CORRECTION)!==void 0&&(c=ut.fromString(s.get(hn.ERROR_CORRECTION).toString())),s.get(hn.MARGIN)!==void 0&&(f=Number.parseInt(s.get(hn.MARGIN).toString(),10)));const x=Xt.encode(t,c,s);return Vr.renderResult(x,r,l,f)}static renderResult(t,i,r,l){const s=t.getMatrix();if(s===null)throw new Ut;const c=s.getWidth(),f=s.getHeight(),x=c+l*2,y=f+l*2,A=Math.max(i,x),T=Math.max(r,y),O=Math.min(Math.floor(A/x),Math.floor(T/y)),L=Math.floor((A-c*O)/2),k=Math.floor((T-f*O)/2),F=new Je(A,T);for(let V=0,ne=k;V<f;V++,ne+=O)for(let Ae=0,be=L;Ae<c;Ae++,be+=O)s.get(Ae,V)===1&&F.setRegion(be,ne,O,O);return F}}Vr.QUIET_ZONE_SIZE=4;class Fc{encode(t,i,r,l,s){let c;if(i===ye.QR_CODE)c=new Vr;else throw new M("No encoder available for format "+i);return c.encode(t,i,r,l,s)}}class vi extends Be{constructor(t,i,r,l,s,c,f,x){if(super(c,f),this.yuvData=t,this.dataWidth=i,this.dataHeight=r,this.left=l,this.top=s,l+c>i||s+f>r)throw new M("Crop rectangle does not fit within image data.");x&&this.reverseHorizontal(c,f)}getRow(t,i){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const l=(t+this.top)*this.dataWidth+this.left;return Z.arraycopy(this.yuvData,l,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.yuvData;const r=t*i,l=new Uint8ClampedArray(r);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Z.arraycopy(this.yuvData,s,l,0,r),l;for(let c=0;c<i;c++){const f=c*t;Z.arraycopy(this.yuvData,s,l,f,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,i,r,l){return new vi(this.yuvData,this.dataWidth,this.dataHeight,this.left+t,this.top+i,r,l,!1)}renderThumbnail(){const t=this.getWidth()/vi.THUMBNAIL_SCALE_FACTOR,i=this.getHeight()/vi.THUMBNAIL_SCALE_FACTOR,r=new Int32Array(t*i),l=this.yuvData;let s=this.top*this.dataWidth+this.left;for(let c=0;c<i;c++){const f=c*t;for(let x=0;x<t;x++){const y=l[s+x*vi.THUMBNAIL_SCALE_FACTOR]&255;r[f+x]=4278190080|y*65793}s+=this.dataWidth*vi.THUMBNAIL_SCALE_FACTOR}return r}getThumbnailWidth(){return this.getWidth()/vi.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/vi.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(t,i){const r=this.yuvData;for(let l=0,s=this.top*this.dataWidth+this.left;l<i;l++,s+=this.dataWidth){const c=s+t/2;for(let f=s,x=s+t-1;f<c;f++,x--){const y=r[f];r[f]=r[x],r[x]=y}}}invert(){return new et(this)}}vi.THUMBNAIL_SCALE_FACTOR=2;class Ql extends Be{constructor(t,i,r,l,s,c,f){if(super(i,r),this.dataWidth=l,this.dataHeight=s,this.left=c,this.top=f,t.BYTES_PER_ELEMENT===4){const x=i*r,y=new Uint8ClampedArray(x);for(let A=0;A<x;A++){const T=t[A],O=T>>16&255,L=T>>7&510,k=T&255;y[A]=(O+L+k)/4&255}this.luminances=y}else this.luminances=t;if(l===void 0&&(this.dataWidth=i),s===void 0&&(this.dataHeight=r),c===void 0&&(this.left=0),f===void 0&&(this.top=0),this.left+i>this.dataWidth||this.top+r>this.dataHeight)throw new M("Crop rectangle does not fit within image data.")}getRow(t,i){if(t<0||t>=this.getHeight())throw new M("Requested row is outside the image: "+t);const r=this.getWidth();(i==null||i.length<r)&&(i=new Uint8ClampedArray(r));const l=(t+this.top)*this.dataWidth+this.left;return Z.arraycopy(this.luminances,l,i,0,r),i}getMatrix(){const t=this.getWidth(),i=this.getHeight();if(t===this.dataWidth&&i===this.dataHeight)return this.luminances;const r=t*i,l=new Uint8ClampedArray(r);let s=this.top*this.dataWidth+this.left;if(t===this.dataWidth)return Z.arraycopy(this.luminances,s,l,0,r),l;for(let c=0;c<i;c++){const f=c*t;Z.arraycopy(this.luminances,s,l,f,t),s+=this.dataWidth}return l}isCropSupported(){return!0}crop(t,i,r,l){return new Ql(this.luminances,r,l,this.dataWidth,this.dataHeight,this.left+t,this.top+i)}invert(){return new et(this)}}class no extends X{static forName(t){return this.getCharacterSetECIByName(t)}}class Ra{}Ra.ISO_8859_1=X.ISO8859_1;class Xr{isCompact(){return this.compact}setCompact(t){this.compact=t}getSize(){return this.size}setSize(t){this.size=t}getLayers(){return this.layers}setLayers(t){this.layers=t}getCodeWords(){return this.codeWords}setCodeWords(t){this.codeWords=t}getMatrix(){return this.matrix}setMatrix(t){this.matrix=t}}class io{static singletonList(t){return[t]}static min(t,i){return t.sort(i)[0]}}class ro{constructor(t){this.previous=t}getPrevious(){return this.previous}}class dr extends ro{constructor(t,i,r){super(t),this.value=i,this.bitCount=r}appendTo(t,i){t.appendBits(this.value,this.bitCount)}add(t,i){return new dr(this,t,i)}addBinaryShift(t,i){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new dr(this,t,i)}toString(){let t=this.value&(1<<this.bitCount)-1;return t|=1<<this.bitCount,"<"+ae.toBinaryString(t|1<<this.bitCount).substring(1)+">"}}class al extends dr{constructor(t,i,r){super(t,0,0),this.binaryShiftStart=i,this.binaryShiftByteCount=r}appendTo(t,i){for(let r=0;r<this.binaryShiftByteCount;r++)(r===0||r===31&&this.binaryShiftByteCount<=62)&&(t.appendBits(31,5),this.binaryShiftByteCount>62?t.appendBits(this.binaryShiftByteCount-31,16):r===0?t.appendBits(Math.min(this.binaryShiftByteCount,31),5):t.appendBits(this.binaryShiftByteCount-31,5)),t.appendBits(i[this.binaryShiftStart+r],8)}addBinaryShift(t,i){return new al(this,t,i)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function ao(v,t,i){return new al(v,t,i)}function Yr(v,t,i){return new dr(v,t,i)}const Wr=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],er=0,ll=1,Jn=2,Jl=3,fi=4,Na=new dr(null,0,0),hr=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function jc(v){for(let t of v)de.fill(t,-1);return v[er][fi]=0,v[ll][fi]=0,v[ll][er]=28,v[Jl][fi]=0,v[Jn][fi]=0,v[Jn][er]=15,v}const Oa=jc(de.createInt32Array(6,6));class di{constructor(t,i,r,l){this.token=t,this.mode=i,this.binaryShiftByteCount=r,this.bitCount=l}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(t,i){let r=this.bitCount,l=this.token;if(t!==this.mode){let c=hr[this.mode][t];l=Yr(l,c&65535,c>>16),r+=c>>16}let s=t===Jn?4:5;return l=Yr(l,i,s),new di(l,t,0,r+s)}shiftAndAppend(t,i){let r=this.token,l=this.mode===Jn?4:5;return r=Yr(r,Oa[this.mode][t],l),r=Yr(r,i,5),new di(r,this.mode,0,this.bitCount+l+5)}addBinaryShiftChar(t){let i=this.token,r=this.mode,l=this.bitCount;if(this.mode===fi||this.mode===Jn){let f=hr[r][er];i=Yr(i,f&65535,f>>16),l+=f>>16,r=er}let s=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,c=new di(i,r,this.binaryShiftByteCount+1,l+s);return c.binaryShiftByteCount===2078&&(c=c.endBinaryShift(t+1)),c}endBinaryShift(t){if(this.binaryShiftByteCount===0)return this;let i=this.token;return i=ao(i,t-this.binaryShiftByteCount,this.binaryShiftByteCount),new di(i,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(t){let i=this.bitCount+(hr[this.mode][t.mode]>>16);return this.binaryShiftByteCount<t.binaryShiftByteCount?i+=di.calculateBinaryShiftCost(t)-di.calculateBinaryShiftCost(this):this.binaryShiftByteCount>t.binaryShiftByteCount&&t.binaryShiftByteCount>0&&(i+=10),i<=t.bitCount}toBitArray(t){let i=[];for(let l=this.endBinaryShift(t.length).token;l!==null;l=l.getPrevious())i.unshift(l);let r=new ce;for(const l of i)l.appendTo(r,t);return r}toString(){return Ce.format("%s bits=%d bytes=%d",Wr[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(t){return t.binaryShiftByteCount>62?21:t.binaryShiftByteCount>31?20:t.binaryShiftByteCount>0?10:0}}di.INITIAL_STATE=new di(Na,er,0,0);function lo(v){const t=Ce.getCharCode(" "),i=Ce.getCharCode("."),r=Ce.getCharCode(",");v[er][t]=1;const l=Ce.getCharCode("Z"),s=Ce.getCharCode("A");for(let O=s;O<=l;O++)v[er][O]=O-s+2;v[ll][t]=1;const c=Ce.getCharCode("z"),f=Ce.getCharCode("a");for(let O=f;O<=c;O++)v[ll][O]=O-f+2;v[Jn][t]=1;const x=Ce.getCharCode("9"),y=Ce.getCharCode("0");for(let O=y;O<=x;O++)v[Jn][O]=O-y+2;v[Jn][r]=12,v[Jn][i]=13;const A=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let O=0;O<A.length;O++)v[Jl][Ce.getCharCode(A[O])]=O;const T=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let O=0;O<T.length;O++)Ce.getCharCode(T[O])>0&&(v[fi][Ce.getCharCode(T[O])]=O);return v}const _a=lo(de.createInt32Array(5,256));class gr{constructor(t){this.text=t}encode(){const t=Ce.getCharCode(" "),i=Ce.getCharCode(`
`);let r=io.singletonList(di.INITIAL_STATE);for(let s=0;s<this.text.length;s++){let c,f=s+1<this.text.length?this.text[s+1]:0;switch(this.text[s]){case Ce.getCharCode("\r"):c=f===i?2:0;break;case Ce.getCharCode("."):c=f===t?3:0;break;case Ce.getCharCode(","):c=f===t?4:0;break;case Ce.getCharCode(":"):c=f===t?5:0;break;default:c=0}c>0?(r=gr.updateStateListForPair(r,s,c),s++):r=this.updateStateListForChar(r,s)}return io.min(r,(s,c)=>s.getBitCount()-c.getBitCount()).toBitArray(this.text)}updateStateListForChar(t,i){const r=[];for(let l of t)this.updateStateForChar(l,i,r);return gr.simplifyStates(r)}updateStateForChar(t,i,r){let l=this.text[i]&255,s=_a[t.getMode()][l]>0,c=null;for(let f=0;f<=fi;f++){let x=_a[f][l];if(x>0){if(c==null&&(c=t.endBinaryShift(i)),!s||f===t.getMode()||f===Jn){const y=c.latchAndAppend(f,x);r.push(y)}if(!s&&Oa[t.getMode()][f]>=0){const y=c.shiftAndAppend(f,x);r.push(y)}}}if(t.getBinaryShiftByteCount()>0||_a[t.getMode()][l]===0){let f=t.addBinaryShiftChar(i);r.push(f)}}static updateStateListForPair(t,i,r){const l=[];for(let s of t)this.updateStateForPair(s,i,r,l);return this.simplifyStates(l)}static updateStateForPair(t,i,r,l){let s=t.endBinaryShift(i);if(l.push(s.latchAndAppend(fi,r)),t.getMode()!==fi&&l.push(s.shiftAndAppend(fi,r)),r===3||r===4){let c=s.latchAndAppend(Jn,16-r).latchAndAppend(Jn,1);l.push(c)}if(t.getBinaryShiftByteCount()>0){let c=t.addBinaryShiftChar(i).addBinaryShiftChar(i+1);l.push(c)}}static simplifyStates(t){let i=[];for(const r of t){let l=!0;for(const s of i){if(s.isBetterThanOrEqualTo(r)){l=!1;break}r.isBetterThanOrEqualTo(s)&&(i=i.filter(c=>c!==s))}l&&i.push(r)}return i}}class xt{constructor(){}static encodeBytes(t){return xt.encode(t,xt.DEFAULT_EC_PERCENT,xt.DEFAULT_AZTEC_LAYERS)}static encode(t,i,r){let l=new gr(t).encode(),s=ae.truncDivision(l.getSize()*i,100)+11,c=l.getSize()+s,f,x,y,A,T;if(r!==xt.DEFAULT_AZTEC_LAYERS){if(f=r<0,x=Math.abs(r),x>(f?xt.MAX_NB_BITS_COMPACT:xt.MAX_NB_BITS))throw new M(Ce.format("Illegal value %s for layers",r));y=xt.totalBitsInLayer(x,f),A=xt.WORD_SIZE[x];let pe=y-y%A;if(T=xt.stuffBits(l,A),T.getSize()+s>pe)throw new M("Data to large for user specified layer");if(f&&T.getSize()>A*64)throw new M("Data to large for user specified layer")}else{A=0,T=null;for(let pe=0;;pe++){if(pe>xt.MAX_NB_BITS)throw new M("Data too large for an Aztec code");if(f=pe<=3,x=f?pe+1:pe,y=xt.totalBitsInLayer(x,f),c>y)continue;(T==null||A!==xt.WORD_SIZE[x])&&(A=xt.WORD_SIZE[x],T=xt.stuffBits(l,A));let lt=y-y%A;if(!(f&&T.getSize()>A*64)&&T.getSize()+s<=lt)break}}let O=xt.generateCheckWords(T,y,A),L=T.getSize()/A,k=xt.generateModeMessage(f,x,L),F=(f?11:14)+x*4,V=new Int32Array(F),ne;if(f){ne=F;for(let pe=0;pe<V.length;pe++)V[pe]=pe}else{ne=F+1+2*ae.truncDivision(ae.truncDivision(F,2)-1,15);let pe=ae.truncDivision(F,2),lt=ae.truncDivision(ne,2);for(let Ke=0;Ke<pe;Ke++){let sn=Ke+ae.truncDivision(Ke,15);V[pe-Ke-1]=lt-sn-1,V[pe+Ke]=lt+sn+1}}let Ae=new Je(ne);for(let pe=0,lt=0;pe<x;pe++){let Ke=(x-pe)*4+(f?9:12);for(let sn=0;sn<Ke;sn++){let $n=sn*2;for(let Mn=0;Mn<2;Mn++)O.get(lt+$n+Mn)&&Ae.set(V[pe*2+Mn],V[pe*2+sn]),O.get(lt+Ke*2+$n+Mn)&&Ae.set(V[pe*2+sn],V[F-1-pe*2-Mn]),O.get(lt+Ke*4+$n+Mn)&&Ae.set(V[F-1-pe*2-Mn],V[F-1-pe*2-sn]),O.get(lt+Ke*6+$n+Mn)&&Ae.set(V[F-1-pe*2-sn],V[pe*2+Mn])}lt+=Ke*8}if(xt.drawModeMessage(Ae,f,ne,k),f)xt.drawBullsEye(Ae,ae.truncDivision(ne,2),5);else{xt.drawBullsEye(Ae,ae.truncDivision(ne,2),7);for(let pe=0,lt=0;pe<ae.truncDivision(F,2)-1;pe+=15,lt+=16)for(let Ke=ae.truncDivision(ne,2)&1;Ke<ne;Ke+=2)Ae.set(ae.truncDivision(ne,2)-lt,Ke),Ae.set(ae.truncDivision(ne,2)+lt,Ke),Ae.set(Ke,ae.truncDivision(ne,2)-lt),Ae.set(Ke,ae.truncDivision(ne,2)+lt)}let be=new Xr;return be.setCompact(f),be.setSize(ne),be.setLayers(x),be.setCodeWords(L),be.setMatrix(Ae),be}static drawBullsEye(t,i,r){for(let l=0;l<r;l+=2)for(let s=i-l;s<=i+l;s++)t.set(s,i-l),t.set(s,i+l),t.set(i-l,s),t.set(i+l,s);t.set(i-r,i-r),t.set(i-r+1,i-r),t.set(i-r,i-r+1),t.set(i+r,i-r),t.set(i+r,i-r+1),t.set(i+r,i+r-1)}static generateModeMessage(t,i,r){let l=new ce;return t?(l.appendBits(i-1,2),l.appendBits(r-1,6),l=xt.generateCheckWords(l,28,4)):(l.appendBits(i-1,5),l.appendBits(r-1,11),l=xt.generateCheckWords(l,40,4)),l}static drawModeMessage(t,i,r,l){let s=ae.truncDivision(r,2);if(i)for(let c=0;c<7;c++){let f=s-3+c;l.get(c)&&t.set(f,s-5),l.get(c+7)&&t.set(s+5,f),l.get(20-c)&&t.set(f,s+5),l.get(27-c)&&t.set(s-5,f)}else for(let c=0;c<10;c++){let f=s-5+c+ae.truncDivision(c,5);l.get(c)&&t.set(f,s-7),l.get(c+10)&&t.set(s+7,f),l.get(29-c)&&t.set(f,s+7),l.get(39-c)&&t.set(s-7,f)}}static generateCheckWords(t,i,r){let l=t.getSize()/r,s=new Ta(xt.getGF(r)),c=ae.truncDivision(i,r),f=xt.bitsToWords(t,r,c);s.encode(f,c-l);let x=i%r,y=new ce;y.appendBits(0,x);for(const A of Array.from(f))y.appendBits(A,r);return y}static bitsToWords(t,i,r){let l=new Int32Array(r),s,c;for(s=0,c=t.getSize()/i;s<c;s++){let f=0;for(let x=0;x<i;x++)f|=t.get(s*i+x)?1<<i-x-1:0;l[s]=f}return l}static getGF(t){switch(t){case 4:return $e.AZTEC_PARAM;case 6:return $e.AZTEC_DATA_6;case 8:return $e.AZTEC_DATA_8;case 10:return $e.AZTEC_DATA_10;case 12:return $e.AZTEC_DATA_12;default:throw new M("Unsupported word size "+t)}}static stuffBits(t,i){let r=new ce,l=t.getSize(),s=(1<<i)-2;for(let c=0;c<l;c+=i){let f=0;for(let x=0;x<i;x++)(c+x>=l||t.get(c+x))&&(f|=1<<i-1-x);(f&s)===s?(r.appendBits(f&s,i),c--):(f&s)===0?(r.appendBits(f|1,i),c--):r.appendBits(f,i)}return r}static totalBitsInLayer(t,i){return((i?88:112)+16*t)*t}}xt.DEFAULT_EC_PERCENT=33,xt.DEFAULT_AZTEC_LAYERS=0,xt.MAX_NB_BITS=32,xt.MAX_NB_BITS_COMPACT=4,xt.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ia{encode(t,i,r,l){return this.encodeWithHints(t,i,r,l,null)}encodeWithHints(t,i,r,l,s){let c=Ra.ISO_8859_1,f=xt.DEFAULT_EC_PERCENT,x=xt.DEFAULT_AZTEC_LAYERS;return s!=null&&(s.has(hn.CHARACTER_SET)&&(c=no.forName(s.get(hn.CHARACTER_SET).toString())),s.has(hn.ERROR_CORRECTION)&&(f=ae.parseInt(s.get(hn.ERROR_CORRECTION).toString())),s.has(hn.AZTEC_LAYERS)&&(x=ae.parseInt(s.get(hn.AZTEC_LAYERS).toString()))),Ia.encodeLayers(t,i,r,l,c,f,x)}static encodeLayers(t,i,r,l,s,c,f){if(i!==ye.AZTEC)throw new M("Can only encode AZTEC, but got "+i);let x=xt.encode(Ce.getBytes(t,s),c,f);return Ia.renderResult(x,r,l)}static renderResult(t,i,r){let l=t.getMatrix();if(l==null)throw new Ut;let s=l.getWidth(),c=l.getHeight(),f=Math.max(i,s),x=Math.max(r,c),y=Math.min(f/s,x/c),A=(f-s*y)/2,T=(x-c*y)/2,O=new Je(f,x);for(let L=0,k=T;L<c;L++,k+=y)for(let F=0,V=A;F<s;F++,V+=y)l.get(F,L)&&O.setRegion(V,k,y,y);return O}}h.AbstractExpandedDecoder=fn,h.ArgumentException=D,h.ArithmeticException=Li,h.AztecCode=Xr,h.AztecCodeReader=or,h.AztecCodeWriter=Ia,h.AztecDecoder=Et,h.AztecDetector=ba,h.AztecDetectorResult=ya,h.AztecEncoder=xt,h.AztecHighLevelEncoder=gr,h.AztecPoint=Sn,h.BarcodeFormat=ye,h.Binarizer=W,h.BinaryBitmap=te,h.BitArray=ce,h.BitMatrix=Je,h.BitSource=ci,h.BrowserAztecCodeReader=Pl,h.BrowserBarcodeReader=Mc,h.BrowserCodeReader=ve,h.BrowserDatamatrixCodeReader=Ja,h.BrowserMultiFormatReader=to,h.BrowserPDF417Reader=Uc,h.BrowserQRCodeReader=kc,h.BrowserQRCodeSvgWriter=fr,h.CharacterSetECI=X,h.ChecksumException=$,h.Code128Reader=we,h.Code39Reader=Se,h.DataMatrixDecodedBitStreamParser=zi,h.DataMatrixReader=Fi,h.DecodeHintType=Me,h.DecoderResult=Tt,h.DefaultGridSampler=Ea,h.DetectorResult=sr,h.EAN13Reader=wi,h.EncodeHintType=hn,h.Exception=w,h.FormatException=P,h.GenericGF=$e,h.GenericGFPoly=rn,h.GlobalHistogramBinarizer=J,h.GridSampler=Br,h.GridSamplerInstance=Pn,h.HTMLCanvasElementLuminanceSource=ot,h.HybridBinarizer=fe,h.ITFReader=Ne,h.IllegalArgumentException=M,h.IllegalStateException=Ut,h.InvertedLuminanceSource=et,h.LuminanceSource=Be,h.MathUtils=ct,h.MultiFormatOneDReader=oi,h.MultiFormatReader=eo,h.MultiFormatWriter=Fc,h.NotFoundException=re,h.OneDReader=kt,h.PDF417DecodedBitStreamParser=ie,h.PDF417DecoderErrorCorrection=Hi,h.PDF417Reader=Tn,h.PDF417ResultMetadata=Gr,h.PerspectiveTransform=Fn,h.PlanarYUVLuminanceSource=vi,h.QRCodeByteMatrix=rl,h.QRCodeDataMask=Yn,h.QRCodeDecodedBitStreamParser=Gt,h.QRCodeDecoderErrorCorrectionLevel=ut,h.QRCodeDecoderFormatInformation=mn,h.QRCodeEncoder=Xt,h.QRCodeEncoderQRCode=ur,h.QRCodeMaskUtil=Qt,h.QRCodeMatrixUtil=Xe,h.QRCodeMode=He,h.QRCodeReader=ji,h.QRCodeVersion=Ue,h.QRCodeWriter=Vr,h.RGBLuminanceSource=Ql,h.RSS14Reader=_t,h.RSSExpandedReader=xe,h.ReaderException=il,h.ReedSolomonDecoder=Ui,h.ReedSolomonEncoder=Ta,h.ReedSolomonException=Ht,h.Result=me,h.ResultMetadataType=tt,h.ResultPoint=Te,h.StringUtils=Ce,h.UnsupportedOperationException=Oe,h.VideoInputDevice=z,h.WhiteRectangleDetector=Pt,h.WriterException=It,h.ZXingArrays=de,h.ZXingCharset=no,h.ZXingInteger=ae,h.ZXingStandardCharsets=Ra,h.ZXingStringBuilder=je,h.ZXingStringEncoding=Ge,h.ZXingSystem=Z,h.createAbstractExpandedDecoder=Ur,Object.defineProperty(h,"__esModule",{value:!0})}))})(zs,zs.exports)),zs.exports}var tn=V3();const X3=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));var Wh=(function(){function u(d,h,p){if(this.formatMap=new Map([[_e.QR_CODE,tn.BarcodeFormat.QR_CODE],[_e.AZTEC,tn.BarcodeFormat.AZTEC],[_e.CODABAR,tn.BarcodeFormat.CODABAR],[_e.CODE_39,tn.BarcodeFormat.CODE_39],[_e.CODE_93,tn.BarcodeFormat.CODE_93],[_e.CODE_128,tn.BarcodeFormat.CODE_128],[_e.DATA_MATRIX,tn.BarcodeFormat.DATA_MATRIX],[_e.MAXICODE,tn.BarcodeFormat.MAXICODE],[_e.ITF,tn.BarcodeFormat.ITF],[_e.EAN_13,tn.BarcodeFormat.EAN_13],[_e.EAN_8,tn.BarcodeFormat.EAN_8],[_e.PDF_417,tn.BarcodeFormat.PDF_417],[_e.RSS_14,tn.BarcodeFormat.RSS_14],[_e.RSS_EXPANDED,tn.BarcodeFormat.RSS_EXPANDED],[_e.UPC_A,tn.BarcodeFormat.UPC_A],[_e.UPC_E,tn.BarcodeFormat.UPC_E],[_e.UPC_EAN_EXTENSION,tn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!X3)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=h,this.logger=p;var b=this.createZXingFormats(d),E=new Map;E.set(tn.DecodeHintType.POSSIBLE_FORMATS,b),E.set(tn.DecodeHintType.TRY_HARDER,!1),this.hints=E}return u.prototype.decodeAsync=function(d){var h=this;return new Promise(function(p,b){try{p(h.decode(d))}catch(E){b(E)}})},u.prototype.decode=function(d){var h=new tn.MultiFormatReader(this.verbose,this.hints),p=new tn.HTMLCanvasElementLuminanceSource(d),b=new tn.BinaryBitmap(new tn.HybridBinarizer(p)),E=h.decode(b);return{text:E.text,format:K2.create(this.toHtml5QrcodeSupportedFormats(E.format)),debugData:this.createDebugData()}},u.prototype.createReverseFormatMap=function(){var d=new Map;return this.formatMap.forEach(function(h,p,b){d.set(h,p)}),d},u.prototype.toHtml5QrcodeSupportedFormats=function(d){if(!this.reverseFormatMap.has(d))throw"reverseFormatMap doesn't have ".concat(d);return this.reverseFormatMap.get(d)},u.prototype.createZXingFormats=function(d){for(var h=[],p=0,b=d;p<b.length;p++){var E=b[p];this.formatMap.has(E)?h.push(this.formatMap.get(E)):this.logger.logError("".concat(E," is not supported by")+"ZXingHtml5QrcodeShim")}return h},u.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},u})(),Y3=function(u,d,h,p){function b(E){return E instanceof h?E:new h(function(C){C(E)})}return new(h||(h=Promise))(function(E,C){function N(D){try{w(p.next(D))}catch(M){C(M)}}function I(D){try{w(p.throw(D))}catch(M){C(M)}}function w(D){D.done?E(D.value):b(D.value).then(N,I)}w((p=p.apply(u,d||[])).next())})},W3=function(u,d){var h={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},p,b,E,C;return C={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function N(w){return function(D){return I([w,D])}}function I(w){if(p)throw new TypeError("Generator is already executing.");for(;C&&(C=0,w[0]&&(h=0)),h;)try{if(p=1,b&&(E=w[0]&2?b.return:w[0]?b.throw||((E=b.return)&&E.call(b),0):b.next)&&!(E=E.call(b,w[1])).done)return E;switch(b=0,E&&(w=[w[0]&2,E.value]),w[0]){case 0:case 1:E=w;break;case 4:return h.label++,{value:w[1],done:!1};case 5:h.label++,b=w[1],w=[0];continue;case 7:w=h.ops.pop(),h.trys.pop();continue;default:if(E=h.trys,!(E=E.length>0&&E[E.length-1])&&(w[0]===6||w[0]===2)){h=0;continue}if(w[0]===3&&(!E||w[1]>E[0]&&w[1]<E[3])){h.label=w[1];break}if(w[0]===6&&h.label<E[1]){h.label=E[1],E=w;break}if(E&&h.label<E[2]){h.label=E[2],h.ops.push(w);break}E[2]&&h.ops.pop(),h.trys.pop();continue}w=d.call(u,h)}catch(D){w=[6,D],b=0}finally{p=E=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},qh=(function(){function u(d,h,p){if(this.formatMap=new Map([[_e.QR_CODE,"qr_code"],[_e.AZTEC,"aztec"],[_e.CODABAR,"codabar"],[_e.CODE_39,"code_39"],[_e.CODE_93,"code_93"],[_e.CODE_128,"code_128"],[_e.DATA_MATRIX,"data_matrix"],[_e.ITF,"itf"],[_e.EAN_13,"ean_13"],[_e.EAN_8,"ean_8"],[_e.PDF_417,"pdf417"],[_e.UPC_A,"upc_a"],[_e.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!u.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=h,this.logger=p;var b=this.createBarcodeDetectorFormats(d);if(this.detector=new BarcodeDetector(b),!this.detector)throw"BarcodeDetector detector not supported"}return u.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var d=new BarcodeDetector({formats:["qr_code"]});return typeof d<"u"},u.prototype.decodeAsync=function(d){return Y3(this,void 0,void 0,function(){var h,p;return W3(this,function(b){switch(b.label){case 0:return[4,this.detector.detect(d)];case 1:if(h=b.sent(),!h||h.length===0)throw"No barcode or QR code detected.";return p=this.selectLargestBarcode(h),[2,{text:p.rawValue,format:K2.create(this.toHtml5QrcodeSupportedFormats(p.format)),debugData:this.createDebugData()}]}})})},u.prototype.selectLargestBarcode=function(d){for(var h=null,p=0,b=0,E=d;b<E.length;b++){var C=E[b],N=C.boundingBox.width*C.boundingBox.height;N>p&&(p=N,h=C)}if(!h)throw"No largest barcode found";return h},u.prototype.createBarcodeDetectorFormats=function(d){for(var h=[],p=0,b=d;p<b.length;p++){var E=b[p];this.formatMap.has(E)?h.push(this.formatMap.get(E)):this.logger.warn("".concat(E," is not supported by")+"BarcodeDetectorDelegate")}return{formats:h}},u.prototype.toHtml5QrcodeSupportedFormats=function(d){if(!this.reverseFormatMap.has(d))throw"reverseFormatMap doesn't have ".concat(d);return this.reverseFormatMap.get(d)},u.prototype.createReverseFormatMap=function(){var d=new Map;return this.formatMap.forEach(function(h,p,b){d.set(h,p)}),d},u.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},u})(),Zh=function(u,d,h,p){function b(E){return E instanceof h?E:new h(function(C){C(E)})}return new(h||(h=Promise))(function(E,C){function N(D){try{w(p.next(D))}catch(M){C(M)}}function I(D){try{w(p.throw(D))}catch(M){C(M)}}function w(D){D.done?E(D.value):b(D.value).then(N,I)}w((p=p.apply(u,d||[])).next())})},Kh=function(u,d){var h={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},p,b,E,C;return C={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function N(w){return function(D){return I([w,D])}}function I(w){if(p)throw new TypeError("Generator is already executing.");for(;C&&(C=0,w[0]&&(h=0)),h;)try{if(p=1,b&&(E=w[0]&2?b.return:w[0]?b.throw||((E=b.return)&&E.call(b),0):b.next)&&!(E=E.call(b,w[1])).done)return E;switch(b=0,E&&(w=[w[0]&2,E.value]),w[0]){case 0:case 1:E=w;break;case 4:return h.label++,{value:w[1],done:!1};case 5:h.label++,b=w[1],w=[0];continue;case 7:w=h.ops.pop(),h.trys.pop();continue;default:if(E=h.trys,!(E=E.length>0&&E[E.length-1])&&(w[0]===6||w[0]===2)){h=0;continue}if(w[0]===3&&(!E||w[1]>E[0]&&w[1]<E[3])){h.label=w[1];break}if(w[0]===6&&h.label<E[1]){h.label=E[1],E=w;break}if(E&&h.label<E[2]){h.label=E[2],h.ops.push(w);break}E[2]&&h.ops.pop(),h.trys.pop();continue}w=d.call(u,h)}catch(D){w=[6,D],b=0}finally{p=E=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},q3=(function(){function u(d,h,p,b){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=p,h&&qh.isSupported()?(this.primaryDecoder=new qh(d,p,b),this.secondaryDecoder=new Wh(d,p,b)):this.primaryDecoder=new Wh(d,p,b)}return u.prototype.decodeAsync=function(d){return Zh(this,void 0,void 0,function(){var h;return Kh(this,function(p){switch(p.label){case 0:h=performance.now(),p.label=1;case 1:return p.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(d)];case 2:return[2,p.sent()];case 3:return this.possiblyLogPerformance(h),[7];case 4:return[2]}})})},u.prototype.decodeRobustlyAsync=function(d){return Zh(this,void 0,void 0,function(){var h,p;return Kh(this,function(b){switch(b.label){case 0:h=performance.now(),b.label=1;case 1:return b.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(d)];case 2:return[2,b.sent()];case 3:if(p=b.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(d)];throw p;case 4:return this.possiblyLogPerformance(h),[7];case 5:return[2]}})})},u.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},u.prototype.possiblyLogPerformance=function(d){if(this.verbose){var h=performance.now()-d;this.executionResults.push(h),this.executions++,this.possiblyFlushPerformanceReport()}},u.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var d=0,h=0,p=this.executionResults;h<p.length;h++){var b=p[h];d+=b}var E=d/this.executionResults.length;console.log("".concat(E," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},u})(),s0=(function(){var u=function(d,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(p[E]=b[E])},u(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})(),Ac=function(u,d,h,p){function b(E){return E instanceof h?E:new h(function(C){C(E)})}return new(h||(h=Promise))(function(E,C){function N(D){try{w(p.next(D))}catch(M){C(M)}}function I(D){try{w(p.throw(D))}catch(M){C(M)}}function w(D){D.done?E(D.value):b(D.value).then(N,I)}w((p=p.apply(u,d||[])).next())})},Sc=function(u,d){var h={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},p,b,E,C;return C={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function N(w){return function(D){return I([w,D])}}function I(w){if(p)throw new TypeError("Generator is already executing.");for(;C&&(C=0,w[0]&&(h=0)),h;)try{if(p=1,b&&(E=w[0]&2?b.return:w[0]?b.throw||((E=b.return)&&E.call(b),0):b.next)&&!(E=E.call(b,w[1])).done)return E;switch(b=0,E&&(w=[w[0]&2,E.value]),w[0]){case 0:case 1:E=w;break;case 4:return h.label++,{value:w[1],done:!1};case 5:h.label++,b=w[1],w=[0];continue;case 7:w=h.ops.pop(),h.trys.pop();continue;default:if(E=h.trys,!(E=E.length>0&&E[E.length-1])&&(w[0]===6||w[0]===2)){h=0;continue}if(w[0]===3&&(!E||w[1]>E[0]&&w[1]<E[3])){h.label=w[1];break}if(w[0]===6&&h.label<E[1]){h.label=E[1],E=w;break}if(E&&h.label<E[2]){h.label=E[2],h.ops.push(w);break}E[2]&&h.ops.pop(),h.trys.pop();continue}w=d.call(u,h)}catch(D){w=[6,D],b=0}finally{p=E=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},J2=(function(){function u(d,h){this.name=d,this.track=h}return u.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},u.prototype.apply=function(d){var h={};h[this.name]=d;var p={advanced:[h]};return this.track.applyConstraints(p)},u.prototype.value=function(){var d=this.track.getSettings();if(this.name in d){var h=d[this.name];return h}return null},u})(),Z3=(function(u){s0(d,u);function d(h,p){return u.call(this,h,p)||this}return d.prototype.min=function(){return this.getCapabilities().min},d.prototype.max=function(){return this.getCapabilities().max},d.prototype.step=function(){return this.getCapabilities().step},d.prototype.apply=function(h){var p={};p[this.name]=h;var b={advanced:[p]};return this.track.applyConstraints(b)},d.prototype.getCapabilities=function(){this.failIfNotSupported();var h=this.track.getCapabilities(),p=h[this.name];return{min:p.min,max:p.max,step:p.step}},d.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},d})(J2),K3=(function(u){s0(d,u);function d(h){return u.call(this,"zoom",h)||this}return d})(Z3),Q3=(function(u){s0(d,u);function d(h){return u.call(this,"torch",h)||this}return d})(J2),J3=(function(){function u(d){this.track=d}return u.prototype.zoomFeature=function(){return new K3(this.track)},u.prototype.torchFeature=function(){return new Q3(this.track)},u})(),$3=(function(){function u(d,h,p){this.isClosed=!1,this.parentElement=d,this.mediaStream=h,this.callbacks=p,this.surface=this.createVideoElement(this.parentElement.clientWidth),d.append(this.surface)}return u.prototype.createVideoElement=function(d){var h=document.createElement("video");return h.style.width="".concat(d,"px"),h.style.display="block",h.muted=!0,h.setAttribute("muted","true"),h.playsInline=!0,h},u.prototype.setupSurface=function(){var d=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var h=function(){var p=d.surface.clientWidth,b=d.surface.clientHeight;d.callbacks.onRenderSurfaceReady(p,b),d.surface.removeEventListener("playing",h)};this.surface.addEventListener("playing",h),this.surface.srcObject=this.mediaStream,this.surface.play()},u.create=function(d,h,p,b){return Ac(this,void 0,void 0,function(){var E,C;return Sc(this,function(N){switch(N.label){case 0:return E=new u(d,h,b),p.aspectRatio?(C={aspectRatio:p.aspectRatio},[4,E.getFirstTrackOrFail().applyConstraints(C)]):[3,2];case 1:N.sent(),N.label=2;case 2:return E.setupSurface(),[2,E]}})})},u.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},u.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},u.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},u.prototype.resume=function(d){this.failIfClosed();var h=this,p=function(){setTimeout(d,200),h.surface.removeEventListener("playing",p)};this.surface.addEventListener("playing",p),this.surface.play()},u.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},u.prototype.getSurface=function(){return this.failIfClosed(),this.surface},u.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},u.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},u.prototype.applyVideoConstraints=function(d){return Ac(this,void 0,void 0,function(){return Sc(this,function(h){if("aspectRatio"in d)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(d)]})})},u.prototype.close=function(){if(this.isClosed)return Promise.resolve();var d=this;return new Promise(function(h,p){var b=d.mediaStream.getVideoTracks(),E=b.length,C=0;d.mediaStream.getVideoTracks().forEach(function(N){d.mediaStream.removeTrack(N),N.stop(),++C,C>=E&&(d.isClosed=!0,d.parentElement.removeChild(d.surface),h())})})},u.prototype.getCapabilities=function(){return new J3(this.getFirstTrackOrFail())},u})(),ey=(function(){function u(d){this.mediaStream=d}return u.prototype.render=function(d,h,p){return Ac(this,void 0,void 0,function(){return Sc(this,function(b){return[2,$3.create(d,this.mediaStream,h,p)]})})},u.create=function(d){return Ac(this,void 0,void 0,function(){var h,p;return Sc(this,function(b){switch(b.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return h={audio:!1,video:d},[4,navigator.mediaDevices.getUserMedia(h)];case 1:return p=b.sent(),[2,new u(p)]}})})},u})(),Qh=function(u,d,h,p){function b(E){return E instanceof h?E:new h(function(C){C(E)})}return new(h||(h=Promise))(function(E,C){function N(D){try{w(p.next(D))}catch(M){C(M)}}function I(D){try{w(p.throw(D))}catch(M){C(M)}}function w(D){D.done?E(D.value):b(D.value).then(N,I)}w((p=p.apply(u,d||[])).next())})},Jh=function(u,d){var h={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},p,b,E,C;return C={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function N(w){return function(D){return I([w,D])}}function I(w){if(p)throw new TypeError("Generator is already executing.");for(;C&&(C=0,w[0]&&(h=0)),h;)try{if(p=1,b&&(E=w[0]&2?b.return:w[0]?b.throw||((E=b.return)&&E.call(b),0):b.next)&&!(E=E.call(b,w[1])).done)return E;switch(b=0,E&&(w=[w[0]&2,E.value]),w[0]){case 0:case 1:E=w;break;case 4:return h.label++,{value:w[1],done:!1};case 5:h.label++,b=w[1],w=[0];continue;case 7:w=h.ops.pop(),h.trys.pop();continue;default:if(E=h.trys,!(E=E.length>0&&E[E.length-1])&&(w[0]===6||w[0]===2)){h=0;continue}if(w[0]===3&&(!E||w[1]>E[0]&&w[1]<E[3])){h.label=w[1];break}if(w[0]===6&&h.label<E[1]){h.label=E[1],E=w;break}if(E&&h.label<E[2]){h.label=E[2],h.ops.push(w);break}E[2]&&h.ops.pop(),h.trys.pop();continue}w=d.call(u,h)}catch(D){w=[6,D],b=0}finally{p=E=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},ty=(function(){function u(){}return u.failIfNotSupported=function(){return Qh(this,void 0,void 0,function(){return Jh(this,function(d){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new u]})})},u.prototype.create=function(d){return Qh(this,void 0,void 0,function(){return Jh(this,function(h){return[2,ey.create(d)]})})},u})(),ny=function(u,d,h,p){function b(E){return E instanceof h?E:new h(function(C){C(E)})}return new(h||(h=Promise))(function(E,C){function N(D){try{w(p.next(D))}catch(M){C(M)}}function I(D){try{w(p.throw(D))}catch(M){C(M)}}function w(D){D.done?E(D.value):b(D.value).then(N,I)}w((p=p.apply(u,d||[])).next())})},iy=function(u,d){var h={label:0,sent:function(){if(E[0]&1)throw E[1];return E[1]},trys:[],ops:[]},p,b,E,C;return C={next:N(0),throw:N(1),return:N(2)},typeof Symbol=="function"&&(C[Symbol.iterator]=function(){return this}),C;function N(w){return function(D){return I([w,D])}}function I(w){if(p)throw new TypeError("Generator is already executing.");for(;C&&(C=0,w[0]&&(h=0)),h;)try{if(p=1,b&&(E=w[0]&2?b.return:w[0]?b.throw||((E=b.return)&&E.call(b),0):b.next)&&!(E=E.call(b,w[1])).done)return E;switch(b=0,E&&(w=[w[0]&2,E.value]),w[0]){case 0:case 1:E=w;break;case 4:return h.label++,{value:w[1],done:!1};case 5:h.label++,b=w[1],w=[0];continue;case 7:w=h.ops.pop(),h.trys.pop();continue;default:if(E=h.trys,!(E=E.length>0&&E[E.length-1])&&(w[0]===6||w[0]===2)){h=0;continue}if(w[0]===3&&(!E||w[1]>E[0]&&w[1]<E[3])){h.label=w[1];break}if(w[0]===6&&h.label<E[1]){h.label=E[1],E=w;break}if(E&&h.label<E[2]){h.label=E[2],h.ops.push(w);break}E[2]&&h.ops.pop(),h.trys.pop();continue}w=d.call(u,h)}catch(D){w=[6,D],b=0}finally{p=E=0}if(w[0]&5)throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}},ry=(function(){function u(){}return u.retrieve=function(){if(navigator.mediaDevices)return u.getCamerasFromMediaDevices();var d=MediaStreamTrack;return MediaStreamTrack&&d.getSources?u.getCamerasFromMediaStreamTrack():u.rejectWithError()},u.rejectWithError=function(){var d=Ul.unableToQuerySupportedDevices();return u.isHttpsOrLocalhost()||(d=Ul.insecureContextCameraQueryError()),Promise.reject(d)},u.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var d=location.host.split(":")[0];return d==="127.0.0.1"||d==="localhost"},u.getCamerasFromMediaDevices=function(){return ny(this,void 0,void 0,function(){var d,h,p,b,E,C,N;return iy(this,function(I){switch(I.label){case 0:return d=function(w){for(var D=w.getVideoTracks(),M=0,te=D;M<te.length;M++){var $=te[M];$.enabled=!1,$.stop(),w.removeTrack($)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return h=I.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(p=I.sent(),b=[],E=0,C=p;E<C.length;E++)N=C[E],N.kind==="videoinput"&&b.push({id:N.deviceId,label:N.label});return d(h),[2,b]}})})},u.getCamerasFromMediaStreamTrack=function(){return new Promise(function(d,h){var p=function(E){for(var C=[],N=0,I=E;N<I.length;N++){var w=I[N];w.kind==="video"&&C.push({id:w.id,label:w.label})}d(C)},b=MediaStreamTrack;b.getSources(p)})},u})(),un;(function(u){u[u.UNKNOWN=0]="UNKNOWN",u[u.NOT_STARTED=1]="NOT_STARTED",u[u.SCANNING=2]="SCANNING",u[u.PAUSED=3]="PAUSED"})(un||(un={}));var ay=(function(){function u(){this.state=un.NOT_STARTED,this.onGoingTransactionNewState=un.UNKNOWN}return u.prototype.directTransition=function(d){this.failIfTransitionOngoing(),this.validateTransition(d),this.state=d},u.prototype.startTransition=function(d){return this.failIfTransitionOngoing(),this.validateTransition(d),this.onGoingTransactionNewState=d,this},u.prototype.execute=function(){if(this.onGoingTransactionNewState===un.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var d=this.onGoingTransactionNewState;this.onGoingTransactionNewState=un.UNKNOWN,this.directTransition(d)},u.prototype.cancel=function(){if(this.onGoingTransactionNewState===un.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=un.UNKNOWN},u.prototype.getState=function(){return this.state},u.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==un.UNKNOWN)throw"Cannot transition to a new state, already under transition"},u.prototype.validateTransition=function(d){switch(this.state){case un.UNKNOWN:throw"Transition from unknown is not allowed";case un.NOT_STARTED:this.failIfNewStateIs(d,[un.PAUSED]);break;case un.SCANNING:break;case un.PAUSED:break}},u.prototype.failIfNewStateIs=function(d,h){for(var p=0,b=h;p<b.length;p++){var E=b[p];if(d===E)throw"Cannot transition from ".concat(this.state," to ").concat(d)}},u})(),ly=(function(){function u(d){this.stateManager=d}return u.prototype.startTransition=function(d){return this.stateManager.startTransition(d)},u.prototype.directTransition=function(d){this.stateManager.directTransition(d)},u.prototype.getState=function(){return this.stateManager.getState()},u.prototype.canScanFile=function(){return this.stateManager.getState()===un.NOT_STARTED},u.prototype.isScanning=function(){return this.stateManager.getState()!==un.NOT_STARTED},u.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===un.SCANNING},u.prototype.isPaused=function(){return this.stateManager.getState()===un.PAUSED},u})(),sy=(function(){function u(){}return u.create=function(){return new ly(new ay)},u})(),oy=(function(){var u=function(d,h){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,b){p.__proto__=b}||function(p,b){for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(p[E]=b[E])},u(d,h)};return function(d,h){if(typeof h!="function"&&h!==null)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");u(d,h);function p(){this.constructor=d}d.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}})(),Ei=(function(u){oy(d,u);function d(){return u!==null&&u.apply(this,arguments)||this}return d.DEFAULT_WIDTH=300,d.DEFAULT_WIDTH_OFFSET=2,d.FILE_SCAN_MIN_HEIGHT=300,d.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,d.MIN_QR_BOX_SIZE=50,d.SHADED_LEFT=1,d.SHADED_RIGHT=2,d.SHADED_TOP=3,d.SHADED_BOTTOM=4,d.SHADED_REGION_ELEMENT_ID="qr-shaded-region",d.VERBOSE=!1,d.BORDER_SHADER_DEFAULT_COLOR="#ffffff",d.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",d})(j3),cy=(function(){function u(d,h){this.logger=h,this.fps=Ei.SCAN_DEFAULT_FPS,d?(d.fps&&(this.fps=d.fps),this.disableFlip=d.disableFlip===!0,this.qrbox=d.qrbox,this.aspectRatio=d.aspectRatio,this.videoConstraints=d.videoConstraints):this.disableFlip=Ei.DEFAULT_DISABLE_FLIP}return u.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Q2.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},u.prototype.isShadedBoxEnabled=function(){return!Ir(this.qrbox)},u.create=function(d,h){return new u(d,h)},u})(),$2=(function(){function u(d,h){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(d))throw"HTML Element with id=".concat(d," not found");this.elementId=d,this.verbose=!1;var p;typeof h=="boolean"?this.verbose=h===!0:h&&(p=h,this.verbose=p.verbose===!0,p.experimentalFeatures),this.logger=new P3(this.verbose),this.qrcode=new q3(this.getSupportedFormats(h),this.getUseBarCodeDetectorIfSupported(p),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=sy.create()}return u.prototype.start=function(d,h,p,b){var E=this;if(!d)throw"cameraIdOrConfig is required";if(!p||typeof p!="function")throw"qrCodeSuccessCallback is required and should be a function.";var C;b?C=b:C=this.verbose?this.logger.log:function(){};var N=cy.create(h,this.logger);this.clearElement();var I=!1;N.videoConstraints&&(N.isMediaStreamConstraintsValid()?I=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var w=I,D=document.getElementById(this.elementId);D.clientWidth?D.clientWidth:Ei.DEFAULT_WIDTH,D.style.position="relative",this.shouldScan=!0,this.element=D;var M=this,te=this.stateManagerProxy.startTransition(un.SCANNING);return new Promise(function($,W){var Z=w?N.videoConstraints:M.createVideoConstraints(d);if(!Z){te.cancel(),W("videoConstraints should be defined");return}var K={};(!w||N.aspectRatio)&&(K.aspectRatio=N.aspectRatio);var Ee={onRenderSurfaceReady:function(de,ae){M.setupUi(de,ae,N),M.isScanning=!0,M.foreverScan(N,p,C)}};ty.failIfNotSupported().then(function(de){de.create(Z).then(function(ae){return ae.render(E.element,K,Ee).then(function(ce){M.renderedCamera=ce,te.execute(),$(null)}).catch(function(ce){te.cancel(),W(ce)})}).catch(function(ae){te.cancel(),W(Ul.errorGettingUserMedia(ae))})}).catch(function(de){te.cancel(),W(Ul.cameraStreamingNotSupported())})})},u.prototype.pause=function(d){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(un.PAUSED),this.showPausedState(),(Ir(d)||d!==!0)&&(d=!1),d&&this.renderedCamera&&this.renderedCamera.pause()},u.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var d=this,h=function(){d.stateManagerProxy.directTransition(un.SCANNING),d.hidePausedState()};if(!this.renderedCamera.isPaused()){h();return}this.renderedCamera.resume(function(){h()})},u.prototype.getState=function(){return this.stateManagerProxy.getState()},u.prototype.stop=function(){var d=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var h=this.stateManagerProxy.startTransition(un.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var p=function(){if(d.element){var E=document.getElementById(Ei.SHADED_REGION_ELEMENT_ID);E&&d.element.removeChild(E)}},b=this;return this.renderedCamera.close().then(function(){return b.renderedCamera=null,b.element&&(b.element.removeChild(b.canvasElement),b.canvasElement=null),p(),b.qrRegion&&(b.qrRegion=null),b.context&&(b.context=null),h.execute(),b.hidePausedState(),b.isScanning=!1,Promise.resolve()})},u.prototype.scanFile=function(d,h){return this.scanFileV2(d,h).then(function(p){return p.decodedText})},u.prototype.scanFileV2=function(d,h){var p=this;if(!d||!(d instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Ir(h)&&(h=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(b,E){p.possiblyCloseLastScanImageFile(),p.clearElement(),p.lastScanImageFile=URL.createObjectURL(d);var C=new Image;C.onload=function(){var N=C.width,I=C.height,w=document.getElementById(p.elementId),D=w.clientWidth?w.clientWidth:Ei.DEFAULT_WIDTH,M=Math.max(w.clientHeight?w.clientHeight:I,Ei.FILE_SCAN_MIN_HEIGHT),te=p.computeCanvasDrawConfig(N,I,D,M);if(h){var $=p.createCanvasElement(D,M,"qr-canvas-visible");$.style.display="inline-block",w.appendChild($);var W=$.getContext("2d");if(!W)throw"Unable to get 2d context from canvas";W.canvas.width=D,W.canvas.height=M,W.drawImage(C,0,0,N,I,te.x,te.y,te.width,te.height)}var Z=Ei.FILE_SCAN_HIDDEN_CANVAS_PADDING,K=Math.max(C.width,te.width),Ee=Math.max(C.height,te.height),de=K+2*Z,ae=Ee+2*Z,ce=p.createCanvasElement(de,ae);w.appendChild(ce);var Fe=ce.getContext("2d");if(!Fe)throw"Unable to get 2d context from canvas";Fe.canvas.width=de,Fe.canvas.height=ae,Fe.drawImage(C,0,0,N,I,Z,Z,K,Ee);try{p.qrcode.decodeRobustlyAsync(ce).then(function(Me){b(Xh.createFromQrcodeResult(Me))}).catch(E)}catch(Me){E("QR code parse error, error = ".concat(Me))}},C.onerror=E,C.onabort=E,C.onstalled=E,C.onsuspend=E,C.src=URL.createObjectURL(d)})},u.prototype.clear=function(){this.clearElement()},u.getCameras=function(){return ry.retrieve()},u.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},u.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},u.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},u.prototype.applyVideoConstraints=function(d){if(d){if(!Q2.isMediaStreamConstraintsValid(d,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(d)},u.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},u.prototype.getSupportedFormats=function(d){var h=[_e.QR_CODE,_e.AZTEC,_e.CODABAR,_e.CODE_39,_e.CODE_93,_e.CODE_128,_e.DATA_MATRIX,_e.MAXICODE,_e.ITF,_e.EAN_13,_e.EAN_8,_e.PDF_417,_e.RSS_14,_e.RSS_EXPANDED,_e.UPC_A,_e.UPC_E,_e.UPC_EAN_EXTENSION];if(!d||typeof d=="boolean"||!d.formatsToSupport)return h;if(!Array.isArray(d.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(d.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var p=[],b=0,E=d.formatsToSupport;b<E.length;b++){var C=E[b];F3(C)?p.push(C):this.logger.warn("Invalid format: ".concat(C," passed in config, ignoring."))}if(p.length===0)throw"None of formatsToSupport match supported values.";return p},u.prototype.getUseBarCodeDetectorIfSupported=function(d){if(Ir(d))return!0;if(!Ir(d.useBarCodeDetectorIfSupported))return d.useBarCodeDetectorIfSupported!==!1;if(Ir(d.experimentalFeatures))return!0;var h=d.experimentalFeatures;return Ir(h.useBarCodeDetectorIfSupported)?!0:h.useBarCodeDetectorIfSupported!==!1},u.prototype.validateQrboxSize=function(d,h,p){var b=this,E=p.qrbox;this.validateQrboxConfig(E);var C=this.toQrdimensions(d,h,E),N=function(w){if(w<Ei.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Ei.MIN_QR_BOX_SIZE,"px.")},I=function(w){return w>d&&(b.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),w=d),w};N(C.width),N(C.height),C.width=I(C.width)},u.prototype.validateQrboxConfig=function(d){if(typeof d!="number"&&typeof d!="function"&&(d.width===void 0||d.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},u.prototype.toQrdimensions=function(d,h,p){if(typeof p=="number")return{width:p,height:p};if(typeof p=="function")try{return p(d,h)}catch(b){throw new Error("qrbox config was passed as a function but it failed with unknown error"+b)}return p},u.prototype.setupUi=function(d,h,p){p.isShadedBoxEnabled()&&this.validateQrboxSize(d,h,p);var b=Ir(p.qrbox)?{width:d,height:h}:p.qrbox;this.validateQrboxConfig(b);var E=this.toQrdimensions(d,h,b);E.height>h&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var C=p.isShadedBoxEnabled()&&E.height<=h,N={x:0,y:0,width:d,height:h},I=C?this.getShadedRegionBounds(d,h,E):N,w=this.createCanvasElement(I.width,I.height),D={willReadFrequently:!0},M=w.getContext("2d",D);M.canvas.width=I.width,M.canvas.height=I.height,this.element.append(w),C&&this.possiblyInsertShadingElement(this.element,d,h,E),this.createScannerPausedUiElement(this.element),this.qrRegion=I,this.context=M,this.canvasElement=w},u.prototype.createScannerPausedUiElement=function(d){var h=document.createElement("div");h.innerText=Ul.scannerPaused(),h.style.display="none",h.style.position="absolute",h.style.top="0px",h.style.zIndex="1",h.style.background="rgba(9, 9, 9, 0.46)",h.style.color="#FFECEC",h.style.textAlign="center",h.style.width="100%",d.appendChild(h),this.scannerPausedUiElement=h},u.prototype.scanContext=function(d,h){var p=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(b){return d(b.text,Xh.createFromQrcodeResult(b)),p.possiblyUpdateShaders(!0),!0}).catch(function(b){p.possiblyUpdateShaders(!1);var E=Ul.codeParseError(b);return h(E,H3.createFrom(E)),!1})},u.prototype.foreverScan=function(d,h,p){var b=this;if(this.shouldScan&&this.renderedCamera){var E=this.renderedCamera.getSurface(),C=E.videoWidth/E.clientWidth,N=E.videoHeight/E.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var I=this.qrRegion.width*C,w=this.qrRegion.height*N,D=this.qrRegion.x*C,M=this.qrRegion.y*N;this.context.drawImage(E,D,M,I,w,0,0,this.qrRegion.width,this.qrRegion.height);var te=function(){b.foreverScanTimeout=setTimeout(function(){b.foreverScan(d,h,p)},b.getTimeoutFps(d.fps))};this.scanContext(h,p).then(function($){!$&&d.disableFlip!==!0?(b.context.translate(b.context.canvas.width,0),b.context.scale(-1,1),b.scanContext(h,p).finally(function(){te()})):te()}).catch(function($){b.logger.logError("Error happend while scanning context",$),te()})}},u.prototype.createVideoConstraints=function(d){if(typeof d=="string")return{deviceId:{exact:d}};if(typeof d=="object"){var h="facingMode",p="deviceId",b={user:!0,environment:!0},E="exact",C=function(W){if(W in b)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(W,"'")},N=Object.keys(d);if(N.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(N.length," keys");var I=Object.keys(d)[0];if(I!==h&&I!==p)throw"Only '".concat(h,"' and '").concat(p,"' ")+" are supported for 'cameraIdOrConfig'";if(I===h){var w=d.facingMode;if(typeof w=="string"){if(C(w))return{facingMode:w}}else if(typeof w=="object")if(E in w){if(C(w["".concat(E)]))return{facingMode:{exact:w["".concat(E)]}}}else throw"'facingMode' should be string or object with"+" ".concat(E," as key.");else{var D=typeof w;throw"Invalid type of 'facingMode' = ".concat(D)}}else{var M=d.deviceId;if(typeof M=="string")return{deviceId:M};if(typeof M=="object"){if(E in M)return{deviceId:{exact:M["".concat(E)]}};throw"'deviceId' should be string or object with"+" ".concat(E," as key.")}else{var te=typeof M;throw"Invalid type of 'deviceId' = ".concat(te)}}}var $=typeof d;throw"Invalid type of 'cameraIdOrConfig' = ".concat($)},u.prototype.computeCanvasDrawConfig=function(d,h,p,b){if(d<=p&&h<=b){var E=(p-d)/2,C=(b-h)/2;return{x:E,y:C,width:d,height:h}}else{var N=d,I=h;return d>p&&(h=p/d*h,d=p),h>b&&(d=b/h*d,h=b),this.logger.log("Image downsampled from "+"".concat(N,"X").concat(I)+" to ".concat(d,"X").concat(h,".")),this.computeCanvasDrawConfig(d,h,p,b)}},u.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var d=document.getElementById(this.elementId);d&&(d.innerHTML="")},u.prototype.possiblyUpdateShaders=function(d){this.qrMatch!==d&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(h){h.style.backgroundColor=d?Ei.BORDER_SHADER_MATCH_COLOR:Ei.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=d)},u.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},u.prototype.createCanvasElement=function(d,h,p){var b=d,E=h,C=document.createElement("canvas");return C.style.width="".concat(b,"px"),C.style.height="".concat(E,"px"),C.style.display="none",C.id=Ir(p)?"qr-canvas":p,C},u.prototype.getShadedRegionBounds=function(d,h,p){if(p.width>d||p.height>h)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(d-p.width)/2,y:(h-p.height)/2,width:p.width,height:p.height}},u.prototype.possiblyInsertShadingElement=function(d,h,p,b){if(!(h-b.width<1||p-b.height<1)){var E=document.createElement("div");E.style.position="absolute";var C=(h-b.width)/2,N=(p-b.height)/2;if(E.style.borderLeft="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),E.style.borderRight="".concat(C,"px solid rgba(0, 0, 0, 0.48)"),E.style.borderTop="".concat(N,"px solid rgba(0, 0, 0, 0.48)"),E.style.borderBottom="".concat(N,"px solid rgba(0, 0, 0, 0.48)"),E.style.boxSizing="border-box",E.style.top="0px",E.style.bottom="0px",E.style.left="0px",E.style.right="0px",E.id="".concat(Ei.SHADED_REGION_ELEMENT_ID),h-b.width<11||p-b.height<11)this.hasBorderShaders=!1;else{var I=5,w=40;this.insertShaderBorders(E,w,I,-I,null,0,!0),this.insertShaderBorders(E,w,I,-I,null,0,!1),this.insertShaderBorders(E,w,I,null,-I,0,!0),this.insertShaderBorders(E,w,I,null,-I,0,!1),this.insertShaderBorders(E,I,w+I,-I,null,-I,!0),this.insertShaderBorders(E,I,w+I,null,-I,-I,!0),this.insertShaderBorders(E,I,w+I,-I,null,-I,!1),this.insertShaderBorders(E,I,w+I,null,-I,-I,!1),this.hasBorderShaders=!0}d.append(E)}},u.prototype.insertShaderBorders=function(d,h,p,b,E,C,N){var I=document.createElement("div");I.style.position="absolute",I.style.backgroundColor=Ei.BORDER_SHADER_DEFAULT_COLOR,I.style.width="".concat(h,"px"),I.style.height="".concat(p,"px"),b!==null&&(I.style.top="".concat(b,"px")),E!==null&&(I.style.bottom="".concat(E,"px")),N?I.style.left="".concat(C,"px"):I.style.right="".concat(C,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(I),d.appendChild(I)},u.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},u.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},u.prototype.getTimeoutFps=function(d){return 1e3/d},u})(),$h;(function(u){u[u.STATUS_DEFAULT=0]="STATUS_DEFAULT",u[u.STATUS_SUCCESS=1]="STATUS_SUCCESS",u[u.STATUS_WARNING=2]="STATUS_WARNING",u[u.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})($h||($h={}));const st={light:()=>{"vibrate"in navigator&&navigator.vibrate(10)},medium:()=>{"vibrate"in navigator&&navigator.vibrate(30)},strong:()=>{"vibrate"in navigator&&navigator.vibrate(50)},pattern:(u=[30,50,30])=>{"vibrate"in navigator&&navigator.vibrate(u)},success:()=>{"vibrate"in navigator&&navigator.vibrate([20,50,20,50,20])},error:()=>{"vibrate"in navigator&&navigator.vibrate([50,50,50])}},uy={dark:{bg:"#0f172a",card:"#1e293b",text:"#f8fafc",subtext:"#94a3b8",border:"#334155",accent:"#6366f1",success:"#10b981",warning:"#f59e0b",error:"#ef4444"}},fy=()=>{const{api:u}=Hl(),d=uy.dark,[h,p]=H.useState([]),[b,E]=H.useState(!0),[C,N]=H.useState(null),[I,w]=H.useState(null),D=async()=>{try{const $=await u.get("/api/stats/list/missingCount");Array.isArray($.data)&&(p($.data),w(null))}catch($){console.error("Fetch error:",$),b&&w("Failed to load data. Check connection.")}finally{E(!1)}};H.useEffect(()=>{D();const $=setInterval(D,1e4);return()=>clearInterval($)},[u]);const M=async $=>{if(window.confirm("Verify: Mark roll as DAMAGED/SKIPPED?")){N($);try{await u.patch(`/api/mobile/missing/damaged/${$}`),await D()}catch(W){alert(`Operation Failed: ${W.response?.data?.error||W.message}`)}finally{N(null)}}},te=$=>{alert(`To register Roll #${$}, please close this menu and use the "Manual Input" feature on the main screen.`)};return b&&h.length===0&&!I?R.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:d.bg},children:R.jsx("div",{style:{color:d.subtext},children:"Loading sequence data..."})}):R.jsxs("div",{style:{flex:1,backgroundColor:d.bg,display:"flex",flexDirection:"column",minHeight:0,overflow:"hidden"},children:[R.jsxs("div",{style:{padding:"30px 25px",display:"flex",alignItems:"center",backgroundColor:d.card,borderBottom:`1px solid ${d.border}`,boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},children:[R.jsx("div",{style:{width:"45px",height:"45px",backgroundColor:`${d.accent}20`,borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"15px"},children:R.jsx("span",{style:{fontSize:"20px"},children:""})}),R.jsxs("div",{children:[R.jsx("h2",{style:{color:d.text,fontSize:"20px",fontWeight:"800",margin:0,letterSpacing:"-0.02em"},children:"Sequence Gaps"}),R.jsxs("p",{style:{color:d.subtext,fontSize:"13px",fontWeight:"600",margin:"2px 0 0 0"},children:[h.length," Missing Entries"]})]})]}),I&&R.jsx("div",{style:{padding:"16px",backgroundColor:`${d.error}20`,color:d.error,fontSize:"14px",textAlign:"center",fontWeight:"600"},children:I}),h.length===0&&!b&&!I?R.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px"},children:[R.jsx("div",{style:{width:"70px",height:"70px",backgroundColor:`${d.success}20`,borderRadius:"35px",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"20px"},children:R.jsx("span",{style:{fontSize:"30px",color:d.success},children:""})}),R.jsx("h3",{style:{color:d.text,fontSize:"18px",fontWeight:"700",marginBottom:"8px"},children:"All Clear"}),R.jsx("p",{style:{color:d.subtext,fontSize:"14px",textAlign:"center"},children:"No sequence interruptions detected."})]}):R.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px",display:"flex",flexDirection:"column",gap:"16px"},children:h.map($=>R.jsxs("div",{style:{backgroundColor:d.card,borderRadius:"16px",padding:"20px",border:`1px solid ${d.border}`,boxShadow:"0 2px 4px rgba(0,0,0,0.05)",display:"flex",flexDirection:"column",gap:"16px"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[R.jsxs("div",{children:[R.jsx("span",{style:{fontSize:"11px",fontWeight:"800",color:d.accent,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Missing Roll"}),R.jsx("div",{style:{fontSize:"24px",fontWeight:"800",color:d.text,fontFamily:"monospace",marginTop:"4px"},children:$.barcode})]}),R.jsx("div",{style:{padding:"6px 12px",borderRadius:"20px",backgroundColor:`${d.warning}20`,color:d.warning,fontSize:"11px",fontWeight:"800"},children:"PENDING"})]}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",paddingTop:"16px",borderTop:`1px solid ${d.border}`},children:[R.jsxs("button",{onClick:()=>te($.barcode),style:{backgroundColor:"transparent",border:`1px solid ${d.border}`,color:d.text,padding:"12px",borderRadius:"10px",fontWeight:"700",fontSize:"13px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",cursor:"pointer"},children:[R.jsx("span",{children:""})," Manual Entry"]}),R.jsxs("button",{onClick:()=>M($.barcode),disabled:C===$.barcode,style:{backgroundColor:C===$.barcode?d.subtext:d.card,border:`1px solid ${d.error}`,color:d.error,padding:"12px",borderRadius:"10px",fontWeight:"700",fontSize:"13px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",transition:"all 0.2s",cursor:C===$.barcode?"not-allowed":"pointer"},children:[R.jsx("span",{children:""}),C===$.barcode?"Saving...":"Ignore / Damaged"]})]})]},$.barcode))})]})},dy=()=>{const{api:u,serverIp:d,setServerIp:h,unpair:p,deferredPrompt:b,installApp:E}=Hl(),[C,N]=H.useState(!1),[I,w]=H.useState(!1),[D,M]=H.useState(!1),[te,$]=H.useState(!1),[W,Z]=H.useState(!1),[K,Ee]=H.useState(!1),[de,ae]=H.useState(""),[ce,Fe]=H.useState(!1),[Me,P]=H.useState(!1),[Re,X]=H.useState(null),[Oe,Ge]=H.useState("IN"),[Ce,je]=H.useState([]),[Je,re]=H.useState(!1),[J,fe]=H.useState(null),[Be,et]=H.useState(null),[ot,z]=H.useState(null),[le,ve]=H.useState("SCAN"),[me,Ye]=H.useState(null),[ye,it]=H.useState({metre:"",weight:"",percentage:"100"}),[tt,Tt]=H.useState(null);H.useEffect(()=>{const Se=localStorage.getItem("active_session_type"),Ne=localStorage.getItem("active_session_size"),ze=localStorage.getItem("active_session_id");Se&&Ge(Se),Ne&&fe(Ne),ze&&et(ze)},[]),H.useEffect(()=>{const Se=parseFloat(ye.metre),Ne=parseFloat(ye.weight);if(Se>0&&Ne>0){const ze=(Ne/Se*1e3).toFixed(2);it(pn=>({...pn,percentage:ze}))}},[ye.metre,ye.weight]);const[On,rn]=H.useState({show:!1,message:"",type:"info",title:""}),[Li,$e]=H.useState(!1),Ht=H.useRef(null),Ut=H.useRef(!1),[Ui,en]=H.useState(!1),[Et,ct]=H.useState(null),Ie={primary:"#0f172a",secondary:"#1e293b",accent:"#6366f1",textMuted:"#94a3b8",success:"#10b981",error:"#ef4444",warning:"#f59e0b",border:"#334155"},Te=(Se,Ne="info",ze="")=>{rn({show:!0,message:Se,type:Ne,title:ze})},sr=()=>{rn(Se=>({...Se,show:!1})),On.type==="error"&&(Ut.current=!1)};H.useEffect(()=>{le==="SCAN"&&!C&&!D&&!I&&!te&&!Je?ya():Pt();const Se=()=>{document.visibilityState==="hidden"?Pt():document.visibilityState==="visible"&&le==="SCAN"&&!C&&!Je&&setTimeout(()=>ya(),500)};return document.addEventListener("visibilitychange",Se),()=>{Pt(),document.removeEventListener("visibilitychange",Se)}},[le,C,D,I,te,Je]);const ya=async()=>{try{if(Ht.current)return;console.log(" Starting camera..."),X(null);const Se=new $2("reader");Ht.current=Se;const Ne={fps:5,qrbox:{width:280,height:200},disableFlip:!1,experimentalFeatures:{useBarCodeDetectorIfSupported:!0},formatsToSupport:[_e.CODE_128,_e.CODE_39,_e.EAN_13]};await Se.start({facingMode:"environment"},Ne,ze=>{Ut.current||ze&&(Ut.current=!0,st.success(),Br(ze))},ze=>{});try{const ze=Se.getRunningTrackCameraCapabilities();ze&&ze.torchFeature().isSupported()?P(!0):P(!1)}catch(ze){console.warn("Torch check failed:",ze),P(!1)}}catch(Se){console.error(" Camera error:",Se),X(`${Se.name}: ${Se.message}`),Ht.current=null}},Pt=async()=>{try{Ht.current&&(Ht.current.isScanning&&await Ht.current.stop(),Ht.current.clear(),Ht.current=null)}catch(Se){console.warn(" Error stopping camera:",Se),Ht.current=null}},Br=async Se=>{N(!0);let Ne=Se.replace(/\s+/g,"").replace(/[^\d-]/g,"").trim();if(!Ne.includes("-")&&Ne.length>=8&&(Ne=`${Ne.substring(0,2)}-${Ne.substring(2,4)}-${Ne.substring(4)}`),Oe==="OUT"){if(Ce.some(ze=>ze.barcode===Ne)){st.error(),Te(`Barcode ID: ${Ne}

Already in current list!`,"error","Duplicate Scan"),N(!1),Ut.current=!1;return}try{const ze=`/api/mobile/scan/${Ne}`,At=(await u.get(ze,{headers:{"x-session-id":Be}})).data;if(At.status==="WRONG_SIZE"){st.error(),Te(` WRONG SIZE!

Expected: ${At.expected}
Scanned: ${At.actual}`,"error"),N(!1),Ut.current=!1;return}if(At.status==="SESSION_ENDED"){st.error(),Te("Session has ended. Redirecting...","error"),setTimeout(()=>{localStorage.removeItem("active_session_id"),window.location.reload()},2e3);return}At.status==="INVALID"||!At.data?(st.error(),Te(`Unknown Barcode: ${Ne}`,"error")):At.data.status==="OUT"?(st.error(),Te(`Item already Dispatched: ${Ne}`,"error")):(st.success(),Tt({barcode:Ne,details:At.data}),Ut.current=!0)}catch(ze){st.error(),Te(ze.message,"error"),setTimeout(()=>{N(!1),Ut.current=!1},1e3)}return}try{const ze=`/api/mobile/scan/${Ne}`,At=(await u.get(ze,{headers:{"x-session-id":Be}})).data;if(At.status==="WRONG_SIZE"){st.error(),Te(` WRONG SIZE!

Expected: ${At.expected}
Scanned: ${At.actual}`,"error"),N(!1),Ut.current=!1;return}if(At.status==="SESSION_ENDED"){st.error(),Te("Session has ended. Redirecting...","error"),setTimeout(()=>{localStorage.removeItem("active_session_id"),window.location.reload()},2e3);return}if(At.status==="INVALID"){st.error(),Te(` Invalid Barcode

${At.message}`,"error"),N(!1),Ut.current=!1;return}z(Ne),Ye({...At,barcode:Ne}),At.status==="EXISTING"&&At.data?it({metre:At.data.metre?String(At.data.metre):"",weight:At.data.weight?String(At.data.weight):"",percentage:At.data.percentage?String(At.data.percentage):"100"}):it({metre:"",weight:"",percentage:"100"}),setTimeout(()=>ve("ACTION"),300)}catch(ze){st.error(),Te(`Error: ${ze.message}`,"error"),N(!1),Ut.current=!1}},Fn=async Se=>{if(Li)return;$e(!0);const Ne=JSON.parse(localStorage.getItem("employee")||"{}"),ze={barcode:me.barcode,type:Se,metre:parseFloat(ye.metre||0),weight:parseFloat(ye.weight||0),percentage:parseFloat(ye.percentage||100),employeeId:Ne.id||Ne._id,employeeName:Ne.name};try{const pn=await u.post("/api/mobile/transaction",ze);pn.data.error?(st.error(),Te(pn.data.error,"error")):(st.success(),Te(` ${Se} Successful!`,"success"),or())}catch(pn){st.error(),Te(pn.message,"error")}finally{$e(!1)}},Ea=async()=>{if(Ce.length!==0){$e(!0);try{const Se=JSON.parse(localStorage.getItem("employee")||"{}"),Ne={type:"OUT",employeeId:Se.id||Se._id,employeeName:Se.name,items:Ce.map(pn=>({barcode:pn.barcode,details:"Bulk Stock Out via Session"}))},ze=await u.post("/api/mobile/batch-transaction",Ne);if(ze.data.results&&ze.data.results.failed.length>0){const pn=ze.data.results.failed.length,At=ze.data.results.success.length;Te(` Partial Success

Processed: ${At}
Failed: ${pn}

Check logs for failed items.`,"error"),je([]),re(!1)}else st.success(),Te(` Batch Dispatch Complete!

${Ce.length} items processed.`,"success"),je([]),re(!1)}catch(Se){st.error(),Te(Se.message,"error")}finally{$e(!1)}}},Pn=Se=>{const Ne=[...Ce];Ne.splice(Se,1),je(Ne)},Sn=()=>{tt&&(je(Se=>[{barcode:tt.barcode,details:tt.details,scannedAt:new Date},...Se]),Tt(null),N(!1),Ut.current=!1,st.success())},ba=()=>{Tt(null),N(!1),Ut.current=!1},or=()=>{Ut.current=!1,N(!1),Ye(null),ve("SCAN"),it({metre:"",weight:"",percentage:"100"}),z(null)};H.useEffect(()=>{const Ne=setTimeout(async()=>{if(Ht.current&&Ht.current.isScanning&&le==="SCAN"&&!C&&!Je)try{await Ht.current.applyVideoConstraints({advanced:[{torch:ce}]})}catch(ze){console.error("Torch Error:",ze),ce&&(st.error(),Te("Flashlight unavailble on this device/browser","warning"),setTimeout(()=>Fe(!1),500))}},500);return()=>clearTimeout(Ne)},[ce,le,C,Je]);const Pl=()=>{Fe(!ce)},kt=async()=>{try{$e(!0);const Se=await u.get(`/api/sessions/${Be}/preview`);Se.data.success?(ct(Se.data.stats),en(!0),$(!1)):Te(Se.data.error||"Failed to get session stats","error")}catch(Se){console.error(Se),Te("Failed to connect to server","error")}finally{$e(!1)}},we=async()=>{try{$e(!0);const Se=await u.post("/api/sessions/end",{sessionId:Be});Se.data.success?(st.success(),Te("Session Finished Successfully!","success"),localStorage.removeItem("active_session_id"),localStorage.removeItem("active_session_type"),localStorage.removeItem("active_session_size"),setTimeout(()=>window.location.reload(),1500)):Te(Se.data.error,"error")}catch(Se){Te(Se.message,"error")}finally{$e(!1),en(!1)}};return Ui&&Et?R.jsxs("div",{style:{position:"fixed",inset:0,background:Ie.primary,zIndex:2e3,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px"},children:[R.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[R.jsx("div",{style:{fontSize:"60px",marginBottom:"20px"},children:""}),R.jsx("h1",{style:{color:"white",fontSize:"24px",margin:0},children:"Finish Session?"}),R.jsx("p",{style:{color:Ie.textMuted,marginTop:"8px"},children:"Review session summary before closing."})]}),R.jsxs("div",{style:{width:"80%",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginBottom:"40px"},children:[R.jsxs("div",{style:{background:Ie.secondary,padding:"20px",borderRadius:"16px",textAlign:"center"},children:[R.jsx("div",{style:{fontSize:"32px",fontWeight:"800",color:"white"},children:Et.totalCount}),R.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:Ie.textMuted,marginTop:"4px"},children:"ITEMS"})]}),R.jsxs("div",{style:{background:Ie.secondary,padding:"20px",borderRadius:"16px",textAlign:"center"},children:[R.jsx("div",{style:{fontSize:"32px",fontWeight:"800",color:Ie.accent},children:Et.totalMetre.toFixed(0)}),R.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:Ie.textMuted,marginTop:"4px"},children:"METRE"})]}),R.jsxs("div",{style:{gridColumn:"1 / -1",background:Ie.secondary,padding:"20px",borderRadius:"16px",textAlign:"center"},children:[R.jsx("div",{style:{fontSize:"32px",fontWeight:"800",color:Ie.success},children:Et.totalWeight.toFixed(1)}),R.jsx("div",{style:{fontSize:"11px",fontWeight:"700",color:Ie.textMuted,marginTop:"4px"},children:"TOTAL WEIGHT (KG)"})]})]}),R.jsxs("div",{style:{width:"80%",display:"flex",flexDirection:"column",gap:"16px"},children:[R.jsx(Xa,{onClick:we,label:"CONFIRM & FINISH",icon:"",color:Ie.success}),R.jsx(Xa,{onClick:()=>en(!1),label:"CANCEL",variant:"ghost"})]})]}):R.jsxs("div",{style:{height:"100dvh",width:"100vw",backgroundColor:"black",display:"flex",flexDirection:"column",position:"fixed",overflow:"hidden"},children:[R.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,height:"64px",padding:"0 16px",display:"flex",alignItems:"center",justifyContent:"space-between",background:"rgba(15, 23, 42, 0.6)",backdropFilter:"blur(16px)",borderBottom:"1px solid rgba(255,255,255,0.05)",zIndex:100,boxShadow:"0 4px 30px rgba(0, 0, 0, 0.1)"},children:[R.jsxs("div",{style:{display:"flex",gap:"10px",background:"rgba(255,255,255,0.1)",padding:"4px",borderRadius:"12px"},children:[R.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",background:Oe==="IN"?Ie.success:Ie.error,color:"white",fontWeight:"800",fontSize:"11px",lineHeight:"1"},children:Oe}),J&&R.jsxs("div",{style:{padding:"6px 12px",borderRadius:"8px",background:"rgba(255,255,255,0.2)",color:"white",fontWeight:"800",fontSize:"11px",lineHeight:"1"},children:["S-",J]})]}),R.jsxs("div",{style:{textAlign:"center"},children:[R.jsx("h1",{style:{color:"white",fontWeight:"800",fontSize:"14px",letterSpacing:"0.5px",margin:0},children:Oe==="IN"?"STOCK ENTRY":"DISPATCH"}),R.jsx("div",{style:{fontSize:"10px",color:"#94a3b8",marginTop:"2px"},children:(()=>{const Se=JSON.parse(localStorage.getItem("employee")||"{}");return Se.name?`${Se.name} (${Se.employeeId})`:"Unknown"})()})]}),R.jsxs("div",{style:{display:"flex",gap:"8px"},children:[R.jsx("button",{onClick:Pl,style:e2,children:ce?"":""}),R.jsx("button",{onClick:()=>$(!0),style:e2,children:""})]})]}),R.jsx("div",{style:{flex:1,position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},children:le==="SCAN"?R.jsxs(R.Fragment,{children:[R.jsx("div",{id:"reader",style:{width:"100%",height:"100%"}}),R.jsx("style",{children:`
                                #reader video { object-fit: cover !important; width: 100% !important; height: 100% !important; border-radius: 0 !important; }
                                #reader { border: none !important; }
                            `}),R.jsxs("div",{style:{position:"absolute",inset:0,pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},children:[R.jsxs("div",{style:{width:"280px",height:"280px",border:`2px solid ${Oe==="IN"?Ie.success:Ie.error}`,borderRadius:"24px",boxShadow:"0 0 0 9999px rgba(0,0,0,0.7)",position:"relative",overflow:"hidden"},children:[R.jsx("div",{className:"laser-line",style:{position:"absolute",top:0,left:0,right:0,height:"2px",background:Oe==="IN"?Ie.success:Ie.error,boxShadow:`0 0 10px ${Oe==="IN"?Ie.success:Ie.error}`,animation:"scan 2s infinite ease-in-out"}}),R.jsx("style",{children:"@keyframes scan { 0% { top: 10%; opacity: 0; } 10% { opacity: 1; } 90% { opacity: 1; } 100% { top: 90%; opacity: 0; } }"})]}),Oe==="OUT"&&R.jsxs("button",{onClick:()=>re(!0),style:{position:"absolute",bottom:"25%",pointerEvents:"auto",background:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)",border:"1px solid rgba(255,255,255,0.2)",padding:"10px 24px",borderRadius:"30px",color:"white",fontWeight:"800",display:"flex",gap:"8px",alignItems:"center"},children:[R.jsxs("span",{children:[" LIST (",Ce.length,")"]}),R.jsx("span",{style:{fontSize:"10px",background:"white",color:"black",padding:"2px 6px",borderRadius:"4px"},children:"REVIEW"})]}),R.jsxs("button",{onClick:()=>Ee(!0),style:{position:"absolute",bottom:"15%",background:"rgba(255, 255, 255, 0.15)",backdropFilter:"blur(12px)",border:"1px solid rgba(255, 255, 255, 0.2)",color:"white",padding:"16px 32px",borderRadius:"100px",fontWeight:"700",boxShadow:"0 8px 32px 0 rgba(0, 0, 0, 0.37)",pointerEvents:"auto",display:"flex",alignItems:"center",gap:"8px",fontSize:"15px"},children:[R.jsx("span",{children:""})," ENTER PIN / BARCODE"]})]})]}):R.jsxs("div",{style:{position:"absolute",inset:0,background:Ie.primary,display:"flex",flexDirection:"column",animation:"slideUp 0.3s ease-out"},children:[R.jsx("style",{children:"@keyframes slideUp { from { transform: translateY(100%); } to { transform: translateY(0); } }"}),R.jsx("div",{style:{padding:"80px 20px 20px",textAlign:"center"},children:R.jsxs("div",{style:{background:Ie.secondary,padding:"24px",borderRadius:"24px",border:`1px solid ${Ie.border}`},children:[R.jsx("div",{style:{fontSize:"12px",color:Ie.textMuted,fontWeight:"700",marginBottom:"8px"},children:"DETECTED BARCODE"}),R.jsx("div",{style:{fontSize:"32px",color:"white",fontWeight:"800",fontFamily:"monospace",letterSpacing:"-1px"},children:me?.barcode})]})}),R.jsx("div",{style:{flex:1,padding:"0 20px",overflowY:"auto"},children:le==="ACTION"?R.jsxs("div",{style:{display:"grid",gap:"16px"},children:[me.gapDetected&&R.jsxs("div",{style:{padding:"16px",background:"rgba(245, 158, 11, 0.2)",color:Ie.warning,borderRadius:"16px",border:"1px solid rgba(245, 158, 11, 0.3)",fontSize:"13px",fontWeight:"600"},children:[" Gap Detected: ",me.gapBarcode," skipped"]}),R.jsxs("div",{style:{background:Ie.secondary,padding:"16px",borderRadius:"16px",border:`1px solid ${Ie.border}`,marginBottom:"16px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[R.jsx("div",{style:{fontSize:"12px",fontWeight:"700",color:Ie.textMuted},children:"CURRENT STATUS"}),R.jsx("div",{style:{padding:"6px 12px",borderRadius:"8px",fontSize:"12px",fontWeight:"800",textTransform:"uppercase",background:me?.data?.status?me.data.status==="IN"?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)":"rgba(99, 102, 241, 0.2)",color:me?.data?.status?me.data.status==="IN"?Ie.success:Ie.error:Ie.accent,border:`1px solid ${me?.data?.status?me.data.status==="IN"?Ie.success:Ie.error:Ie.accent}`},children:me?.data?.status?me.data.status==="IN"?" STOCKED IN":" DISPATCHED":" NEW / UNKNOWN"})]}),me?.data&&R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"8px",marginBottom:"16px"},children:[R.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"10px",borderRadius:"10px",textAlign:"center"},children:[R.jsx("div",{style:{fontSize:"10px",color:Ie.textMuted,fontWeight:"700"},children:"METRE"}),R.jsx("div",{style:{fontSize:"14px",fontWeight:"700",color:"white"},children:me.data.metre})]}),R.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"10px",borderRadius:"10px",textAlign:"center"},children:[R.jsx("div",{style:{fontSize:"10px",color:Ie.textMuted,fontWeight:"700"},children:"WEIGHT"}),R.jsx("div",{style:{fontSize:"14px",fontWeight:"700",color:"white"},children:me.data.weight})]}),R.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",padding:"10px",borderRadius:"10px",textAlign:"center"},children:[R.jsx("div",{style:{fontSize:"10px",color:Ie.textMuted,fontWeight:"700"},children:"QUALITY"}),R.jsxs("div",{style:{fontSize:"14px",fontWeight:"700",color:"white"},children:[me.data.percentage,"%"]})]})]}),Oe==="IN"&&R.jsx(Xa,{onClick:()=>ve("IN_FORM"),disabled:!1,label:me?.data?.status==="IN"?"EDIT STOCK IN":"STOCK IN",sub:me?.data?.status==="IN"?"(Update Details)":null,icon:"",color:Ie.success}),R.jsx(Xa,{onClick:or,label:"CANCEL",icon:"",variant:"ghost"})]}):R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[R.jsx("h2",{style:{color:"white",fontSize:"20px",margin:0},children:le==="IN_FORM"?" Details":" Details"}),R.jsx(jf,{label:"METRE",value:ye.metre,onChange:Se=>it({...ye,metre:Se})}),R.jsx(jf,{label:"WEIGHT (KG)",value:ye.weight,onChange:Se=>it({...ye,weight:Se})}),R.jsx("div",{style:{opacity:.7},children:R.jsx(jf,{label:"QUALITY % (AUTO)",value:ye.percentage,onChange:()=>{},readOnly:!0})}),R.jsx(Xa,{onClick:()=>Fn("IN"),label:"CONFIRM",icon:"",color:Ie.success}),R.jsx(Xa,{onClick:()=>ve("ACTION"),label:"BACK",variant:"ghost"})]})})]})}),tt&&R.jsx("div",{style:Bl,children:R.jsxs("div",{style:{...Us,maxWidth:"400px",textAlign:"left"},children:[R.jsxs("div",{style:{textAlign:"center",marginBottom:"1.5rem"},children:[R.jsx("div",{style:{fontSize:"3rem",marginBottom:"0.5rem"},children:""}),R.jsx("h3",{style:{margin:0,color:"white"},children:"Confirm Item"}),R.jsx("p",{style:{color:Ie.textMuted,fontSize:"0.9rem"},children:"Check details before adding to list"})]}),R.jsxs("div",{style:{background:Ie.secondary,padding:"1.5rem",borderRadius:"16px",marginBottom:"1.5rem",border:`1px solid ${Ie.border}`},children:[R.jsx("div",{style:{fontSize:"0.8rem",color:Ie.textMuted,fontWeight:"700",letterSpacing:"1px",marginBottom:"4px"},children:"BARCODE"}),R.jsx("div",{style:{fontSize:"1.5rem",fontFamily:"monospace",fontWeight:"800",color:"white",marginBottom:"1.5rem"},children:tt.barcode}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[R.jsxs("div",{children:[R.jsx("div",{style:{fontSize:"0.7rem",color:Ie.textMuted,fontWeight:"700"},children:"METRE"}),R.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:Ie.success},children:[tt.details.metre," m"]})]}),R.jsxs("div",{children:[R.jsx("div",{style:{fontSize:"0.7rem",color:Ie.textMuted,fontWeight:"700"},children:"WEIGHT"}),R.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"700",color:Ie.accent},children:[tt.details.weight," kg"]})]})]})]}),R.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[R.jsx("button",{onClick:Sn,style:{...Ll,background:Ie.success,flex:1},children:"PROCEED"}),R.jsx("button",{onClick:ba,style:{...n2,flex:1},children:"CANCEL"})]})]})}),Je&&R.jsxs("div",{style:{position:"fixed",inset:0,background:Ie.primary,zIndex:2e3,display:"flex",flexDirection:"column"},children:[R.jsxs("div",{style:{padding:"20px",borderBottom:`1px solid ${Ie.border}`,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsxs("h2",{style:{margin:0,color:"white",fontSize:"1.2rem"},children:["Review List (",Ce.length,")"]}),R.jsx("button",{onClick:()=>re(!1),style:{background:"transparent",border:"none",color:Ie.textMuted,fontSize:"1.5rem"},children:""})]}),R.jsx("div",{style:{flex:1,overflowY:"auto",padding:"20px"},children:Ce.length===0?R.jsx("div",{style:{textAlign:"center",color:Ie.textMuted,marginTop:"50px"},children:"List is empty"}):hy(Ce,Pn,Ie)}),R.jsx("div",{style:{padding:"20px",borderTop:`1px solid ${Ie.border}`},children:R.jsx(Xa,{onClick:Ea,label:`SUBMIT ALL (${Ce.length})`,icon:"",color:Ie.error,disabled:Ce.length===0||Li})})]}),te&&R.jsx("div",{style:Bl,onClick:()=>$(!1),children:R.jsxs("div",{style:gy,onClick:Se=>Se.stopPropagation(),children:[R.jsx("div",{style:{padding:"24px",borderBottom:`1px solid ${Ie.border}`},children:R.jsx("h2",{style:{margin:0,color:"white",fontSize:"18px"},children:"Menu"})}),R.jsx(Ml,{icon:"",label:"Install App / APK",onClick:()=>{b?E():($(!1),Z(!0))},sub:b?"":"(Manual Install)"}),R.jsx(Ml,{icon:"",label:"Finish Session",sub:"End session & view report",color:Ie.accent,onClick:kt}),R.jsx(Ml,{icon:"",label:"Server IP",onClick:()=>w(!0)}),R.jsx(Ml,{icon:"",label:"Missing Scans",onClick:()=>{M(!0),$(!1)}}),R.jsx(Ml,{icon:"",label:"Switch User",color:Ie.warning,onClick:()=>{window.confirm("Switch user?")&&(localStorage.removeItem("employee"),window.location.reload())}}),R.jsx(Ml,{icon:"",label:"Unpair Device",color:Ie.error,onClick:()=>p()}),R.jsx("div",{style:{padding:"20px"},children:R.jsx("button",{onClick:()=>$(!1),style:Ll,children:"CLOSE"})})]})}),W&&R.jsx("div",{style:Bl,children:R.jsxs("div",{style:Us,children:[R.jsx("div",{style:{fontSize:"32px",marginBottom:"16px"},children:""}),R.jsx("h3",{style:{color:"white",margin:"0 0 16px 0"},children:"Install Manually"}),R.jsx("p",{style:{color:"#94a3b8",fontSize:"14px",marginBottom:"20px",lineHeight:"1.5"},children:"To install as an App (APK style):"}),R.jsxs("ol",{style:{textAlign:"left",color:"white",fontSize:"14px",lineHeight:"1.8",marginBottom:"24px",paddingLeft:"20px"},children:[R.jsxs("li",{children:["Tap browser menu (",R.jsx("b",{children:""})," or ",R.jsx("b",{children:"Share"}),")"]}),R.jsxs("li",{children:["Select ",R.jsx("b",{children:'"Add to Home Screen"'})," or ",R.jsx("b",{children:'"Install App"'})]}),R.jsx("li",{children:"Confirm installation"})]}),R.jsx("button",{onClick:()=>Z(!1),style:Ll,children:"OK, GOT IT"})]})}),On.show&&R.jsx("div",{style:Bl,onClick:sr,children:R.jsxs("div",{style:Us,onClick:Se=>Se.stopPropagation(),children:[R.jsx("div",{style:{fontSize:"40px",marginBottom:"16px"},children:On.type==="error"?"":""}),R.jsx("h3",{style:{margin:"0 0 8px 0",color:"white"},children:On.title||(On.type==="error"?"Error":"Success")}),R.jsx("p",{style:{margin:"0 0 24px 0",color:Ie.textMuted,whiteSpace:"pre-wrap"},children:On.message}),R.jsx("button",{onClick:sr,style:Ll,children:"OK"})]})}),D&&R.jsxs("div",{style:{position:"fixed",inset:0,background:Ie.primary,zIndex:2e3,display:"flex",flexDirection:"column"},children:[R.jsx("div",{style:{flex:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:R.jsx(fy,{})}),R.jsx("button",{onClick:()=>M(!1),style:{padding:"20px",background:Ie.secondary,border:"none",color:"white",fontWeight:"bold"},children:"CLOSE"})]}),K&&R.jsx("div",{style:Bl,children:R.jsxs("div",{style:Us,children:[R.jsx("h3",{style:{color:"white",margin:"0 0 16px 0"},children:"Enter Barcode"}),R.jsx("input",{autoFocus:!0,value:de,onChange:Se=>ae(Se.target.value),style:t2,placeholder:"Barcode..."}),R.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"16px"},children:[R.jsx("button",{onClick:()=>{de&&(Br(de),ae(""),Ee(!1))},style:{...Ll,flex:1},children:"GO"}),R.jsx("button",{onClick:()=>Ee(!1),style:{...n2,flex:1},children:"CANCEL"})]})]})}),I&&R.jsx("div",{style:Bl,children:R.jsxs("div",{style:Us,children:[R.jsx("h3",{style:{color:"white",margin:"0 0 16px 0"},children:"Server IP"}),R.jsx("input",{value:d,onChange:Se=>h(Se.target.value),style:t2}),R.jsx("div",{style:{display:"flex",gap:"10px",marginTop:"16px"},children:R.jsx("button",{onClick:()=>w(!1),style:{...Ll,flex:1},children:"SAVE"})})]})})]})},hy=(u,d,h)=>u.map((p,b)=>R.jsxs("div",{style:{background:"rgba(30, 41, 59, 0.6)",backdropFilter:"blur(10px)",marginBottom:"12px",padding:"16px",borderRadius:"16px",border:"1px solid rgba(255,255,255,0.05)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsxs("div",{children:[R.jsx("div",{style:{fontWeight:"800",fontSize:"1.2rem",fontFamily:"monospace",color:"white",letterSpacing:"-0.5px"},children:p.barcode}),R.jsxs("div",{style:{fontSize:"0.85rem",color:h.textMuted,marginTop:"2px"},children:[R.jsxs("span",{style:{color:h.success,fontWeight:"700"},children:[p.details.metre,"m"]}),R.jsx("span",{style:{margin:"0 6px",opacity:.3},children:"|"}),R.jsxs("span",{style:{color:h.accent,fontWeight:"700"},children:[p.details.weight,"kg"]})]})]}),R.jsx("button",{onClick:()=>d(b),style:{background:"rgba(239, 68, 68, 0.1)",color:h.error,border:"1px solid rgba(239, 68, 68, 0.2)",width:"40px",height:"40px",borderRadius:"12px",fontSize:"1.2rem",display:"flex",alignItems:"center",justifyContent:"center"},children:""})]},b)),Xa=({onClick:u,disabled:d,label:h,sub:p,icon:b,color:E,variant:C="solid"})=>R.jsxs("button",{onClick:u,disabled:d,style:{width:"100%",padding:"20px",borderRadius:"16px",background:C==="ghost"?"transparent":d?"#334155":E||"#6366f1",color:d||C==="ghost"?"#94a3b8":"white",display:"flex",alignItems:"center",justifyContent:"center",gap:"12px",fontSize:"16px",fontWeight:"700",cursor:d?"not-allowed":"pointer",border:C==="ghost"?"1px solid #334155":"none",transition:"transform 0.1s active"},children:[b&&R.jsx("span",{style:{fontSize:"20px"},children:b}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[R.jsx("span",{children:h}),p&&R.jsx("span",{style:{fontSize:"12px",opacity:.7,fontWeight:"400"},children:p})]})]}),jf=({label:u,value:d,onChange:h,type:p="number",readOnly:b=!1})=>R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:[R.jsx("label",{style:{fontSize:"11px",fontWeight:"800",color:"#94a3b8",letterSpacing:"1px",marginLeft:"4px"},children:u}),R.jsx("input",{type:p,value:d,onChange:E=>h(E.target.value),readOnly:b,step:"0.01",style:{background:b?"rgba(15, 23, 42, 0.5)":"#1e293b",border:"1px solid #334155",color:"white",padding:"16px",borderRadius:"16px",fontSize:"18px",fontWeight:"700",outline:"none",width:"100%",fontFamily:"monospace"}})]}),Ml=({icon:u,label:d,onClick:h,sub:p,color:b})=>R.jsxs("button",{onClick:h,style:{width:"100%",padding:"20px 24px",background:"transparent",border:"none",color:b||"white",display:"flex",alignItems:"center",gap:"16px",fontSize:"16px",fontWeight:"600",textAlign:"left",borderBottom:"1px solid #334155"},children:[R.jsx("span",{style:{fontSize:"20px"},children:u}),R.jsxs("div",{children:[R.jsx("div",{children:d}),p&&R.jsx("div",{style:{fontSize:"11px",color:"#94a3b8",marginTop:"4px"},children:p})]})]}),Bl={position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(3px)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},Us={background:"rgba(30, 41, 59, 1)",backdropFilter:"blur(24px)",padding:"24px",borderRadius:"24px",width:"85%",maxWidth:"340px",textAlign:"center",boxShadow:"0 20px 50px rgba(0,0,0,0.5)",border:"1px solid rgba(255,255,255,0.1)"},gy={background:"#0f172a",width:"100%",maxWidth:"360px",borderRadius:"24px",overflow:"hidden",border:"1px solid #334155"},e2={background:"rgba(255,255,255,0.1)",border:"none",color:"white",width:"40px",height:"40px",borderRadius:"12px",fontSize:"18px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},t2={width:"100%",background:"rgba(0,0,0,0.2)",border:"1px solid #334155",color:"white",padding:"12px",borderRadius:"8px",fontSize:"16px",outline:"none",boxSizing:"border-box",textAlign:"center"},Ll={width:"100%",padding:"12px",background:"#6366f1",color:"white",border:"none",borderRadius:"8px",fontWeight:"600",fontSize:"15px"},n2={width:"100%",padding:"12px",background:"transparent",color:"#94a3b8",border:"1px solid #334155",borderRadius:"8px",fontWeight:"600",fontSize:"15px"},xy=()=>{const[u,d]=H.useState(null),[h,p]=H.useState(!1);H.useEffect(()=>{const E=C=>{C.preventDefault(),d(C),p(!0)};return window.addEventListener("beforeinstallprompt",E),()=>{window.removeEventListener("beforeinstallprompt",E)}},[]);const b=async()=>{if(!u)return;u.prompt();const{outcome:E}=await u.userChoice;console.log(`User response to the install prompt: ${E}`),d(null),p(!1)};return h?R.jsxs("div",{style:{position:"fixed",bottom:"20px",left:"50%",transform:"translateX(-50%)",maxWidth:"90%",width:"400px",backgroundColor:"#1e293b",padding:"16px",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0,0,0,0.5)",zIndex:100,display:"flex",alignItems:"center",justifyContent:"space-between",border:"1px solid #334155"},children:[R.jsxs("div",{style:{marginRight:"15px"},children:[R.jsx("h3",{style:{margin:"0 0 4px 0",color:"#f8fafc",fontSize:"14px",fontWeight:"bold"},children:"Install App"}),R.jsx("p",{style:{margin:0,color:"#94a3b8",fontSize:"12px"},children:"Add to Home Screen for offline access"})]}),R.jsxs("div",{style:{display:"flex",gap:"8px"},children:[R.jsx("button",{onClick:()=>p(!1),style:{background:"transparent",border:"none",color:"#94a3b8",padding:"8px",cursor:"pointer",fontSize:"14px"},children:""}),R.jsx("button",{onClick:b,style:{backgroundColor:"#6366f1",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",fontWeight:"bold",fontSize:"12px",cursor:"pointer"},children:"Install"})]})]}):null},zn={bg:"#0f172a",accent:"#6366f1",text:"#f8fafc",textMuted:"#94a3b8",border:"#334155",error:"#ef4444"},py=()=>{const{pairScanner:u}=Hl(),[d,h]=H.useState("NAME"),[p,b]=H.useState(""),[E,C]=H.useState(""),[N,I]=H.useState(!1),[w,D]=H.useState(null),[M,te]=H.useState(null),[$,W]=H.useState(null),[Z,K]=H.useState(!1),Ee=H.useRef(null),de=H.useRef(!1);H.useEffect(()=>{b(`Scanner ${Math.floor(Math.random()*1e3)}`);const Oe=new URLSearchParams(window.location.search),Ge=Oe.get("server"),Ce=Oe.get("token");Ge&&Ce&&(console.log(" Deep Link Detected"),D({token:Ce,server:Ge}))},[]),H.useEffect(()=>(d==="SCAN"&&!N?ae():ce(),()=>ce()),[d,N]);const ae=async()=>{if(!(Ee.current||de.current))try{W(null);const Oe=new $2("setup-setup-reader");Ee.current=Oe,de.current=!0,await Oe.start({facingMode:"environment"},{fps:10,qrbox:{width:260,height:260},aspectRatio:1,formatsToSupport:[_e.QR_CODE]},Ge=>{Z||Me(Ge)},()=>{})}catch(Oe){console.error("Camera Error",Oe),W("Camera access denied. Please check permissions."),de.current=!1,Ee.current=null}},ce=async()=>{if(Ee.current){try{Ee.current.isScanning&&await Ee.current.stop(),Ee.current.clear()}catch(Oe){console.warn(Oe)}Ee.current=null}de.current=!1},Fe=()=>{if(!p.trim()){te("Please name this device"),st.error();return}te(null),st.success(),w?Re(w.token,w.server):h("SCAN")},Me=Oe=>{ce(),st.success(),K(!0);try{let Ge,Ce;if(Oe.startsWith("http")){const je=new URL(Oe);Ce=je.searchParams.get("server"),Ge=je.searchParams.get("token")}else{const je=JSON.parse(Oe);Ge=je.id,Ce=je.url}if(!Ce||!Ge)throw new Error("Invalid QR Code");Re(Ge,Ce)}catch(Ge){console.error(Ge),X("Invalid QR Code. Try again.")}},P=()=>{if(!E.trim()){te("Enter Server IP");return}I(!1);const Oe=`https://${E}:5000`;Re("FACTORY_SETUP_2026",Oe)},Re=async(Oe,Ge)=>{K(!0),h("CONNECTING");try{await u(Oe,Ge,p)}catch(Ce){X(Ce.message||"Connection Failed")}},X=Oe=>{K(!1),te(Oe),st.error(),d==="CONNECTING"&&!w?setTimeout(()=>{te(null),h("SCAN")},2500):h("NAME")};return d==="NAME"?R.jsxs("div",{style:i2,children:[R.jsxs("div",{style:eg,children:[R.jsx("div",{style:yy,children:""}),R.jsx("h1",{style:Ey,children:"Device Setup"}),R.jsx("p",{style:by,children:w?"Pairing link detected. Name this device to finish.":"Let's get started. Give this scanner a name."}),R.jsxs("div",{style:wy,children:[R.jsx("label",{style:Ay,children:"DEVICE NAME"}),R.jsx("input",{autoFocus:!0,type:"text",value:p,onChange:Oe=>{b(Oe.target.value),te(null)},placeholder:"e.g. Loading Dock A",style:r2,onKeyDown:Oe=>Oe.key==="Enter"&&Fe()})]}),M&&R.jsx("div",{style:Sy,children:M}),R.jsx("button",{onClick:Fe,style:a2,children:w?"FINISH & CONNECT":"NEXT: PAIR DEVICE"})]}),R.jsx("div",{style:jy}),R.jsx("div",{style:Hy})]}):d==="SCAN"?R.jsxs("div",{style:my,children:[R.jsxs("div",{style:Cy,children:[R.jsx("button",{onClick:()=>h("NAME"),style:vy,children:" Back"}),R.jsx("span",{style:{fontWeight:"700",letterSpacing:"1px"},children:p}),R.jsx("button",{onClick:()=>I(!0),style:Ty,children:""})]}),R.jsxs("div",{style:{flex:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"center",background:"black"},children:[R.jsx("div",{id:"setup-setup-reader",style:{width:"100%",height:"100%"}}),R.jsxs("div",{style:Ry,children:[R.jsxs("div",{style:Ny,children:[R.jsx("div",{style:_y}),R.jsx("div",{style:Iy}),R.jsx("div",{style:Dy}),R.jsx("div",{style:My}),R.jsx("div",{style:By})]}),R.jsx("p",{style:Oy,children:"Scan pairing QR code on Desktop"})]}),$&&R.jsxs("div",{style:Ly,children:[R.jsx("div",{style:{fontSize:"40px",marginBottom:"20px"},children:""}),R.jsx("p",{children:$}),R.jsx("button",{onClick:()=>window.location.reload(),style:l2,children:"RELOAD"})]})]}),N&&R.jsx("div",{style:Uy,children:R.jsxs("div",{style:ky,children:[R.jsx("h3",{style:{color:"white",margin:"0 0 16px",fontSize:"18px"},children:"Manual IP Entry"}),R.jsx("input",{value:E,onChange:Oe=>C(Oe.target.value),placeholder:"192.168.x.x",style:r2}),R.jsxs("div",{style:{display:"flex",gap:"10px",marginTop:"20px"},children:[R.jsx("button",{onClick:P,style:{...a2},children:"CONNECT"}),R.jsx("button",{onClick:()=>I(!1),style:{...l2,background:"transparent",border:`1px solid ${zn.border}`},children:"CANCEL"})]})]})}),M&&R.jsx("div",{style:zy,children:M})]}):d==="CONNECTING"?R.jsx("div",{style:i2,children:R.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[R.jsx("div",{className:"spinner",style:Fy}),R.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } } .spinner { animation: spin 1s linear infinite; }"}),R.jsx("h2",{style:{color:"white",marginTop:"20px",letterSpacing:"1px"},children:"CONNECTING..."}),R.jsxs("p",{style:{color:zn.textMuted},children:["Registering ",p]})]})}):null},i2={minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",backgroundColor:zn.bg,color:zn.text,padding:"20px",position:"relative",overflow:"hidden"},my={height:"100dvh",display:"flex",flexDirection:"column",backgroundColor:"black",color:"white"},eg={background:"rgba(30, 41, 59, 0.7)",backdropFilter:"blur(20px)",border:`1px solid ${zn.border}`,padding:"40px 30px",borderRadius:"30px",width:"100%",maxWidth:"380px",textAlign:"center",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.5)",zIndex:10},yy={width:"70px",height:"70px",borderRadius:"24px",background:zn.accent,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",margin:"0 auto 24px",boxShadow:`0 10px 30px -5px ${zn.accent}80`},Ey={fontSize:"24px",fontWeight:"800",margin:"0 0 10px",letterSpacing:"-0.5px"},by={color:zn.textMuted,fontSize:"15px",lineHeight:"1.5",margin:"0 0 30px"},wy={textAlign:"left",marginBottom:"24px"},Ay={display:"block",fontSize:"11px",fontWeight:"700",letterSpacing:"1px",color:zn.textMuted,marginBottom:"8px"},r2={width:"100%",padding:"16px",borderRadius:"14px",border:`1px solid ${zn.border}`,background:"#0f172a",color:"white",fontSize:"16px",outline:"none",transition:"border-color 0.2s",boxSizing:"border-box"},a2={width:"100%",padding:"18px",borderRadius:"16px",border:"none",background:"linear-gradient(135deg, #6366f1 0%, #4f46e5 100%)",color:"white",fontWeight:"800",fontSize:"16px",letterSpacing:"0.5px",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(79, 70, 229, 0.3)",transition:"transform 0.1s"},l2={padding:"12px 24px",borderRadius:"12px",border:"none",background:zn.border,color:"white",fontWeight:"700",cursor:"pointer"},Sy={background:"rgba(239, 68, 68, 0.15)",color:zn.error,padding:"12px",borderRadius:"12px",marginBottom:"20px",fontSize:"14px",fontWeight:"600"},Cy={position:"absolute",top:0,left:0,right:0,height:"60px",zIndex:50,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 20px",background:"linear-gradient(to bottom, rgba(0,0,0,0.8), transparent)"},vy={background:"none",border:"none",color:"white",fontWeight:"600",fontSize:"14px"},Ty={background:"rgba(255,255,255,0.1)",width:"36px",height:"36px",borderRadius:"10px",border:"none",color:"white",display:"flex",alignItems:"center",justifyContent:"center"},Ry={position:"absolute",inset:0,pointerEvents:"none",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,0.5)",maskImage:"radial-gradient(ellipse at center, transparent 35%, black 60%)",WebkitMaskImage:"radial-gradient(ellipse at center, transparent 35%, black 60%)"},Ny={width:"260px",height:"260px",position:"relative",borderRadius:"30px",boxShadow:"0 0 0 4000px rgba(0,0,0,0.6)",border:"2px solid rgba(255,255,255,0.2)"},Oy={marginTop:"40px",fontWeight:"700",letterSpacing:"0.5px",textShadow:"0 2px 4px black",zIndex:100},Dc={position:"absolute",width:"40px",height:"40px",borderColor:zn.accent,borderStyle:"solid"},_y={...Dc,top:"-2px",left:"-2px",borderTopWidth:"4px",borderLeftWidth:"4px",borderTopLeftRadius:"30px"},Iy={...Dc,top:"-2px",right:"-2px",borderTopWidth:"4px",borderRightWidth:"4px",borderTopRightRadius:"30px"},Dy={...Dc,bottom:"-2px",left:"-2px",borderBottomWidth:"4px",borderLeftWidth:"4px",borderBottomLeftRadius:"30px"},My={...Dc,bottom:"-2px",right:"-2px",borderBottomWidth:"4px",borderRightWidth:"4px",borderBottomRightRadius:"30px"},By={position:"absolute",top:"50%",left:"10%",right:"10%",height:"2px",background:zn.error,boxShadow:`0 0 15px ${zn.error}`,opacity:.8},Ly={position:"absolute",inset:0,background:"#0f172a",zIndex:60,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",textAlign:"center"},Uy={position:"fixed",inset:0,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(5px)",zIndex:200,display:"flex",alignItems:"center",justifyContent:"center"},ky={...eg,maxWidth:"320px",padding:"30px 20px"},zy={position:"absolute",bottom:"100px",left:"50%",transform:"translateX(-50%)",background:zn.error,color:"white",padding:"12px 24px",borderRadius:"50px",fontWeight:"700",boxShadow:"0 10px 20px rgba(0,0,0,0.3)",zIndex:200,width:"max-content"},Fy={width:"40px",height:"40px",border:"4px solid rgba(255,255,255,0.1)",borderTopColor:zn.accent,borderRadius:"50%"},tg={position:"absolute",borderRadius:"50%",filter:"blur(80px)",zIndex:0},jy={...tg,width:"300px",height:"300px",background:"#6366f1",top:"-100px",left:"-100px",opacity:.2},Hy={...tg,width:"250px",height:"250px",background:"#ec4899",bottom:"-80px",right:"-80px",opacity:.15},Py=()=>{const{api:u,unpair:d}=Hl(),h=vc(),[p,b]=H.useState("ID"),[E,C]=H.useState(""),[N,I]=H.useState(""),[w,D]=H.useState(""),[M,te]=H.useState(!1),$=ae=>{D(""),st.light&&st.light(),p==="ID"?E.length<3&&C(ce=>ce+ae):N.length<6&&I(ce=>ce+ae)},W=()=>{D(""),st.light&&st.light(),p==="ID"?C(""):I("")},Z=()=>{D(""),st.light&&st.light(),p==="ID"?C(ae=>ae.slice(0,-1)):I(ae=>ae.slice(0,-1))},K=()=>{if(p==="ID"){if(!E){D("Enter ID Number"),st.error&&st.error();return}b("PIN")}else de()},Ee=()=>{p==="PIN"&&(b("ID"),I(""),D(""))},de=async()=>{if(N.length<4){D("PIN too short"),st.error&&st.error();return}te(!0);try{const ae=`E${E.padStart(3,"0")}`,ce=await u.post("/api/employees/verify",{employeeId:ae,pin:N});ce.data.success?(st.success&&st.success(),localStorage.setItem("employee",JSON.stringify(ce.data.employee)),h("/",{replace:!0})):(D("Invalid credentials"),st.error&&st.error(),I(""))}catch(ae){console.error(ae),st.error&&st.error(),D(ae.response?.data?.error||"Authentication Failed"),I("")}finally{te(!1)}};return R.jsx("div",{style:{height:"100dvh",display:"flex",flexDirection:"column",background:"#09090b",color:"#fff",touchAction:"none"},children:R.jsxs("div",{style:{flex:1,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem"},children:[R.jsxs("div",{style:{marginBottom:"2rem",textAlign:"center"},children:[R.jsx("div",{style:{fontSize:"0.8rem",color:"#71717a",letterSpacing:"0.2em",marginBottom:"0.5rem"},children:p==="ID"?"IDENTIFICATION":`EMPLOYEE E${E.padStart(3,"0")}`}),R.jsx("h2",{style:{margin:0,letterSpacing:"0.1em",fontWeight:"800"},children:p==="ID"?"ENTER ID NUMBER":"ENTER PIN"})]}),R.jsx("div",{style:{fontSize:"3rem",letterSpacing:"0.2em",marginBottom:"3rem",height:"60px",color:"white",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"monospace"},children:p==="ID"?R.jsxs("span",{children:[R.jsx("span",{style:{color:"#52525b"},children:"E"}),E||R.jsx("span",{style:{opacity:.3},children:"000"})]}):"".repeat(Math.max(N.length,4))}),w&&R.jsx("div",{style:{color:"#ef4444",marginBottom:"1.5rem",fontWeight:"bold",background:"rgba(239, 68, 68, 0.1)",padding:"0.5rem 1rem",borderRadius:"8px"},children:w}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem",width:"100%",maxWidth:"320px",marginBottom:"2rem"},children:[[1,2,3,4,5,6,7,8,9].map(ae=>R.jsx("button",{onClick:()=>$(ae),style:{background:"rgba(255,255,255,0.08)",border:"none",color:"#fff",height:"70px",borderRadius:"20px",fontSize:"1.75rem",fontWeight:"600",boxShadow:"0 4px 6px rgba(0,0,0,0.2)",cursor:"pointer",active:{transform:"scale(0.95)"}},children:ae},ae)),R.jsx("button",{onClick:W,style:{background:"transparent",border:"none",color:"#ef4444",fontSize:"1rem",fontWeight:"700"},children:"CLR"}),R.jsx("button",{onClick:()=>$(0),style:{background:"rgba(255,255,255,0.08)",border:"none",color:"#fff",height:"70px",borderRadius:"20px",fontSize:"1.75rem",fontWeight:"600",boxShadow:"0 4px 6px rgba(0,0,0,0.2)"},children:"0"}),R.jsx("button",{onClick:Z,style:{background:"transparent",border:"none",color:"#fbbf24",fontSize:"1.5rem"},children:""})]}),R.jsxs("div",{style:{width:"100%",maxWidth:"320px",display:"flex",flexDirection:"column",gap:"1rem"},children:[R.jsx("button",{onClick:K,disabled:M,style:{width:"100%",padding:"1.2rem",background:"#6366f1",border:"none",borderRadius:"16px",color:"white",fontWeight:"800",fontSize:"1.1rem",opacity:M?.5:1,boxShadow:"0 4px 12px rgba(99, 102, 241, 0.3)"},children:M?"VERIFYING...":p==="ID"?"NEXT":"LOGIN"}),p==="PIN"?R.jsx("button",{onClick:Ee,style:{background:"transparent",border:"none",color:"#94a3b8",fontSize:"0.9rem",padding:"1rem"},children:"Back to ID"}):R.jsx("button",{onClick:()=>{window.confirm("Unpair device?")&&d()},style:{background:"transparent",border:"none",color:"#52525b",fontSize:"0.8rem",padding:"1rem"},children:"Unpair Device"})]})]})})},Gy=()=>{const u=vc(),{api:d,scannerId:h,employee:p}=Hl(),[b,E]=H.useState([]),[C,N]=H.useState(!0),[I,w]=H.useState(!1),[D,M]=H.useState("IN"),[te,$]=H.useState("40"),[W,Z]=H.useState([]),K=async()=>{try{const Oe=(await d.get("/api/sessions/active")).data;E(Array.isArray(Oe)?Oe:[]),N(!1)}catch(X){console.error(X),N(!1)}},Ee=async()=>{try{const Oe=(await d.get("/api/sizes")).data;Z(Oe),Oe.length>0&&$(Oe[0].code)}catch(X){console.error(X)}};H.useEffect(()=>{K(),Ee();const X=setInterval(K,5e3);return()=>clearInterval(X)},[]);const de=async X=>{try{(await d.post("/api/sessions/join",{sessionId:X._id,scannerId:h})).data.success&&(localStorage.setItem("active_session_id",X._id),localStorage.setItem("active_session_type",X.type),localStorage.setItem("active_session_size",X.targetSize),u("/"))}catch{alert("Failed to join session")}},ae=async X=>{X.preventDefault();try{(await d.post("/api/sessions/create",{type:D,targetSize:te,createdBy:p?p.name:`Scanner ${h?h.slice(0,4):"Mobile"}`})).data.success&&(w(!1),K())}catch{alert("Failed to create session")}},ce={primary:"#0f172a",secondary:"#1e293b",accent:"#6366f1",text:"#f8fafc",textMuted:"#94a3b8",success:"#10b981",error:"#ef4444",border:"#334155"},Fe={background:ce.secondary,borderRadius:"16px",border:`1px solid ${ce.border}`,padding:"20px",marginBottom:"16px",position:"relative",overflow:"hidden",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"},Me=X=>({width:"100%",padding:"16px",borderRadius:"12px",background:X||ce.accent,color:"white",border:"none",fontSize:"16px",fontWeight:"700",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"10px",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"}),P={position:"fixed",inset:0,background:"rgba(0,0,0,0.6)",backdropFilter:"blur(5px)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center"},Re={background:ce.secondary,width:"90%",maxWidth:"400px",borderRadius:"24px",padding:"24px",border:`1px solid ${ce.border}`,boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.5)"};return R.jsxs("div",{style:{minHeight:"100vh",background:ce.primary,padding:"20px",paddingBottom:"100px",fontFamily:'"Outfit", sans-serif'},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[R.jsxs("div",{children:[R.jsx("h1",{style:{fontSize:"24px",fontWeight:"800",color:ce.text,margin:0},children:"Active Sessions"}),R.jsx("p",{style:{color:ce.textMuted,fontSize:"12px",fontWeight:"600",textTransform:"uppercase",letterSpacing:"1px",marginTop:"4px"},children:"Select a session to join"})]}),R.jsx("button",{onClick:K,style:{padding:"12px",background:ce.secondary,borderRadius:"12px",border:`1px solid ${ce.border}`,color:ce.accent,cursor:"pointer"},children:R.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"}),R.jsx("path",{d:"M3 3v5h5"}),R.jsx("path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"}),R.jsx("path",{d:"M16 21h5v-5"})]})})]}),C?R.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"40px",opacity:.5},children:[R.jsx("div",{style:{width:"32px",height:"32px",border:`2px solid ${ce.accent}`,borderTopColor:"transparent",borderRadius:"50%",animation:"spin 1s linear infinite",marginBottom:"16px"}}),R.jsx("div",{style:{fontSize:"14px",fontWeight:"500",color:ce.textMuted},children:"Loading sessions..."}),R.jsx("style",{children:"@keyframes spin { to { transform: rotate(360deg); } }"})]}):R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[b.length===0&&R.jsxs("div",{style:{textAlign:"center",padding:"48px 24px",background:"rgba(30, 41, 59, 0.5)",borderRadius:"16px",border:`1px dashed ${ce.border}`,display:"flex",flexDirection:"column",alignItems:"center"},children:[R.jsx("div",{style:{fontSize:"40px",marginBottom:"16px",opacity:.5},children:""}),R.jsx("h3",{style:{fontSize:"18px",fontWeight:"700",color:ce.text,margin:"0 0 8px 0"},children:"No Active Sessions"}),R.jsx("p",{style:{color:ce.textMuted,fontSize:"14px"},children:"There are no sessions currently running."})]}),b.map(X=>R.jsxs("div",{style:{...Fe},children:[R.jsx("div",{style:{position:"absolute",top:0,bottom:0,left:0,width:"6px",background:X.type==="IN"?ce.success:ce.error}}),R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"16px",paddingLeft:"12px"},children:[R.jsxs("div",{children:[R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[R.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"10px",fontWeight:"800",textTransform:"uppercase",letterSpacing:"0.5px",background:X.type==="IN"?"rgba(16, 185, 129, 0.1)":"rgba(239, 68, 68, 0.1)",color:X.type==="IN"?ce.success:ce.error,border:`1px solid ${X.type==="IN"?"rgba(16, 185, 129, 0.2)":"rgba(239, 68, 68, 0.2)"}`},children:X.type==="IN"?" STOCK IN":" DISPATCH"}),R.jsx("span",{style:{fontSize:"11px",color:ce.textMuted,fontFamily:"monospace"},children:new Date(X.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),R.jsxs("h2",{style:{fontSize:"28px",fontWeight:"800",color:"white",margin:0,lineHeight:1},children:["Size ",R.jsx("span",{style:{color:ce.accent},children:X.targetSize})]}),R.jsxs("div",{style:{fontSize:"12px",color:ce.textMuted,fontWeight:"500",marginTop:"4px"},children:["By ",X.createdBy]})]}),R.jsx("div",{style:{textAlign:"right"},children:R.jsxs("div",{style:{background:"rgba(15, 23, 42, 0.5)",padding:"8px 12px",borderRadius:"8px",border:`1px solid ${ce.border}`,backdropFilter:"blur(4px)"},children:[R.jsx("div",{style:{fontSize:"20px",fontWeight:"700",color:"white",textAlign:"center",lineHeight:1,marginBottom:"2px"},children:X.activeScanners?X.activeScanners.length:0}),R.jsx("div",{style:{fontSize:"9px",fontWeight:"700",color:ce.textMuted,textTransform:"uppercase"},children:"DEVICES"})]})})]}),R.jsxs("div",{style:{paddingLeft:"12px",marginTop:"16px",paddingTop:"16px",borderTop:"1px solid rgba(255,255,255,0.05)",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[R.jsx("div",{style:{display:"flex",marginLeft:"8px"},children:[...Array(Math.min(3,X.activeScanners?.length||0))].map((Oe,Ge)=>R.jsx("div",{style:{width:"24px",height:"24px",borderRadius:"50%",background:"#334155",border:"2px solid #1e293b",marginLeft:"-8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",color:"white"},children:""},Ge))}),R.jsxs("button",{onClick:()=>de(X),style:{padding:"10px 24px",background:ce.accent,color:"white",border:"none",borderRadius:"10px",fontWeight:"700",fontSize:"14px",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",boxShadow:"0 4px 10px rgba(99, 102, 241, 0.3)"},children:["JOIN SESSION ",R.jsx("span",{children:""})]})]})]},X._id))]}),R.jsx("div",{style:{position:"fixed",bottom:0,left:0,right:0,padding:"20px",background:"linear-gradient(to top, #0f172a, rgba(15, 23, 42, 0))",pointerEvents:"none"},children:R.jsxs("button",{onClick:()=>w(!0),style:{...Me(),pointerEvents:"auto"},children:[R.jsx("span",{style:{fontSize:"20px"},children:"+"}),"START NEW SESSION"]})}),I&&R.jsx("div",{style:P,children:R.jsxs("div",{style:{...Re,position:"relative"},children:[R.jsx("button",{onClick:()=>w(!1),style:{position:"absolute",top:"16px",right:"16px",background:"transparent",border:"none",color:ce.textMuted,fontSize:"20px"},children:""}),R.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[R.jsx("div",{style:{width:"48px",height:"48px",margin:"0 auto 16px",borderRadius:"50%",background:"rgba(99, 102, 241, 0.2)",color:ce.accent,display:"flex",alignItems:"center",justifyContent:"center"},children:R.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[R.jsx("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),R.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]})}),R.jsx("h2",{style:{fontSize:"20px",fontWeight:"800",color:"white",margin:0},children:"Start New Session"}),R.jsx("p",{style:{color:ce.textMuted,fontSize:"13px",marginTop:"4px"},children:"Configure operation details"})]}),R.jsxs("form",{onSubmit:ae,children:[R.jsxs("div",{style:{marginBottom:"20px"},children:[R.jsx("label",{style:{display:"block",color:ce.textMuted,fontSize:"11px",fontWeight:"700",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"1px"},children:"Operation Type"}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[R.jsxs("button",{type:"button",onClick:()=>M("IN"),style:{padding:"16px",borderRadius:"12px",border:`2px solid ${D==="IN"?ce.success:"transparent"}`,background:D==="IN"?"rgba(16, 185, 129, 0.1)":ce.primary,color:D==="IN"?ce.success:ce.textMuted,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",cursor:"pointer",fontWeight:"700"},children:[R.jsx("span",{style:{fontSize:"20px"},children:""}),R.jsx("span",{children:"STOCK IN"})]}),R.jsxs("button",{type:"button",onClick:()=>M("OUT"),style:{padding:"16px",borderRadius:"12px",border:`2px solid ${D==="OUT"?ce.error:"transparent"}`,background:D==="OUT"?"rgba(239, 68, 68, 0.1)":ce.primary,color:D==="OUT"?ce.error:ce.textMuted,display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",cursor:"pointer",fontWeight:"700"},children:[R.jsx("span",{style:{fontSize:"20px"},children:""}),R.jsx("span",{children:"DISPATCH"})]})]})]}),R.jsxs("div",{style:{marginBottom:"24px"},children:[R.jsx("label",{style:{display:"block",color:ce.textMuted,fontSize:"11px",fontWeight:"700",textTransform:"uppercase",marginBottom:"8px",letterSpacing:"1px"},children:"Target Size"}),R.jsxs("select",{value:te,onChange:X=>$(X.target.value),style:{width:"100%",padding:"16px",background:ce.primary,border:`1px solid ${ce.border}`,borderRadius:"12px",color:"white",fontSize:"16px",fontWeight:"700",outline:"none"},children:[W.map(X=>R.jsx("option",{value:X.code,children:X.code},X._id)),W.length===0&&R.jsx("option",{value:"40",children:"40"})]})]}),R.jsx("button",{type:"submit",style:Me(ce.accent),children:"START SESSION"})]})]})})]})},Vy=({children:u,isLoading:d=!1})=>{const[h,p]=H.useState({top:0,bottom:0,left:0,right:0});return H.useEffect(()=>{const b=parseInt(getComputedStyle(document.documentElement).getPropertyValue("env(safe-area-inset-top)"))||0,E=parseInt(getComputedStyle(document.documentElement).getPropertyValue("env(safe-area-inset-bottom)"))||0;p({top:b,bottom:E,left:0,right:0})},[]),R.jsxs("div",{className:"min-h-screen bg-primary text-textPrimary flex flex-col overflow-hidden",style:{paddingTop:`${h.top}px`,paddingBottom:`${h.bottom}px`},children:[d&&R.jsx("div",{className:"absolute inset-0 z-50 bg-primary/80 backdrop-blur-sm flex items-center justify-center",children:R.jsxs("div",{className:"text-center",children:[R.jsx("div",{className:"w-12 h-12 rounded-full border-3 border-accent/30 border-t-accent animate-spin mx-auto mb-3"}),R.jsx("p",{className:"text-sm font-medium text-textSecondary",children:"Loading..."})]})}),u,R.jsx(xy,{})]})},s2=({children:u})=>localStorage.getItem("employee")?u:R.jsx(e0,{to:"/pin",replace:!0}),Xy=({children:u})=>localStorage.getItem("active_session_id")?u:R.jsx(e0,{to:"/session",replace:!0});function Yy(){const{scannerId:u}=Hl();return u?R.jsxs(Np,{children:[R.jsx(ks,{path:"/pin",element:R.jsx(Py,{})}),R.jsx(ks,{path:"/session",element:R.jsx(s2,{children:R.jsx(Gy,{})})}),R.jsx(ks,{path:"/",element:R.jsx(s2,{children:R.jsx(Xy,{children:R.jsx(dy,{})})})}),R.jsx(ks,{path:"*",element:R.jsx(e0,{to:"/",replace:!0})})]}):R.jsx("div",{className:"transition-opacity duration-300 opacity-100",children:R.jsx(py,{})})}function Wy(){return R.jsx(z3,{children:R.jsx(Jp,{children:R.jsx(Vy,{children:R.jsx(Yy,{})})})})}_x.createRoot(document.getElementById("root")).render(R.jsx(H.StrictMode,{children:R.jsx(Ix,{children:R.jsx(Wy,{})})}));
